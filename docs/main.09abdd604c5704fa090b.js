(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},Ttfg:function(t,e,n){var i;!function(r,s){if(t.exports){var o=n("VphZ");t.exports=s(o)}else{try{o=n("VphZ")}catch(a){o=r.d3}o.contextMenu=s(o),void 0===(i=(function(){return o.contextMenu}).apply(e,[]))||(t.exports=i)}}(this,function(t){var e={noop:function(){},isFn:function(t){return"function"==typeof t},const:function(t){return function(){return t}},toFactory:function(t,n){return e.isFn(t=void 0===t?n:t)?t:e.const(t)}},n=null,i=function(){n&&(t.select(".d3-context-menu").remove(),t.select("body").on("mousedown.d3-context-menu",null),n.boundCloseCallback(),n=null)};return function(r,s){if("close"===r)return i();r=e.toFactory(r);var o=(s=e.isFn(s)?{onOpen:s}:s||{}).onOpen||e.noop,a=s.onClose||e.noop,l=e.toFactory(s.position),u=e.toFactory(s.theme,"d3-context-menu-theme");return function(s,c){var h,d,f,p=this;if(void 0===t.event?(d=c,f=h=s):(h=t.event,d=s,f=c),i(),n={boundCloseCallback:a.bind(p,d,f)},t.selectAll(".d3-context-menu").data([1]).enter().append("div").attr("class","d3-context-menu "+u.bind(p)(d,f)),t.select("body").on("mousedown.d3-context-menu",i),t.select("body").on("click.d3-context-menu",i),t.selectAll(".d3-context-menu").on("contextmenu",function(){i(),h.preventDefault(),h.stopPropagation()}).append("ul").call(function n(s,o,a=0){var l=function(t){return e.toFactory(t).call(o,d,f)};s.selectAll("li").data(function(t){return l(0===a?r:t.children)}).enter().append("li").each(function(e){var r=!!l(e.divider),s=!!l(e.disabled),u=!!l(e.children),c=!!e.action,h=!!e.className,p=r?"<hr>":l(e.title),g=t.select(this).classed("is-divider",r).classed("is-disabled",s).classed("is-header",!u&&!c).classed("is-parent",u).classed(l(e.className),h).html(p).on("click",function(){!s&&c&&(e.action.call(o,d,f),i())});if(u){var m=g.append("ul").classed("is-children",!0);n(m,o,++a)}})},p),!1!==o.bind(p)(d,f)){var g=l.bind(p)(d,f),m=document.documentElement,y=window.innerWidth||m.clientWidth,v=window.innerHeight||m.clientHeight,b="left",_="right",w=g?g.left:h.pageX-2;h.pageX>y/2&&(b="right",_="left",w=g?y-g.left:y-h.pageX-2);var x="top",C="bottom",S=g?g.top:h.pageY-2;h.pageY>v/2&&(x="bottom",C="top",S=g?v-g.top:v-h.pageY-2),t.select(".d3-context-menu").style(b,w+"px").style(_,null).style(x,S+"px").style(C,null).style("display","block"),h.preventDefault(),h.stopPropagation()}}}})},VphZ:function(t,e,n){"use strict";n.r(e),n.d(e,"version",function(){return i}),n.d(e,"bisect",function(){return u}),n.d(e,"bisectRight",function(){return a}),n.d(e,"bisectLeft",function(){return l}),n.d(e,"ascending",function(){return r}),n.d(e,"bisector",function(){return s}),n.d(e,"cross",function(){return d}),n.d(e,"descending",function(){return f}),n.d(e,"deviation",function(){return m}),n.d(e,"extent",function(){return y}),n.d(e,"histogram",function(){return I}),n.d(e,"thresholdFreedmanDiaconis",function(){return D}),n.d(e,"thresholdScott",function(){return P}),n.d(e,"thresholdSturges",function(){return N}),n.d(e,"max",function(){return R}),n.d(e,"mean",function(){return H}),n.d(e,"median",function(){return L}),n.d(e,"merge",function(){return F}),n.d(e,"min",function(){return V}),n.d(e,"pairs",function(){return c}),n.d(e,"permute",function(){return j}),n.d(e,"quantile",function(){return O}),n.d(e,"range",function(){return C}),n.d(e,"scan",function(){return z}),n.d(e,"shuffle",function(){return B}),n.d(e,"sum",function(){return U}),n.d(e,"ticks",function(){return T}),n.d(e,"tickIncrement",function(){return A}),n.d(e,"tickStep",function(){return M}),n.d(e,"transpose",function(){return q}),n.d(e,"variance",function(){return g}),n.d(e,"zip",function(){return W}),n.d(e,"axisTop",function(){return nt}),n.d(e,"axisRight",function(){return it}),n.d(e,"axisBottom",function(){return rt}),n.d(e,"axisLeft",function(){return st}),n.d(e,"brush",function(){return Ar}),n.d(e,"brushX",function(){return kr}),n.d(e,"brushY",function(){return Tr}),n.d(e,"brushSelection",function(){return Er}),n.d(e,"chord",function(){return Lr}),n.d(e,"ribbon",function(){return Xr}),n.d(e,"nest",function(){return is}),n.d(e,"set",function(){return hs}),n.d(e,"map",function(){return ns}),n.d(e,"keys",function(){return ds}),n.d(e,"values",function(){return fs}),n.d(e,"entries",function(){return ps}),n.d(e,"color",function(){return Ye}),n.d(e,"rgb",function(){return Ze}),n.d(e,"hsl",function(){return sn}),n.d(e,"lab",function(){return Ss}),n.d(e,"hcl",function(){return Os}),n.d(e,"lch",function(){return Is}),n.d(e,"gray",function(){return Cs}),n.d(e,"cubehelix",function(){return Bs}),n.d(e,"contours",function(){return Xs}),n.d(e,"contourDensity",function(){return ro}),n.d(e,"dispatch",function(){return dt}),n.d(e,"drag",function(){return ho}),n.d(e,"dragDisable",function(){return Te}),n.d(e,"dragEnable",function(){return Ae}),n.d(e,"dsvFormat",function(){return vo}),n.d(e,"csvParse",function(){return _o}),n.d(e,"csvParseRows",function(){return wo}),n.d(e,"csvFormat",function(){return xo}),n.d(e,"csvFormatBody",function(){return Co}),n.d(e,"csvFormatRows",function(){return So}),n.d(e,"csvFormatRow",function(){return Eo}),n.d(e,"csvFormatValue",function(){return ko}),n.d(e,"tsvParse",function(){return Ao}),n.d(e,"tsvParseRows",function(){return Mo}),n.d(e,"tsvFormat",function(){return No}),n.d(e,"tsvFormatBody",function(){return Io}),n.d(e,"tsvFormatRows",function(){return Oo}),n.d(e,"tsvFormatRow",function(){return Do}),n.d(e,"tsvFormatValue",function(){return Po}),n.d(e,"autoType",function(){return Ro}),n.d(e,"easeLinear",function(){return Lo}),n.d(e,"easeQuad",function(){return jo}),n.d(e,"easeQuadIn",function(){return Fo}),n.d(e,"easeQuadOut",function(){return Vo}),n.d(e,"easeQuadInOut",function(){return jo}),n.d(e,"easeCubic",function(){return Ki}),n.d(e,"easeCubicIn",function(){return Yi}),n.d(e,"easeCubicOut",function(){return Gi}),n.d(e,"easeCubicInOut",function(){return Ki}),n.d(e,"easePoly",function(){return Uo}),n.d(e,"easePolyIn",function(){return zo}),n.d(e,"easePolyOut",function(){return Bo}),n.d(e,"easePolyInOut",function(){return Uo}),n.d(e,"easeSin",function(){return Go}),n.d(e,"easeSinIn",function(){return Wo}),n.d(e,"easeSinOut",function(){return Yo}),n.d(e,"easeSinInOut",function(){return Go}),n.d(e,"easeExp",function(){return Xo}),n.d(e,"easeExpIn",function(){return Qo}),n.d(e,"easeExpOut",function(){return Zo}),n.d(e,"easeExpInOut",function(){return Xo}),n.d(e,"easeCircle",function(){return ea}),n.d(e,"easeCircleIn",function(){return Jo}),n.d(e,"easeCircleOut",function(){return ta}),n.d(e,"easeCircleInOut",function(){return ea}),n.d(e,"easeBounce",function(){return ra}),n.d(e,"easeBounceIn",function(){return ia}),n.d(e,"easeBounceOut",function(){return ra}),n.d(e,"easeBounceInOut",function(){return sa}),n.d(e,"easeBack",function(){return ua}),n.d(e,"easeBackIn",function(){return aa}),n.d(e,"easeBackOut",function(){return la}),n.d(e,"easeBackInOut",function(){return ua}),n.d(e,"easeElastic",function(){return da}),n.d(e,"easeElasticIn",function(){return ha}),n.d(e,"easeElasticOut",function(){return da}),n.d(e,"easeElasticInOut",function(){return fa}),n.d(e,"blob",function(){return ga}),n.d(e,"buffer",function(){return ya}),n.d(e,"dsv",function(){return wa}),n.d(e,"csv",function(){return xa}),n.d(e,"tsv",function(){return Ca}),n.d(e,"image",function(){return Sa}),n.d(e,"json",function(){return ka}),n.d(e,"text",function(){return ba}),n.d(e,"xml",function(){return Aa}),n.d(e,"html",function(){return Ma}),n.d(e,"svg",function(){return Na}),n.d(e,"forceCenter",function(){return Ia}),n.d(e,"forceCollide",function(){return qa}),n.d(e,"forceLink",function(){return Ya}),n.d(e,"forceManyBody",function(){return Xa}),n.d(e,"forceRadial",function(){return Ja}),n.d(e,"forceSimulation",function(){return Za}),n.d(e,"forceX",function(){return tl}),n.d(e,"forceY",function(){return el}),n.d(e,"formatDefaultLocale",function(){return yl}),n.d(e,"format",function(){return ul}),n.d(e,"formatPrefix",function(){return cl}),n.d(e,"formatLocale",function(){return ml}),n.d(e,"formatSpecifier",function(){return sl}),n.d(e,"FormatSpecifier",function(){return ol}),n.d(e,"precisionFixed",function(){return vl}),n.d(e,"precisionPrefix",function(){return bl}),n.d(e,"precisionRound",function(){return _l}),n.d(e,"geoArea",function(){return fu}),n.d(e,"geoBounds",function(){return sc}),n.d(e,"geoCentroid",function(){return yc}),n.d(e,"geoCircle",function(){return Ac}),n.d(e,"geoClipAntimeridian",function(){return jc}),n.d(e,"geoClipCircle",function(){return zc}),n.d(e,"geoClipExtent",function(){return Gc}),n.d(e,"geoClipRectangle",function(){return qc}),n.d(e,"geoContains",function(){return dh}),n.d(e,"geoDistance",function(){return ih}),n.d(e,"geoGraticule",function(){return gh}),n.d(e,"geoGraticule10",function(){return mh}),n.d(e,"geoInterpolate",function(){return wh}),n.d(e,"geoLength",function(){return th}),n.d(e,"geoPath",function(){return bd}),n.d(e,"geoAlbers",function(){return Fd}),n.d(e,"geoAlbersUsa",function(){return Vd}),n.d(e,"geoAzimuthalEqualArea",function(){return Ud}),n.d(e,"geoAzimuthalEqualAreaRaw",function(){return Bd}),n.d(e,"geoAzimuthalEquidistant",function(){return $d}),n.d(e,"geoAzimuthalEquidistantRaw",function(){return qd}),n.d(e,"geoConicConformal",function(){return Zd}),n.d(e,"geoConicConformalRaw",function(){return Qd}),n.d(e,"geoConicEqualArea",function(){return Ld}),n.d(e,"geoConicEqualAreaRaw",function(){return Hd}),n.d(e,"geoConicEquidistant",function(){return ef}),n.d(e,"geoConicEquidistantRaw",function(){return tf}),n.d(e,"geoEqualEarth",function(){return uf}),n.d(e,"geoEqualEarthRaw",function(){return lf}),n.d(e,"geoEquirectangular",function(){return Jd}),n.d(e,"geoEquirectangularRaw",function(){return Xd}),n.d(e,"geoGnomonic",function(){return hf}),n.d(e,"geoGnomonicRaw",function(){return cf}),n.d(e,"geoIdentity",function(){return df}),n.d(e,"geoProjection",function(){return Dd}),n.d(e,"geoProjectionMutator",function(){return Pd}),n.d(e,"geoMercator",function(){return Yd}),n.d(e,"geoMercatorRaw",function(){return Wd}),n.d(e,"geoNaturalEarth1",function(){return pf}),n.d(e,"geoNaturalEarth1Raw",function(){return ff}),n.d(e,"geoOrthographic",function(){return mf}),n.d(e,"geoOrthographicRaw",function(){return gf}),n.d(e,"geoStereographic",function(){return vf}),n.d(e,"geoStereographicRaw",function(){return yf}),n.d(e,"geoTransverseMercator",function(){return _f}),n.d(e,"geoTransverseMercatorRaw",function(){return bf}),n.d(e,"geoRotation",function(){return Ec}),n.d(e,"geoStream",function(){return su}),n.d(e,"geoTransform",function(){return _d}),n.d(e,"cluster",function(){return Sf}),n.d(e,"hierarchy",function(){return kf}),n.d(e,"pack",function(){return Zf}),n.d(e,"packSiblings",function(){return $f}),n.d(e,"packEnclose",function(){return Of}),n.d(e,"partition",function(){return ip}),n.d(e,"stratify",function(){return lp}),n.d(e,"tree",function(){return gp}),n.d(e,"treemap",function(){return _p}),n.d(e,"treemapBinary",function(){return wp}),n.d(e,"treemapDice",function(){return np}),n.d(e,"treemapSlice",function(){return mp}),n.d(e,"treemapSliceDice",function(){return xp}),n.d(e,"treemapSquarify",function(){return bp}),n.d(e,"treemapResquarify",function(){return Cp}),n.d(e,"interpolate",function(){return In}),n.d(e,"interpolateArray",function(){return wn}),n.d(e,"interpolateBasis",function(){return un}),n.d(e,"interpolateBasisClosed",function(){return cn}),n.d(e,"interpolateDate",function(){return En}),n.d(e,"interpolateDiscrete",function(){return Sp}),n.d(e,"interpolateHue",function(){return Ep}),n.d(e,"interpolateNumber",function(){return kn}),n.d(e,"interpolateNumberArray",function(){return bn}),n.d(e,"interpolateObject",function(){return Tn}),n.d(e,"interpolateRound",function(){return kp}),n.d(e,"interpolateString",function(){return Nn}),n.d(e,"interpolateTransformCss",function(){return pi}),n.d(e,"interpolateTransformSvg",function(){return gi}),n.d(e,"interpolateZoom",function(){return Mp}),n.d(e,"interpolateRgb",function(){return gn}),n.d(e,"interpolateRgbBasis",function(){return yn}),n.d(e,"interpolateRgbBasisClosed",function(){return vn}),n.d(e,"interpolateHsl",function(){return Ip}),n.d(e,"interpolateHslLong",function(){return Op}),n.d(e,"interpolateLab",function(){return Dp}),n.d(e,"interpolateHcl",function(){return Rp}),n.d(e,"interpolateHclLong",function(){return Hp}),n.d(e,"interpolateCubehelix",function(){return Fp}),n.d(e,"interpolateCubehelixLong",function(){return Vp}),n.d(e,"piecewise",function(){return jp}),n.d(e,"quantize",function(){return zp}),n.d(e,"path",function(){return Wr}),n.d(e,"polygonArea",function(){return Bp}),n.d(e,"polygonCentroid",function(){return Up}),n.d(e,"polygonHull",function(){return Wp}),n.d(e,"polygonContains",function(){return Yp}),n.d(e,"polygonLength",function(){return Gp}),n.d(e,"quadtree",function(){return Fa}),n.d(e,"randomUniform",function(){return Qp}),n.d(e,"randomNormal",function(){return Zp}),n.d(e,"randomLogNormal",function(){return Xp}),n.d(e,"randomBates",function(){return tg}),n.d(e,"randomIrwinHall",function(){return Jp}),n.d(e,"randomExponential",function(){return eg}),n.d(e,"scaleBand",function(){return ug}),n.d(e,"scalePoint",function(){return hg}),n.d(e,"scaleIdentity",function(){return Eg}),n.d(e,"scaleLinear",function(){return Sg}),n.d(e,"scaleLog",function(){return Pg}),n.d(e,"scaleSymlog",function(){return Fg}),n.d(e,"scaleOrdinal",function(){return lg}),n.d(e,"scaleImplicit",function(){return ag}),n.d(e,"scalePow",function(){return Ug}),n.d(e,"scaleSqrt",function(){return qg}),n.d(e,"scaleQuantile",function(){return $g}),n.d(e,"scaleQuantize",function(){return Wg}),n.d(e,"scaleThreshold",function(){return Yg}),n.d(e,"scaleTime",function(){return Hv}),n.d(e,"scaleUtc",function(){return Wv}),n.d(e,"scaleSequential",function(){return Kv}),n.d(e,"scaleSequentialLog",function(){return Qv}),n.d(e,"scaleSequentialPow",function(){return Xv}),n.d(e,"scaleSequentialSqrt",function(){return Jv}),n.d(e,"scaleSequentialSymlog",function(){return Zv}),n.d(e,"scaleSequentialQuantile",function(){return tb}),n.d(e,"scaleDiverging",function(){return nb}),n.d(e,"scaleDivergingLog",function(){return ib}),n.d(e,"scaleDivergingPow",function(){return sb}),n.d(e,"scaleDivergingSqrt",function(){return ob}),n.d(e,"scaleDivergingSymlog",function(){return rb}),n.d(e,"tickFormat",function(){return xg}),n.d(e,"schemeCategory10",function(){return lb}),n.d(e,"schemeAccent",function(){return ub}),n.d(e,"schemeDark2",function(){return cb}),n.d(e,"schemePaired",function(){return hb}),n.d(e,"schemePastel1",function(){return db}),n.d(e,"schemePastel2",function(){return fb}),n.d(e,"schemeSet1",function(){return pb}),n.d(e,"schemeSet2",function(){return gb}),n.d(e,"schemeSet3",function(){return mb}),n.d(e,"schemeTableau10",function(){return yb}),n.d(e,"interpolateBrBG",function(){return _b}),n.d(e,"schemeBrBG",function(){return bb}),n.d(e,"interpolatePRGn",function(){return xb}),n.d(e,"schemePRGn",function(){return wb}),n.d(e,"interpolatePiYG",function(){return Sb}),n.d(e,"schemePiYG",function(){return Cb}),n.d(e,"interpolatePuOr",function(){return kb}),n.d(e,"schemePuOr",function(){return Eb}),n.d(e,"interpolateRdBu",function(){return Ab}),n.d(e,"schemeRdBu",function(){return Tb}),n.d(e,"interpolateRdGy",function(){return Nb}),n.d(e,"schemeRdGy",function(){return Mb}),n.d(e,"interpolateRdYlBu",function(){return Ob}),n.d(e,"schemeRdYlBu",function(){return Ib}),n.d(e,"interpolateRdYlGn",function(){return Pb}),n.d(e,"schemeRdYlGn",function(){return Db}),n.d(e,"interpolateSpectral",function(){return Hb}),n.d(e,"schemeSpectral",function(){return Rb}),n.d(e,"interpolateBuGn",function(){return Fb}),n.d(e,"schemeBuGn",function(){return Lb}),n.d(e,"interpolateBuPu",function(){return jb}),n.d(e,"schemeBuPu",function(){return Vb}),n.d(e,"interpolateGnBu",function(){return Bb}),n.d(e,"schemeGnBu",function(){return zb}),n.d(e,"interpolateOrRd",function(){return qb}),n.d(e,"schemeOrRd",function(){return Ub}),n.d(e,"interpolatePuBuGn",function(){return Wb}),n.d(e,"schemePuBuGn",function(){return $b}),n.d(e,"interpolatePuBu",function(){return Gb}),n.d(e,"schemePuBu",function(){return Yb}),n.d(e,"interpolatePuRd",function(){return Qb}),n.d(e,"schemePuRd",function(){return Kb}),n.d(e,"interpolateRdPu",function(){return Xb}),n.d(e,"schemeRdPu",function(){return Zb}),n.d(e,"interpolateYlGnBu",function(){return t_}),n.d(e,"schemeYlGnBu",function(){return Jb}),n.d(e,"interpolateYlGn",function(){return n_}),n.d(e,"schemeYlGn",function(){return e_}),n.d(e,"interpolateYlOrBr",function(){return r_}),n.d(e,"schemeYlOrBr",function(){return i_}),n.d(e,"interpolateYlOrRd",function(){return o_}),n.d(e,"schemeYlOrRd",function(){return s_}),n.d(e,"interpolateBlues",function(){return l_}),n.d(e,"schemeBlues",function(){return a_}),n.d(e,"interpolateGreens",function(){return c_}),n.d(e,"schemeGreens",function(){return u_}),n.d(e,"interpolateGreys",function(){return d_}),n.d(e,"schemeGreys",function(){return h_}),n.d(e,"interpolatePurples",function(){return p_}),n.d(e,"schemePurples",function(){return f_}),n.d(e,"interpolateReds",function(){return m_}),n.d(e,"schemeReds",function(){return g_}),n.d(e,"interpolateOranges",function(){return v_}),n.d(e,"schemeOranges",function(){return y_}),n.d(e,"interpolateCividis",function(){return b_}),n.d(e,"interpolateCubehelixDefault",function(){return __}),n.d(e,"interpolateRainbow",function(){return S_}),n.d(e,"interpolateWarm",function(){return w_}),n.d(e,"interpolateCool",function(){return x_}),n.d(e,"interpolateSinebow",function(){return A_}),n.d(e,"interpolateTurbo",function(){return M_}),n.d(e,"interpolateViridis",function(){return I_}),n.d(e,"interpolateMagma",function(){return O_}),n.d(e,"interpolateInferno",function(){return D_}),n.d(e,"interpolatePlasma",function(){return P_}),n.d(e,"create",function(){return R_}),n.d(e,"creator",function(){return re}),n.d(e,"local",function(){return L_}),n.d(e,"matcher",function(){return yt}),n.d(e,"mouse",function(){return Rn}),n.d(e,"namespace",function(){return Et}),n.d(e,"namespaces",function(){return St}),n.d(e,"clientPoint",function(){return Dn}),n.d(e,"select",function(){return Se}),n.d(e,"selectAll",function(){return V_}),n.d(e,"selection",function(){return Ce}),n.d(e,"selector",function(){return pt}),n.d(e,"selectorAll",function(){return mt}),n.d(e,"style",function(){return Ht}),n.d(e,"touch",function(){return Pn}),n.d(e,"touches",function(){return j_}),n.d(e,"window",function(){return Ot}),n.d(e,"event",function(){return ce}),n.d(e,"customEvent",function(){return me}),n.d(e,"arc",function(){return lw}),n.d(e,"area",function(){return pw}),n.d(e,"line",function(){return fw}),n.d(e,"pie",function(){return yw}),n.d(e,"areaRadial",function(){return Cw}),n.d(e,"radialArea",function(){return Cw}),n.d(e,"lineRadial",function(){return xw}),n.d(e,"radialLine",function(){return xw}),n.d(e,"pointRadial",function(){return Sw}),n.d(e,"linkHorizontal",function(){return Ow}),n.d(e,"linkVertical",function(){return Dw}),n.d(e,"linkRadial",function(){return Pw}),n.d(e,"symbol",function(){return Jw}),n.d(e,"symbols",function(){return Xw}),n.d(e,"symbolCircle",function(){return Rw}),n.d(e,"symbolCross",function(){return Hw}),n.d(e,"symbolDiamond",function(){return Vw}),n.d(e,"symbolSquare",function(){return qw}),n.d(e,"symbolStar",function(){return Uw}),n.d(e,"symbolTriangle",function(){return Ww}),n.d(e,"symbolWye",function(){return Zw}),n.d(e,"curveBasisClosed",function(){return sx}),n.d(e,"curveBasisOpen",function(){return ax}),n.d(e,"curveBasis",function(){return ix}),n.d(e,"curveBundle",function(){return ux}),n.d(e,"curveCardinalClosed",function(){return px}),n.d(e,"curveCardinalOpen",function(){return mx}),n.d(e,"curveCardinal",function(){return dx}),n.d(e,"curveCatmullRomClosed",function(){return wx}),n.d(e,"curveCatmullRomOpen",function(){return Cx}),n.d(e,"curveCatmullRom",function(){return bx}),n.d(e,"curveLinearClosed",function(){return Ex}),n.d(e,"curveLinear",function(){return cw}),n.d(e,"curveMonotoneX",function(){return Dx}),n.d(e,"curveMonotoneY",function(){return Px}),n.d(e,"curveNatural",function(){return Lx}),n.d(e,"curveStep",function(){return Vx}),n.d(e,"curveStepAfter",function(){return zx}),n.d(e,"curveStepBefore",function(){return jx}),n.d(e,"stack",function(){return $x}),n.d(e,"stackOffsetExpand",function(){return Wx}),n.d(e,"stackOffsetDiverging",function(){return Yx}),n.d(e,"stackOffsetNone",function(){return Bx}),n.d(e,"stackOffsetSilhouette",function(){return Gx}),n.d(e,"stackOffsetWiggle",function(){return Kx}),n.d(e,"stackOrderAppearance",function(){return Qx}),n.d(e,"stackOrderAscending",function(){return Xx}),n.d(e,"stackOrderDescending",function(){return tC}),n.d(e,"stackOrderInsideOut",function(){return eC}),n.d(e,"stackOrderNone",function(){return Ux}),n.d(e,"stackOrderReverse",function(){return nC}),n.d(e,"timeInterval",function(){return Qg}),n.d(e,"timeMillisecond",function(){return Hm}),n.d(e,"timeMilliseconds",function(){return Lm}),n.d(e,"utcMillisecond",function(){return Hm}),n.d(e,"utcMilliseconds",function(){return Lm}),n.d(e,"timeSecond",function(){return Dm}),n.d(e,"timeSeconds",function(){return Pm}),n.d(e,"utcSecond",function(){return Dm}),n.d(e,"utcSeconds",function(){return Pm}),n.d(e,"timeMinute",function(){return Nm}),n.d(e,"timeMinutes",function(){return Im}),n.d(e,"timeHour",function(){return Tm}),n.d(e,"timeHours",function(){return Am}),n.d(e,"timeDay",function(){return Sm}),n.d(e,"timeDays",function(){return Em}),n.d(e,"timeWeek",function(){return um}),n.d(e,"timeWeeks",function(){return mm}),n.d(e,"timeSunday",function(){return um}),n.d(e,"timeSundays",function(){return mm}),n.d(e,"timeMonday",function(){return cm}),n.d(e,"timeMondays",function(){return ym}),n.d(e,"timeTuesday",function(){return hm}),n.d(e,"timeTuesdays",function(){return vm}),n.d(e,"timeWednesday",function(){return dm}),n.d(e,"timeWednesdays",function(){return bm}),n.d(e,"timeThursday",function(){return fm}),n.d(e,"timeThursdays",function(){return _m}),n.d(e,"timeFriday",function(){return pm}),n.d(e,"timeFridays",function(){return wm}),n.d(e,"timeSaturday",function(){return gm}),n.d(e,"timeSaturdays",function(){return xm}),n.d(e,"timeMonth",function(){return em}),n.d(e,"timeMonths",function(){return nm}),n.d(e,"timeYear",function(){return Xg}),n.d(e,"timeYears",function(){return Jg}),n.d(e,"utcMinute",function(){return qv}),n.d(e,"utcMinutes",function(){return $v}),n.d(e,"utcHour",function(){return zv}),n.d(e,"utcHours",function(){return Bv}),n.d(e,"utcDay",function(){return ty}),n.d(e,"utcDays",function(){return ey}),n.d(e,"utcWeek",function(){return Vm}),n.d(e,"utcWeeks",function(){return Wm}),n.d(e,"utcSunday",function(){return Vm}),n.d(e,"utcSundays",function(){return Wm}),n.d(e,"utcMonday",function(){return jm}),n.d(e,"utcMondays",function(){return Ym}),n.d(e,"utcTuesday",function(){return zm}),n.d(e,"utcTuesdays",function(){return Gm}),n.d(e,"utcWednesday",function(){return Bm}),n.d(e,"utcWednesdays",function(){return Km}),n.d(e,"utcThursday",function(){return Um}),n.d(e,"utcThursdays",function(){return Qm}),n.d(e,"utcFriday",function(){return qm}),n.d(e,"utcFridays",function(){return Zm}),n.d(e,"utcSaturday",function(){return $m}),n.d(e,"utcSaturdays",function(){return Xm}),n.d(e,"utcMonth",function(){return Fv}),n.d(e,"utcMonths",function(){return Vv}),n.d(e,"utcYear",function(){return iy}),n.d(e,"utcYears",function(){return ry}),n.d(e,"timeFormatDefaultLocale",function(){return Iv}),n.d(e,"timeFormat",function(){return cy}),n.d(e,"timeParse",function(){return hy}),n.d(e,"utcFormat",function(){return dy}),n.d(e,"utcParse",function(){return fy}),n.d(e,"timeFormatLocale",function(){return ly}),n.d(e,"isoFormat",function(){return rC}),n.d(e,"isoParse",function(){return sC}),n.d(e,"now",function(){return qn}),n.d(e,"timer",function(){return Yn}),n.d(e,"timerFlush",function(){return Gn}),n.d(e,"timeout",function(){return Xn}),n.d(e,"interval",function(){return oC}),n.d(e,"transition",function(){return qi}),n.d(e,"active",function(){return Ji}),n.d(e,"interrupt",function(){return ui}),n.d(e,"voronoi",function(){return $C}),n.d(e,"zoom",function(){return sS}),n.d(e,"zoomTransform",function(){return QC}),n.d(e,"zoomIdentity",function(){return KC});var i="5.16.0",r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},s=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return r(e(t),n)}),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var s=i+r>>>1;t(e[s],n)<0?i=s+1:r=s}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var s=i+r>>>1;t(e[s],n)>0?r=s:i=s+1}return i}}},o=s(r),a=o.right,l=o.left,u=a,c=function(t,e){null==e&&(e=h);for(var n=0,i=t.length-1,r=t[0],s=new Array(i<0?0:i);n<i;)s[n]=e(r,r=t[++n]);return s};function h(t,e){return[t,e]}var d=function(t,e,n){var i,r,s,o,a=t.length,l=e.length,u=new Array(a*l);for(null==n&&(n=h),i=s=0;i<a;++i)for(o=t[i],r=0;r<l;++r,++s)u[s]=n(o,e[r]);return u},f=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},p=function(t){return null===t?NaN:+t},g=function(t,e){var n,i,r=t.length,s=0,o=-1,a=0,l=0;if(null==e)for(;++o<r;)isNaN(n=p(t[o]))||(l+=(i=n-a)*(n-(a+=i/++s)));else for(;++o<r;)isNaN(n=p(e(t[o],o,t)))||(l+=(i=n-a)*(n-(a+=i/++s)));if(s>1)return l/(s-1)},m=function(t,e){var n=g(t,e);return n?Math.sqrt(n):n},y=function(t,e){var n,i,r,s=t.length,o=-1;if(null==e){for(;++o<s;)if(null!=(n=t[o])&&n>=n)for(i=r=n;++o<s;)null!=(n=t[o])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++o<s;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=r=n;++o<s;)null!=(n=e(t[o],o,t))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]},v=Array.prototype,b=v.slice,_=v.map,w=function(t){return function(){return t}},x=function(t){return t},C=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),s=new Array(r);++i<r;)s[i]=t+i*n;return s},S=Math.sqrt(50),E=Math.sqrt(10),k=Math.sqrt(2),T=function(t,e,n){var i,r,s,o,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(o=A(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),s=new Array(r=Math.ceil(e-t+1));++a<r;)s[a]=(t+a)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),s=new Array(r=Math.ceil(t-e+1));++a<r;)s[a]=(t-a)/o;return i&&s.reverse(),s};function A(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,r);return r>=0?(s>=S?10:s>=E?5:s>=k?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(s>=S?10:s>=E?5:s>=k?2:1)}function M(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/r;return s>=S?r*=10:s>=E?r*=5:s>=k&&(r*=2),e<t?-r:r}var N=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},I=function(){var t=x,e=y,n=N;function i(i){var r,s,o=i.length,a=new Array(o);for(r=0;r<o;++r)a[r]=t(i[r],r,i);var l=e(a),c=l[0],h=l[1],d=n(a,c,h);Array.isArray(d)||(d=M(c,h,d),d=C(Math.ceil(c/d)*d,h,d));for(var f=d.length;d[0]<=c;)d.shift(),--f;for(;d[f-1]>h;)d.pop(),--f;var p,g=new Array(f+1);for(r=0;r<=f;++r)(p=g[r]=[]).x0=r>0?d[r-1]:c,p.x1=r<f?d[r]:h;for(r=0;r<o;++r)c<=(s=a[r])&&s<=h&&g[u(d,s,0,f)].push(i[r]);return g}return i.value=function(e){return arguments.length?(t="function"==typeof e?e:w(e),i):t},i.domain=function(t){return arguments.length?(e="function"==typeof t?t:w([t[0],t[1]]),i):e},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?w(b.call(t)):w(t),i):n},i},O=function(t,e,n){if(null==n&&(n=p),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,s=Math.floor(r),o=+n(t[s],s,t);return o+(+n(t[s+1],s+1,t)-o)*(r-s)}},D=function(t,e,n){return t=_.call(t,p).sort(r),Math.ceil((n-e)/(2*(O(t,.75)-O(t,.25))*Math.pow(t.length,-1/3)))},P=function(t,e,n){return Math.ceil((n-e)/(3.5*m(t)*Math.pow(t.length,-1/3)))},R=function(t,e){var n,i,r=t.length,s=-1;if(null==e){for(;++s<r;)if(null!=(n=t[s])&&n>=n)for(i=n;++s<r;)null!=(n=t[s])&&n>i&&(i=n)}else for(;++s<r;)if(null!=(n=e(t[s],s,t))&&n>=n)for(i=n;++s<r;)null!=(n=e(t[s],s,t))&&n>i&&(i=n);return i},H=function(t,e){var n,i=t.length,r=i,s=-1,o=0;if(null==e)for(;++s<i;)isNaN(n=p(t[s]))?--r:o+=n;else for(;++s<i;)isNaN(n=p(e(t[s],s,t)))?--r:o+=n;if(r)return o/r},L=function(t,e){var n,i=t.length,s=-1,o=[];if(null==e)for(;++s<i;)isNaN(n=p(t[s]))||o.push(n);else for(;++s<i;)isNaN(n=p(e(t[s],s,t)))||o.push(n);return O(o.sort(r),.5)},F=function(t){for(var e,n,i,r=t.length,s=-1,o=0;++s<r;)o+=t[s].length;for(n=new Array(o);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--o]=i[e];return n},V=function(t,e){var n,i,r=t.length,s=-1;if(null==e){for(;++s<r;)if(null!=(n=t[s])&&n>=n)for(i=n;++s<r;)null!=(n=t[s])&&i>n&&(i=n)}else for(;++s<r;)if(null!=(n=e(t[s],s,t))&&n>=n)for(i=n;++s<r;)null!=(n=e(t[s],s,t))&&i>n&&(i=n);return i},j=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},z=function(t,e){if(n=t.length){var n,i,s=0,o=0,a=t[o];for(null==e&&(e=r);++s<n;)(e(i=t[s],a)<0||0!==e(a,a))&&(a=i,o=s);return 0===e(a,a)?o:void 0}},B=function(t,e,n){for(var i,r,s=(null==n?t.length:n)-(e=null==e?0:+e);s;)r=Math.random()*s--|0,i=t[s+e],t[s+e]=t[r+e],t[r+e]=i;return t},U=function(t,e){var n,i=t.length,r=-1,s=0;if(null==e)for(;++r<i;)(n=+t[r])&&(s+=n);else for(;++r<i;)(n=+e(t[r],r,t))&&(s+=n);return s},q=function(t){if(!(r=t.length))return[];for(var e=-1,n=V(t,$),i=new Array(n);++e<n;)for(var r,s=-1,o=i[e]=new Array(r);++s<r;)o[s]=t[s][e];return i};function $(t){return t.length}var W=function(){return q(arguments)},Y=Array.prototype.slice,G=function(t){return t},K=1e-6;function Q(t){return"translate("+(t+.5)+",0)"}function Z(t){return"translate(0,"+(t+.5)+")"}function X(t){return function(e){return+t(e)}}function J(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function tt(){return!this.__axis}function et(t,e){var n=[],i=null,r=null,s=6,o=6,a=3,l=1===t||4===t?-1:1,u=4===t||2===t?"x":"y",c=1===t||3===t?Q:Z;function h(h){var d=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,f=null==r?e.tickFormat?e.tickFormat.apply(e,n):G:r,p=Math.max(s,0)+a,g=e.range(),m=+g[0]+.5,y=+g[g.length-1]+.5,v=(e.bandwidth?J:X)(e.copy()),b=h.selection?h.selection():h,_=b.selectAll(".domain").data([null]),w=b.selectAll(".tick").data(d,e).order(),x=w.exit(),C=w.enter().append("g").attr("class","tick"),S=w.select("line"),E=w.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(C),S=S.merge(C.append("line").attr("stroke","currentColor").attr(u+"2",l*s)),E=E.merge(C.append("text").attr("fill","currentColor").attr(u,l*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==b&&(_=_.transition(h),w=w.transition(h),S=S.transition(h),E=E.transition(h),x=x.transition(h).attr("opacity",K).attr("transform",function(t){return isFinite(t=v(t))?c(t):this.getAttribute("transform")}),C.attr("opacity",K).attr("transform",function(t){var e=this.parentNode.__axis;return c(e&&isFinite(e=e(t))?e:v(t))})),x.remove(),_.attr("d",4===t||2==t?o?"M"+l*o+","+m+"H0.5V"+y+"H"+l*o:"M0.5,"+m+"V"+y:o?"M"+m+","+l*o+"V0.5H"+y+"V"+l*o:"M"+m+",0.5H"+y),w.attr("opacity",1).attr("transform",function(t){return c(v(t))}),S.attr(u+"2",l*s),E.attr(u,l*p).text(f),b.filter(tt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each(function(){this.__axis=v})}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=Y.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:Y.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(i=null==t?null:Y.call(t),h):i&&i.slice()},h.tickFormat=function(t){return arguments.length?(r=t,h):r},h.tickSize=function(t){return arguments.length?(s=o=+t,h):s},h.tickSizeInner=function(t){return arguments.length?(s=+t,h):s},h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o},h.tickPadding=function(t){return arguments.length?(a=+t,h):a},h}function nt(t){return et(1,t)}function it(t){return et(2,t)}function rt(t){return et(3,t)}function st(t){return et(4,t)}var ot={value:function(){}};function at(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new lt(i)}function lt(t){this._=t}function ut(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function ct(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function ht(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=ot,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}lt.prototype=at.prototype={constructor:lt,on:function(t,e){var n,i=this._,r=ut(t+"",i),s=-1,o=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<o;)if(n=(t=r[s]).type)i[n]=ht(i[n],t.name,e);else if(null==e)for(n in i)i[n]=ht(i[n],t.name,null);return this}for(;++s<o;)if((n=(t=r[s]).type)&&(n=ct(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new lt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),s=0;s<n;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=0,n=(i=this._[t]).length;s<n;++s)i[s].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)}};var dt=at;function ft(){}var pt=function(t){return null==t?ft:function(){return this.querySelector(t)}};function gt(){return[]}var mt=function(t){return null==t?gt:function(){return this.querySelectorAll(t)}},yt=function(t){return function(){return this.matches(t)}},vt=function(t){return new Array(t.length)};function bt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function _t(t,e,n,i,r,s){for(var o,a=0,l=e.length,u=s.length;a<u;++a)(o=e[a])?(o.__data__=s[a],i[a]=o):n[a]=new bt(t,s[a]);for(;a<l;++a)(o=e[a])&&(r[a]=o)}function wt(t,e,n,i,r,s,o){var a,l,u,c={},h=e.length,d=s.length,f=new Array(h);for(a=0;a<h;++a)(l=e[a])&&(f[a]=u="$"+o.call(l,l.__data__,a,e),u in c?r[a]=l:c[u]=l);for(a=0;a<d;++a)(l=c[u="$"+o.call(t,s[a],a,s)])?(i[a]=l,l.__data__=s[a],c[u]=null):n[a]=new bt(t,s[a]);for(a=0;a<h;++a)(l=e[a])&&c[f[a]]===l&&(r[a]=l)}function xt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}bt.prototype={constructor:bt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ct="http://www.w3.org/1999/xhtml",St={svg:"http://www.w3.org/2000/svg",xhtml:Ct,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Et=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),St.hasOwnProperty(e)?{space:St[e],local:t}:t};function kt(t){return function(){this.removeAttribute(t)}}function Tt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function At(t,e){return function(){this.setAttribute(t,e)}}function Mt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Nt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function It(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var Ot=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Dt(t){return function(){this.style.removeProperty(t)}}function Pt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Rt(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Ht(t,e){return t.style.getPropertyValue(e)||Ot(t).getComputedStyle(t,null).getPropertyValue(e)}function Lt(t){return function(){delete this[t]}}function Ft(t,e){return function(){this[t]=e}}function Vt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function jt(t){return t.trim().split(/^|\s+/)}function zt(t){return t.classList||new Bt(t)}function Bt(t){this._node=t,this._names=jt(t.getAttribute("class")||"")}function Ut(t,e){for(var n=zt(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function qt(t,e){for(var n=zt(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function $t(t){return function(){Ut(this,t)}}function Wt(t){return function(){qt(this,t)}}function Yt(t,e){return function(){(e.apply(this,arguments)?Ut:qt)(this,t)}}function Gt(){this.textContent=""}function Kt(t){return function(){this.textContent=t}}function Qt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Zt(){this.innerHTML=""}function Xt(t){return function(){this.innerHTML=t}}function Jt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function te(){this.nextSibling&&this.parentNode.appendChild(this)}function ee(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ne(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ct&&e.documentElement.namespaceURI===Ct?e.createElement(t):e.createElementNS(n,t)}}function ie(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}Bt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var re=function(t){var e=Et(t);return(e.local?ie:ne)(e)};function se(){return null}function oe(){var t=this.parentNode;t&&t.removeChild(this)}function ae(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function le(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var ue={},ce=null;function he(t,e,n){return t=de(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function de(t,e,n){return function(i){var r=ce;ce=i;try{t.call(this,this.__data__,e,n)}finally{ce=r}}}function fe(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function pe(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,s=e.length;i<s;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function ge(t,e,n){var i=ue.hasOwnProperty(t.type)?he:de;return function(r,s,o){var a,l=this.__on,u=i(e,s,o);if(l)for(var c=0,h=l.length;c<h;++c)if((a=l[c]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=u,a.capture=n),void(a.value=e);this.addEventListener(t.type,u,n),a={type:t.type,name:t.name,value:e,listener:u,capture:n},l?l.push(a):this.__on=[a]}}function me(t,e,n,i){var r=ce;t.sourceEvent=ce,ce=t;try{return e.apply(n,i)}finally{ce=r}}function ye(t,e,n){var i=Ot(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function ve(t,e){return function(){return ye(this,t,e)}}function be(t,e){return function(){return ye(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ue={mouseenter:"mouseover",mouseleave:"mouseout"}));var _e=[null];function we(t,e){this._groups=t,this._parents=e}function xe(){return new we([[document.documentElement]],_e)}we.prototype=xe.prototype={constructor:we,select:function(t){"function"!=typeof t&&(t=pt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s,o,a=e[r],l=a.length,u=i[r]=new Array(l),c=0;c<l;++c)(s=a[c])&&(o=t.call(s,s.__data__,c,a))&&("__data__"in s&&(o.__data__=s.__data__),u[c]=o);return new we(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=mt(t));for(var e=this._groups,n=e.length,i=[],r=[],s=0;s<n;++s)for(var o,a=e[s],l=a.length,u=0;u<l;++u)(o=a[u])&&(i.push(t.call(o,o.__data__,u,a)),r.push(o));return new we(i,r)},filter:function(t){"function"!=typeof t&&(t=yt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s,o=e[r],a=o.length,l=i[r]=[],u=0;u<a;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&l.push(s);return new we(i,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each(function(t){p[++c]=t}),p;var n,i=e?wt:_t,r=this._parents,s=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=s.length,a=new Array(o),l=new Array(o),u=new Array(o),c=0;c<o;++c){var h=r[c],d=s[c],f=d.length,p=t.call(h,h&&h.__data__,c,r),g=p.length,m=l[c]=new Array(g),y=a[c]=new Array(g);i(h,d,m,y,u[c]=new Array(f),p,e);for(var v,b,_=0,w=0;_<g;++_)if(v=m[_]){for(_>=w&&(w=_+1);!(b=y[w])&&++w<g;);v._next=b||null}}return(a=new we(a,r))._enter=l,a._exit=u,a},enter:function(){return new we(this._enter||this._groups.map(vt),this._parents)},exit:function(){return new we(this._exit||this._groups.map(vt),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,s=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?s.remove():n(s),i&&r?i.merge(r).order():r},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=Math.min(i,n.length),s=new Array(i),o=0;o<r;++o)for(var a,l=e[o],u=n[o],c=l.length,h=s[o]=new Array(c),d=0;d<c;++d)(a=l[d]||u[d])&&(h[d]=a);for(;o<i;++o)s[o]=e[o];return new we(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],s=r.length-1,o=r[s];--s>=0;)(i=r[s])&&(o&&4^i.compareDocumentPosition(o)&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=xt);for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var o,a=n[s],l=a.length,u=r[s]=new Array(l),c=0;c<l;++c)(o=a[c])&&(u[c]=o);u.sort(e)}return new we(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,s=e[n],o=0,a=s.length;o<a;++o)(r=s[o])&&t.call(r,r.__data__,o,s);return this},attr:function(t,e){var n=Et(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?Tt:kt:"function"==typeof e?n.local?It:Nt:n.local?Mt:At)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Dt:"function"==typeof e?Rt:Pt)(t,e,null==n?"":n)):Ht(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Lt:"function"==typeof e?Vt:Ft)(t,e)):this.node()[t]},classed:function(t,e){var n=jt(t+"");if(arguments.length<2){for(var i=zt(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?Yt:e?$t:Wt)(n,e))},text:function(t){return arguments.length?this.each(null==t?Gt:("function"==typeof t?Qt:Kt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Zt:("function"==typeof t?Jt:Xt)(t)):this.node().innerHTML},raise:function(){return this.each(te)},lower:function(){return this.each(ee)},append:function(t){var e="function"==typeof t?t:re(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:re(t),i=null==e?se:"function"==typeof e?e:pt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(oe)},clone:function(t){return this.select(t?le:ae)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,s=fe(t+""),o=s.length;if(!(arguments.length<2)){for(a=e?ge:pe,null==n&&(n=!1),i=0;i<o;++i)this.each(a(s[i],e,n));return this}var a=this.node().__on;if(a)for(var l,u=0,c=a.length;u<c;++u)for(i=0,l=a[u];i<o;++i)if((r=s[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?be:ve)(t,e))}};var Ce=xe,Se=function(t){return"string"==typeof t?new we([[document.querySelector(t)]],[document.documentElement]):new we([[t]],_e)};function Ee(){ce.stopImmediatePropagation()}var ke=function(){ce.preventDefault(),ce.stopImmediatePropagation()},Te=function(t){var e=t.document.documentElement,n=Se(t).on("dragstart.drag",ke,!0);"onselectstart"in e?n.on("selectstart.drag",ke,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function Ae(t,e){var n=t.document.documentElement,i=Se(t).on("dragstart.drag",null);e&&(i.on("click.drag",ke,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Me=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Ne(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Ie(){}var Oe=.7,De=1/Oe,Pe="\\s*([+-]?\\d+)\\s*",Re="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",He="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Le=/^#([0-9a-f]{3,8})$/,Fe=new RegExp("^rgb\\("+[Pe,Pe,Pe]+"\\)$"),Ve=new RegExp("^rgb\\("+[He,He,He]+"\\)$"),je=new RegExp("^rgba\\("+[Pe,Pe,Pe,Re]+"\\)$"),ze=new RegExp("^rgba\\("+[He,He,He,Re]+"\\)$"),Be=new RegExp("^hsl\\("+[Re,He,He]+"\\)$"),Ue=new RegExp("^hsla\\("+[Re,He,He,Re]+"\\)$"),qe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $e(){return this.rgb().formatHex()}function We(){return this.rgb().formatRgb()}function Ye(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Le.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ge(e):3===n?new Xe(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ke(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ke(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Fe.exec(t))?new Xe(e[1],e[2],e[3],1):(e=Ve.exec(t))?new Xe(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=je.exec(t))?Ke(e[1],e[2],e[3],e[4]):(e=ze.exec(t))?Ke(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Be.exec(t))?nn(e[1],e[2]/100,e[3]/100,1):(e=Ue.exec(t))?nn(e[1],e[2]/100,e[3]/100,e[4]):qe.hasOwnProperty(t)?Ge(qe[t]):"transparent"===t?new Xe(NaN,NaN,NaN,0):null}function Ge(t){return new Xe(t>>16&255,t>>8&255,255&t,1)}function Ke(t,e,n,i){return i<=0&&(t=e=n=NaN),new Xe(t,e,n,i)}function Qe(t){return t instanceof Ie||(t=Ye(t)),t?new Xe((t=t.rgb()).r,t.g,t.b,t.opacity):new Xe}function Ze(t,e,n,i){return 1===arguments.length?Qe(t):new Xe(t,e,n,null==i?1:i)}function Xe(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Je(){return"#"+en(this.r)+en(this.g)+en(this.b)}function tn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function en(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function nn(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new on(t,e,n,i)}function rn(t){if(t instanceof on)return new on(t.h,t.s,t.l,t.opacity);if(t instanceof Ie||(t=Ye(t)),!t)return new on;if(t instanceof on)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),s=Math.max(e,n,i),o=NaN,a=s-r,l=(s+r)/2;return a?(o=e===s?(n-i)/a+6*(n<i):n===s?(i-e)/a+2:(e-n)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new on(o,a,l,t.opacity)}function sn(t,e,n,i){return 1===arguments.length?rn(t):new on(t,e,n,null==i?1:i)}function on(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function an(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function ln(t,e,n,i,r){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*n+(1+3*t+3*s-3*o)*i+o*r)/6}Me(Ie,Ye,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:$e,formatHex:$e,formatHsl:function(){return rn(this).formatHsl()},formatRgb:We,toString:We}),Me(Xe,Ze,Ne(Ie,{brighter:function(t){return t=null==t?De:Math.pow(De,t),new Xe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Oe:Math.pow(Oe,t),new Xe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Je,formatHex:Je,formatRgb:tn,toString:tn})),Me(on,sn,Ne(Ie,{brighter:function(t){return t=null==t?De:Math.pow(De,t),new on(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Oe:Math.pow(Oe,t),new on(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Xe(an(t>=240?t-240:t+120,r,i),an(t,r,i),an(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var un=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],s=t[i+1];return ln((n-i/e)*e,i>0?t[i-1]:2*r-s,r,s,i<e-1?t[i+2]:2*s-r)}},cn=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e);return ln((n-i/e)*e,t[(i+e-1)%e],t[i%e],t[(i+1)%e],t[(i+2)%e])}},hn=function(t){return function(){return t}};function dn(t,e){return function(n){return t+n*e}}function fn(t,e){var n=e-t;return n?dn(t,n>180||n<-180?n-360*Math.round(n/360):n):hn(isNaN(t)?e:t)}function pn(t,e){var n=e-t;return n?dn(t,n):hn(isNaN(t)?e:t)}var gn=function t(e){var n=function(t){return 1==(t=+t)?pn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):hn(isNaN(e)?n:e)}}(e);function i(t,e){var i=n((t=Ze(t)).r,(e=Ze(e)).r),r=n(t.g,e.g),s=n(t.b,e.b),o=pn(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=s(e),t.opacity=o(e),t+""}}return i.gamma=t,i}(1);function mn(t){return function(e){var n,i,r=e.length,s=new Array(r),o=new Array(r),a=new Array(r);for(n=0;n<r;++n)i=Ze(e[n]),s[n]=i.r||0,o[n]=i.g||0,a[n]=i.b||0;return s=t(s),o=t(o),a=t(a),i.opacity=1,function(t){return i.r=s(t),i.g=o(t),i.b=a(t),i+""}}}var yn=mn(un),vn=mn(cn),bn=function(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(s){for(n=0;n<i;++n)r[n]=t[n]*(1-s)+e[n]*s;return r}};function _n(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var wn=function(t,e){return(_n(e)?bn:xn)(t,e)};function xn(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,s=new Array(r),o=new Array(i);for(n=0;n<r;++n)s[n]=In(t[n],e[n]);for(;n<i;++n)o[n]=e[n];return function(t){for(n=0;n<r;++n)o[n]=s[n](t);return o}}var Cn,Sn,En=function(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}},kn=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},Tn=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=In(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},An=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mn=new RegExp(An.source,"g"),Nn=function(t,e){var n,i,r,s=An.lastIndex=Mn.lastIndex=0,o=-1,a=[],l=[];for(t+="",e+="";(n=An.exec(t))&&(i=Mn.exec(e));)(r=i.index)>s&&(r=e.slice(s,r),a[o]?a[o]+=r:a[++o]=r),(n=n[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:kn(n,i)})),s=Mn.lastIndex;return s<e.length&&(r=e.slice(s),a[o]?a[o]+=r:a[++o]=r),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})},In=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?hn(e):("number"===i?kn:"string"===i?(n=Ye(e))?(e=n,gn):Nn:e instanceof Ye?gn:e instanceof Date?En:_n(e)?bn:Array.isArray(e)?xn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Tn:kn)(t,e)},On=function(){for(var t,e=ce;t=e.sourceEvent;)e=t;return e},Dn=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},Pn=function(t,e,n){arguments.length<3&&(n=e,e=On().changedTouches);for(var i,r=0,s=e?e.length:0;r<s;++r)if((i=e[r]).identifier===n)return Dn(t,i);return null},Rn=function(t){var e=On();return e.changedTouches&&(e=e.changedTouches[0]),Dn(t,e)},Hn=0,Ln=0,Fn=0,Vn=0,jn=0,zn=0,Bn="object"==typeof performance&&performance.now?performance:Date,Un="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qn(){return jn||(Un($n),jn=Bn.now()+zn)}function $n(){jn=0}function Wn(){this._call=this._time=this._next=null}function Yn(t,e,n){var i=new Wn;return i.restart(t,e,n),i}function Gn(){qn(),++Hn;for(var t,e=Cn;e;)(t=jn-e._time)>=0&&e._call.call(null,t),e=e._next;--Hn}function Kn(){jn=(Vn=Bn.now())+zn,Hn=Ln=0;try{Gn()}finally{Hn=0,function(){for(var t,e,n=Cn,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Cn=e);Sn=t,Zn(i)}(),jn=0}}function Qn(){var t=Bn.now(),e=t-Vn;e>1e3&&(zn-=e,Vn=t)}function Zn(t){Hn||(Ln&&(Ln=clearTimeout(Ln)),t-jn>24?(t<1/0&&(Ln=setTimeout(Kn,t-Bn.now()-zn)),Fn&&(Fn=clearInterval(Fn))):(Fn||(Vn=Bn.now(),Fn=setInterval(Qn,1e3)),Hn=1,Un(Kn)))}Wn.prototype=Yn.prototype={constructor:Wn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?qn():+n)+(null==e?0:+e),this._next||Sn===this||(Sn?Sn._next=this:Cn=this,Sn=this),this._call=t,this._time=n,Zn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zn())}};var Xn=function(t,e,n){var i=new Wn;return i.restart(function(n){i.stop(),t(n+e)},e=null==e?0:+e,n),i},Jn=dt("start","end","cancel","interrupt"),ti=[],ei=function(t,e,n,i,r,s){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function s(l){var u,c,h,d;if(1!==n.state)return a();for(u in r)if((d=r[u]).name===n.name){if(3===d.state)return Xn(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[u]):+u<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[u])}if(Xn(function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(l))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(d=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=d);i.length=c+1}}function o(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=5,1),s=-1,o=i.length;++s<o;)i[s].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=Yn(function(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)},0,n.time)}(t,n,{name:e,index:i,group:r,on:Jn,tween:ti,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})};function ni(t,e){var n=ri(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function ii(t,e){var n=ri(t,e);if(n.state>3)throw new Error("too late; already running");return n}function ri(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var si,oi,ai,li,ui=function(t,e){var n,i,r,s=t.__transition,o=!0;if(s){for(r in e=null==e?null:e+"",s)(n=s[r]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete s[r]):o=!1;o&&delete t.__transition}},ci=180/Math.PI,hi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},di=function(t,e,n,i,r,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),t*i<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,t)*ci,skewX:Math.atan(l)*ci,scaleX:o,scaleY:a}};function fi(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(s,o){var a=[],l=[];return s=t(s),o=t(o),function(t,i,r,s,o,a){if(t!==r||i!==s){var l=o.push("translate(",null,e,null,n);a.push({i:l-4,x:kn(t,r)},{i:l-2,x:kn(i,s)})}else(r||s)&&o.push("translate("+r+e+s+n)}(s.translateX,s.translateY,o.translateX,o.translateY,a,l),function(t,e,n,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:n.push(r(n)+"rotate(",null,i)-2,x:kn(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(s.rotate,o.rotate,a,l),function(t,e,n,s){t!==e?s.push({i:n.push(r(n)+"skewX(",null,i)-2,x:kn(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(s.skewX,o.skewX,a,l),function(t,e,n,i,s,o){if(t!==n||e!==i){var a=s.push(r(s)+"scale(",null,",",null,")");o.push({i:a-4,x:kn(t,n)},{i:a-2,x:kn(e,i)})}else 1===n&&1===i||s.push(r(s)+"scale("+n+","+i+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,a,l),s=o=null,function(t){for(var e,n=-1,i=l.length;++n<i;)a[(e=l[n]).i]=e.x(t);return a.join("")}}}var pi=fi(function(t){return"none"===t?hi:(si||(si=document.createElement("DIV"),oi=document.documentElement,ai=document.defaultView),si.style.transform=t,t=ai.getComputedStyle(oi.appendChild(si),null).getPropertyValue("transform"),oi.removeChild(si),t=t.slice(7,-1).split(","),di(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),gi=fi(function(t){return null==t?hi:(li||(li=document.createElementNS("http://www.w3.org/2000/svg","g")),li.setAttribute("transform",t),(t=li.transform.baseVal.consolidate())?di((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):hi)},", ",")",")");function mi(t,e){var n,i;return function(){var r=ii(this,t),s=r.tween;if(s!==n)for(var o=0,a=(i=n=s).length;o<a;++o)if(i[o].name===e){(i=i.slice()).splice(o,1);break}r.tween=i}}function yi(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var s=ii(this,t),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:e,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=a;break}l===u&&r.push(a)}s.tween=r}}function vi(t,e,n){var i=t._id;return t.each(function(){var t=ii(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return ri(t,i).value[e]}}var bi=function(t,e){var n;return("number"==typeof e?kn:e instanceof Ye?gn:(n=Ye(e))?(e=n,gn):Nn)(t,e)};function _i(t){return function(){this.removeAttribute(t)}}function wi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xi(t,e,n){var i,r,s=n+"";return function(){var o=this.getAttribute(t);return o===s?null:o===i?r:r=e(i=o,n)}}function Ci(t,e,n){var i,r,s=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===i?r:r=e(i=o,n)}}function Si(t,e,n){var i,r,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttribute(t))===(a=l+"")?null:o===i&&a===r?s:(r=a,s=e(i=o,l));this.removeAttribute(t)}}function Ei(t,e,n){var i,r,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:o===i&&a===r?s:(r=a,s=e(i=o,l));this.removeAttributeNS(t.space,t.local)}}function ki(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ti(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ai(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Ti(t,r)),n}return r._value=e,r}function Mi(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&ki(t,r)),n}return r._value=e,r}function Ni(t,e){return function(){ni(this,t).delay=+e.apply(this,arguments)}}function Ii(t,e){return e=+e,function(){ni(this,t).delay=e}}function Oi(t,e){return function(){ii(this,t).duration=+e.apply(this,arguments)}}function Di(t,e){return e=+e,function(){ii(this,t).duration=e}}function Pi(t,e){if("function"!=typeof e)throw new Error;return function(){ii(this,t).ease=e}}function Ri(t,e,n){var i,r,s=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?ni:ii;return function(){var o=s(this,t),a=o.on;a!==i&&(r=(i=a).copy()).on(e,n),o.on=r}}var Hi=Ce.prototype.constructor;function Li(t){return function(){this.style.removeProperty(t)}}function Fi(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Vi(t,e,n){var i,r;function s(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&Fi(t,s,n)),i}return s._value=e,s}function ji(t){return function(e){this.textContent=t.call(this,e)}}function zi(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&ji(i)),e}return i._value=t,i}var Bi=0;function Ui(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function qi(t){return Ce().transition(t)}function $i(){return++Bi}var Wi=Ce.prototype;function Yi(t){return t*t*t}function Gi(t){return--t*t*t+1}function Ki(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Ui.prototype=qi.prototype={constructor:Ui,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=pt(t));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a,l,u=i[o],c=u.length,h=s[o]=new Array(c),d=0;d<c;++d)(a=u[d])&&(l=t.call(a,a.__data__,d,u))&&("__data__"in a&&(l.__data__=a.__data__),h[d]=l,ei(h[d],e,n,d,h,ri(a,n)));return new Ui(s,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=mt(t));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var l,u=i[a],c=u.length,h=0;h<c;++h)if(l=u[h]){for(var d,f=t.call(l,l.__data__,h,u),p=ri(l,n),g=0,m=f.length;g<m;++g)(d=f[g])&&ei(d,e,n,g,f,p);s.push(f),o.push(l)}return new Ui(s,o,e,n)},filter:function(t){"function"!=typeof t&&(t=yt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s,o=e[r],a=o.length,l=i[r]=[],u=0;u<a;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&l.push(s);return new Ui(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=Math.min(i,n.length),s=new Array(i),o=0;o<r;++o)for(var a,l=e[o],u=n[o],c=l.length,h=s[o]=new Array(c),d=0;d<c;++d)(a=l[d]||u[d])&&(h[d]=a);for(;o<i;++o)s[o]=e[o];return new Ui(s,this._parents,this._name,this._id)},selection:function(){return new Hi(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=$i(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o,a=i[s],l=a.length,u=0;u<l;++u)if(o=a[u]){var c=ri(o,e);ei(o,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ui(i,this._parents,t,n)},call:Wi.call,nodes:Wi.nodes,node:Wi.node,size:Wi.size,empty:Wi.empty,each:Wi.each,on:function(t,e){var n=this._id;return arguments.length<2?ri(this.node(),n).on.on(t):this.each(Ri(n,t,e))},attr:function(t,e){var n=Et(t),i="transform"===n?gi:bi;return this.attrTween(t,"function"==typeof e?(n.local?Ei:Si)(n,i,vi(this,"attr."+t,e)):null==e?(n.local?wi:_i)(n):(n.local?Ci:xi)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Et(t);return this.tween(n,(i.local?Ai:Mi)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?pi:bi;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var s=Ht(this,t),o=(this.style.removeProperty(t),Ht(this,t));return s===o?null:s===n&&o===i?r:r=e(n=s,i=o)}}(t,i)).on("end.style."+t,Li(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,s;return function(){var o=Ht(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=Ht(this,t)),o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a))}}(t,i,vi(this,"style."+t,e))).each(function(t,e){var n,i,r,s,o="style."+e,a="end."+o;return function(){var l=ii(this,t),u=l.on,c=null==l.value[o]?s||(s=Li(e)):void 0;u===n&&r===c||(i=(n=u).copy()).on(a,r=c),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,s=n+"";return function(){var o=Ht(this,t);return o===s?null:o===i?r:r=e(i=o,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,Vi(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(vi(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,zi(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=ri(this.node(),n).tween,s=0,o=r.length;s<o;++s)if((i=r[s]).name===t)return i.value;return null}return this.each((null==e?mi:yi)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ni:Ii)(e,t)):ri(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Oi:Di)(e,t)):ri(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Pi(e,t)):ri(this.node(),e).ease},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){0==--r&&s()}};n.each(function(){var n=ii(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e})})}};var Qi={time:null,delay:0,duration:250,ease:Ki};function Zi(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Qi.time=qn(),Qi;return n}Ce.prototype.interrupt=function(t){return this.each(function(){ui(this,t)})},Ce.prototype.transition=function(t){var e,n;t instanceof Ui?(e=t._id,t=t._name):(e=$i(),(n=Qi).time=qn(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o,a=i[s],l=a.length,u=0;u<l;++u)(o=a[u])&&ei(o,t,e,u,a,n||Zi(o,e));return new Ui(i,this._parents,t,e)};var Xi=[null],Ji=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>1&&n.name===e)return new Ui([[t]],Xi,e,+i);return null},tr=function(t){return function(){return t}},er=function(t,e,n){this.target=t,this.type=e,this.selection=n};function nr(){ce.stopImmediatePropagation()}var ir=function(){ce.preventDefault(),ce.stopImmediatePropagation()},rr={name:"drag"},sr={name:"space"},or={name:"handle"},ar={name:"center"};function lr(t){return[+t[0],+t[1]]}function ur(t){return[lr(t[0]),lr(t[1])]}function cr(t){return function(e){return Pn(e,ce.touches,t)}}var hr={name:"x",handles:["w","e"].map(br),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},dr={name:"y",handles:["n","s"].map(br),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},fr={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(br),input:function(t){return null==t?null:ur(t)},output:function(t){return t}},pr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},gr={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},mr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},yr={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},vr={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function br(t){return{type:t}}function _r(){return!ce.ctrlKey&&!ce.button}function wr(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function xr(){return navigator.maxTouchPoints||"ontouchstart"in this}function Cr(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Sr(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Er(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function kr(){return Mr(hr)}function Tr(){return Mr(dr)}var Ar=function(){return Mr(fr)};function Mr(t){var e,n=wr,i=_r,r=xr,s=!0,o=dt("start","brush","end"),a=6;function l(e){var n=e.property("__brush",g).selectAll(".overlay").data([br("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",pr.overlay).merge(n).each(function(){var t=Cr(this).extent;Se(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([br("selection")]).enter().append("rect").attr("class","selection").attr("cursor",pr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return pr[t.type]}),e.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",f).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function u(){var t=Se(this),e=Cr(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-a/2:e[0][0]-a/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-a/2:e[0][1]-a/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+a:a}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+a:a})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,e,n){var i=t.__brush.emitter;return!i||n&&i.clean?new h(t,e,n):i}function h(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function d(){if((!e||ce.touches)&&i.apply(this,arguments)){var n,r,o,a,l,h,d,f,p,g,m,y=this,v=ce.target.__data__.type,b="selection"===(s&&ce.metaKey?v="overlay":v)?rr:s&&ce.altKey?ar:or,_=t===dr?null:yr[v],w=t===hr?null:vr[v],x=Cr(y),C=x.extent,S=x.selection,E=C[0][0],k=C[0][1],T=C[1][0],A=C[1][1],M=0,N=0,I=_&&w&&s&&ce.shiftKey,O=ce.touches?cr(ce.changedTouches[0].identifier):Rn,D=O(y),P=D,R=c(y,arguments,!0).beforestart();"overlay"===v?(S&&(p=!0),x.selection=S=[[n=t===dr?E:D[0],o=t===hr?k:D[1]],[l=t===dr?T:n,d=t===hr?A:o]]):(n=S[0][0],o=S[0][1],l=S[1][0],d=S[1][1]),r=n,a=o,h=l,f=d;var H=Se(y).attr("pointer-events","none"),L=H.selectAll(".overlay").attr("cursor",pr[v]);if(ce.touches)R.moved=V,R.ended=z;else{var F=Se(ce.view).on("mousemove.brush",V,!0).on("mouseup.brush",z,!0);s&&F.on("keydown.brush",B,!0).on("keyup.brush",U,!0),Te(ce.view)}nr(),ui(y),u.call(y),R.start()}function V(){var t=O(y);!I||g||m||(Math.abs(t[0]-P[0])>Math.abs(t[1]-P[1])?m=!0:g=!0),P=t,p=!0,ir(),j()}function j(){var t;switch(M=P[0]-D[0],N=P[1]-D[1],b){case sr:case rr:_&&(M=Math.max(E-n,Math.min(T-l,M)),r=n+M,h=l+M),w&&(N=Math.max(k-o,Math.min(A-d,N)),a=o+N,f=d+N);break;case or:_<0?(M=Math.max(E-n,Math.min(T-n,M)),r=n+M,h=l):_>0&&(M=Math.max(E-l,Math.min(T-l,M)),r=n,h=l+M),w<0?(N=Math.max(k-o,Math.min(A-o,N)),a=o+N,f=d):w>0&&(N=Math.max(k-d,Math.min(A-d,N)),a=o,f=d+N);break;case ar:_&&(r=Math.max(E,Math.min(T,n-M*_)),h=Math.max(E,Math.min(T,l+M*_))),w&&(a=Math.max(k,Math.min(A,o-N*w)),f=Math.max(k,Math.min(A,d+N*w)))}h<r&&(_*=-1,t=n,n=l,l=t,t=r,r=h,h=t,v in gr&&L.attr("cursor",pr[v=gr[v]])),f<a&&(w*=-1,t=o,o=d,d=t,t=a,a=f,f=t,v in mr&&L.attr("cursor",pr[v=mr[v]])),x.selection&&(S=x.selection),g&&(r=S[0][0],h=S[1][0]),m&&(a=S[0][1],f=S[1][1]),S[0][0]===r&&S[0][1]===a&&S[1][0]===h&&S[1][1]===f||(x.selection=[[r,a],[h,f]],u.call(y),R.brush())}function z(){if(nr(),ce.touches){if(ce.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500)}else Ae(ce.view,p),F.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);H.attr("pointer-events","all"),L.attr("cursor",pr.overlay),x.selection&&(S=x.selection),Sr(S)&&(x.selection=null,u.call(y)),R.end()}function B(){switch(ce.keyCode){case 16:I=_&&w;break;case 18:b===or&&(_&&(l=h-M*_,n=r+M*_),w&&(d=f-N*w,o=a+N*w),b=ar,j());break;case 32:b!==or&&b!==ar||(_<0?l=h-M:_>0&&(n=r-M),w<0?d=f-N:w>0&&(o=a-N),b=sr,L.attr("cursor",pr.selection),j());break;default:return}ir()}function U(){switch(ce.keyCode){case 16:I&&(g=m=I=!1,j());break;case 18:b===ar&&(_<0?l=h:_>0&&(n=r),w<0?d=f:w>0&&(o=a),b=or,j());break;case 32:b===sr&&(ce.altKey?(_&&(l=h-M*_,n=r+M*_),w&&(d=f-N*w,o=a+N*w),b=ar):(_<0?l=h:_>0&&(n=r),w<0?d=f:w>0&&(o=a),b=or),L.attr("cursor",pr[v]),j());break;default:return}ir()}}function f(){c(this,arguments).moved()}function p(){c(this,arguments).ended()}function g(){var e=this.__brush||{selection:null};return e.extent=ur(n.apply(this,arguments)),e.dim=t,e}return l.move=function(e,n){e.selection?e.on("start.brush",function(){c(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){c(this,arguments).end()}).tween("brush",function(){var e=this,i=e.__brush,r=c(e,arguments),s=i.selection,o=t.input("function"==typeof n?n.apply(this,arguments):n,i.extent),a=In(s,o);function l(t){i.selection=1===t&&null===o?null:a(t),u.call(e),r.brush()}return null!==s&&null!==o?l:l(1)}):e.each(function(){var e=this,i=arguments,r=e.__brush,s=t.input("function"==typeof n?n.apply(e,i):n,r.extent),o=c(e,i).beforestart();ui(e),r.selection=null===s?null:s,u.call(e),o.start().brush().end()})},l.clear=function(t){l.move(t,null)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){me(new er(l,e,t.output(this.state.selection)),o.apply,o,[e,this.that,this.args])}},l.extent=function(t){return arguments.length?(n="function"==typeof t?t:tr(ur(t)),l):n},l.filter=function(t){return arguments.length?(i="function"==typeof t?t:tr(!!t),l):i},l.touchable=function(t){return arguments.length?(r="function"==typeof t?t:tr(!!t),l):r},l.handleSize=function(t){return arguments.length?(a=+t,l):a},l.keyModifiers=function(t){return arguments.length?(s=!!t,l):s},l.on=function(){var t=o.on.apply(o,arguments);return t===o?l:t},l}var Nr=Math.cos,Ir=Math.sin,Or=Math.PI,Dr=Or/2,Pr=2*Or,Rr=Math.max;function Hr(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}var Lr=function(){var t=0,e=null,n=null,i=null;function r(r){var s,o,a,l,u,c,h=r.length,d=[],f=C(h),p=[],g=[],m=g.groups=new Array(h),y=new Array(h*h);for(s=0,u=-1;++u<h;){for(o=0,c=-1;++c<h;)o+=r[u][c];d.push(o),p.push(C(h)),s+=o}for(e&&f.sort(function(t,n){return e(d[t],d[n])}),n&&p.forEach(function(t,e){t.sort(function(t,i){return n(r[e][t],r[e][i])})}),l=(s=Rr(0,Pr-t*h)/s)?t:Pr/h,o=0,u=-1;++u<h;){for(a=o,c=-1;++c<h;){var v=f[u],b=p[v][c],_=r[v][b],w=o,x=o+=_*s;y[b*h+v]={index:v,subindex:b,startAngle:w,endAngle:x,value:_}}m[v]={index:v,startAngle:a,endAngle:o,value:d[v]},o+=l}for(u=-1;++u<h;)for(c=u-1;++c<h;){var S=y[c*h+u],E=y[u*h+c];(S.value||E.value)&&g.push(S.value<E.value?{source:E,target:S}:{source:S,target:E})}return i?g.sort(i):g}return r.padAngle=function(e){return arguments.length?(t=Rr(0,e),r):t},r.sortGroups=function(t){return arguments.length?(e=t,r):e},r.sortSubgroups=function(t){return arguments.length?(n=t,r):n},r.sortChords=function(t){return arguments.length?(null==t?i=null:(i=Hr(t))._=t,r):i&&i._},r},Fr=Array.prototype.slice,Vr=function(t){return function(){return t}},jr=Math.PI,zr=2*jr,Br=1e-6,Ur=zr-Br;function qr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function $r(){return new qr}qr.prototype=$r.prototype={constructor:qr,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,s){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+s)},arcTo:function(t,e,n,i,r){var s=this._x1,o=this._y1,a=(n=+n)-(t=+t),l=(i=+i)-(e=+e),u=s-t,c=o-e,h=u*u+c*c;if((r=+r)<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Br)if(Math.abs(c*a-l*u)>Br&&r){var d=n-s,f=i-o,p=a*a+l*l,g=d*d+f*f,m=Math.sqrt(p),y=Math.sqrt(h),v=r*Math.tan((jr-Math.acos((p+h-g)/(2*m*y)))/2),b=v/y,_=v/m;Math.abs(b-1)>Br&&(this._+="L"+(t+b*u)+","+(e+b*c)),this._+="A"+r+","+r+",0,0,"+ +(c*d>u*f)+","+(this._x1=t+_*a)+","+(this._y1=e+_*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,i,r,s){t=+t,e=+e,s=!!s;var o=(n=+n)*Math.cos(i),a=n*Math.sin(i),l=t+o,u=e+a,c=1^s,h=s?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>Br||Math.abs(this._y1-u)>Br)&&(this._+="L"+l+","+u),n&&(h<0&&(h=h%zr+zr),h>Ur?this._+="A"+n+","+n+",0,1,"+c+","+(t-o)+","+(e-a)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):h>Br&&(this._+="A"+n+","+n+",0,"+ +(h>=jr)+","+c+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Wr=$r;function Yr(t){return t.source}function Gr(t){return t.target}function Kr(t){return t.radius}function Qr(t){return t.startAngle}function Zr(t){return t.endAngle}var Xr=function(){var t=Yr,e=Gr,n=Kr,i=Qr,r=Zr,s=null;function o(){var o,a=Fr.call(arguments),l=t.apply(this,a),u=e.apply(this,a),c=+n.apply(this,(a[0]=l,a)),h=i.apply(this,a)-Dr,d=r.apply(this,a)-Dr,f=c*Nr(h),p=c*Ir(h),g=+n.apply(this,(a[0]=u,a)),m=i.apply(this,a)-Dr,y=r.apply(this,a)-Dr;if(s||(s=o=Wr()),s.moveTo(f,p),s.arc(0,0,c,h,d),h===m&&d===y||(s.quadraticCurveTo(0,0,g*Nr(m),g*Ir(m)),s.arc(0,0,g,m,y)),s.quadraticCurveTo(0,0,f,p),s.closePath(),o)return s=null,o+""||null}return o.radius=function(t){return arguments.length?(n="function"==typeof t?t:Vr(+t),o):n},o.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Vr(+t),o):i},o.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:Vr(+t),o):r},o.source=function(e){return arguments.length?(t=e,o):t},o.target=function(t){return arguments.length?(e=t,o):e},o.context=function(t){return arguments.length?(s=null==t?null:t,o):s},o},Jr="$";function ts(){}function es(t,e){var n=new ts;if(t instanceof ts)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,s=t.length;if(null==e)for(;++r<s;)n.set(r,t[r]);else for(;++r<s;)n.set(e(i=t[r],r,t),i)}else if(t)for(var o in t)n.set(o,t[o]);return n}ts.prototype=es.prototype={constructor:ts,has:function(t){return Jr+t in this},get:function(t){return this[Jr+t]},set:function(t,e){return this[Jr+t]=e,this},remove:function(t){var e=Jr+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Jr&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Jr&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Jr&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Jr&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Jr&&++t;return t},empty:function(){for(var t in this)if(t[0]===Jr)return!1;return!0},each:function(t){for(var e in this)e[0]===Jr&&t(this[e],e.slice(1),this)}};var ns=es,is=function(){var t,e,n,i=[],r=[];function s(n,r,o,a){if(r>=i.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var l,u,c,h=-1,d=n.length,f=i[r++],p=ns(),g=o();++h<d;)(c=p.get(l=f(u=n[h])+""))?c.push(u):p.set(l,[u]);return p.each(function(t,e){a(g,e,s(t,r,o,a))}),g}function o(t,n){if(++n>i.length)return t;var s,a=r[n-1];return null!=e&&n>=i.length?s=t.entries():(s=[],t.each(function(t,e){s.push({key:e,values:o(t,n)})})),null!=a?s.sort(function(t,e){return a(t.key,e.key)}):s}return n={object:function(t){return s(t,0,rs,ss)},map:function(t){return s(t,0,os,as)},entries:function(t){return o(s(t,0,os,as),0)},key:function(t){return i.push(t),n},sortKeys:function(t){return r[i.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function rs(){return{}}function ss(t,e,n){t[e]=n}function os(){return ns()}function as(t,e,n){t.set(e,n)}function ls(){}var us=ns.prototype;function cs(t,e){var n=new ls;if(t instanceof ls)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}ls.prototype=cs.prototype={constructor:ls,has:us.has,add:function(t){return this[Jr+(t+="")]=t,this},remove:us.remove,clear:us.clear,values:us.keys,size:us.size,empty:us.empty,each:us.each};var hs=cs,ds=function(t){var e=[];for(var n in t)e.push(n);return e},fs=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ps=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},gs=Math.PI/180,ms=180/Math.PI,ys=.96422,vs=.82521,bs=4/29,_s=6/29,ws=3*_s*_s;function xs(t){if(t instanceof Es)return new Es(t.l,t.a,t.b,t.opacity);if(t instanceof Ds)return Ps(t);t instanceof Xe||(t=Qe(t));var e,n,i=Ms(t.r),r=Ms(t.g),s=Ms(t.b),o=ks((.2225045*i+.7168786*r+.0606169*s)/1);return i===r&&r===s?e=n=o:(e=ks((.4360747*i+.3850649*r+.1430804*s)/ys),n=ks((.0139322*i+.0971045*r+.7141733*s)/vs)),new Es(116*o-16,500*(e-o),200*(o-n),t.opacity)}function Cs(t,e){return new Es(t,0,0,null==e?1:e)}function Ss(t,e,n,i){return 1===arguments.length?xs(t):new Es(t,e,n,null==i?1:i)}function Es(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function ks(t){return t>.008856451679035631?Math.pow(t,1/3):t/ws+bs}function Ts(t){return t>_s?t*t*t:ws*(t-bs)}function As(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ms(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ns(t){if(t instanceof Ds)return new Ds(t.h,t.c,t.l,t.opacity);if(t instanceof Es||(t=xs(t)),0===t.a&&0===t.b)return new Ds(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*ms;return new Ds(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Is(t,e,n,i){return 1===arguments.length?Ns(t):new Ds(n,e,t,null==i?1:i)}function Os(t,e,n,i){return 1===arguments.length?Ns(t):new Ds(t,e,n,null==i?1:i)}function Ds(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Ps(t){if(isNaN(t.h))return new Es(t.l,0,0,t.opacity);var e=t.h*gs;return new Es(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Me(Es,Ss,Ne(Ie,{brighter:function(t){return new Es(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Es(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Xe(As(3.1338561*(e=ys*Ts(e))-1.6168667*(t=1*Ts(t))-.4906146*(n=vs*Ts(n))),As(-.9787684*e+1.9161415*t+.033454*n),As(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Me(Ds,Os,Ne(Ie,{brighter:function(t){return new Ds(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ds(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ps(this).rgb()}}));var Rs=-.29227,Hs=-.90649,Ls=1.97294,Fs=-1.7884503806,Vs=3.5172982438,js=-.6557636667999999;function zs(t){if(t instanceof Us)return new Us(t.h,t.s,t.l,t.opacity);t instanceof Xe||(t=Qe(t));var e=t.g/255,n=t.b/255,i=(js*n+Fs*(t.r/255)-Vs*e)/(js+Fs-Vs),r=n-i,s=(Ls*(e-i)-Rs*r)/Hs,o=Math.sqrt(s*s+r*r)/(Ls*i*(1-i)),a=o?Math.atan2(s,r)*ms-120:NaN;return new Us(a<0?a+360:a,o,i,t.opacity)}function Bs(t,e,n,i){return 1===arguments.length?zs(t):new Us(t,e,n,null==i?1:i)}function Us(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Me(Us,Bs,Ne(Ie,{brighter:function(t){return t=null==t?De:Math.pow(De,t),new Us(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Oe:Math.pow(Oe,t),new Us(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*gs,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Xe(255*(e+n*(-.14861*i+1.78277*r)),255*(e+n*(Rs*i+Hs*r)),255*(e+n*(Ls*i)),this.opacity)}}));var qs=Array.prototype.slice,$s=function(t,e){return t-e},Ws=function(t){return function(){return t}},Ys=function(t,e){for(var n,i=-1,r=e.length;++i<r;)if(n=Gs(t,e[i]))return n;return 0};function Gs(t,e){for(var n=e[0],i=e[1],r=-1,s=0,o=t.length,a=o-1;s<o;a=s++){var l=t[s],u=l[0],c=l[1],h=t[a],d=h[0],f=h[1];if(Ks(l,h,e))return 0;c>i!=f>i&&n<(d-u)*(i-c)/(f-c)+u&&(r=-r)}return r}function Ks(t,e,n){var i,r,s,o;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(r=t[i=+(t[0]===e[0])],o=e[i],r<=(s=n[i])&&s<=o||o<=s&&s<=r)}var Qs=function(){},Zs=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],Xs=function(){var t=1,e=1,n=N,i=a;function r(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort($s);else{var i=y(t),r=i[0],o=i[1];e=M(r,o,e),e=C(Math.floor(r/e)*e,Math.floor(o/e)*e,e)}return e.map(function(e){return s(t,e)})}function s(n,r){var s=[],a=[];return function(n,i,r){var s,a,l,u,c,h=new Array,d=new Array;for(s=a=-1,Zs[(l=n[0]>=i)<<1].forEach(f);++s<t-1;)Zs[l|(l=n[s+1]>=i)<<1].forEach(f);for(Zs[l<<0].forEach(f);++a<e-1;){for(s=-1,Zs[(l=n[a*t+t]>=i)<<1|(u=n[a*t]>=i)<<2].forEach(f);++s<t-1;)c=u,Zs[l|(l=n[a*t+t+s+1]>=i)<<1|(u=n[a*t+s+1]>=i)<<2|c<<3].forEach(f);Zs[l|u<<3].forEach(f)}for(s=-1,Zs[(u=n[a*t]>=i)<<2].forEach(f);++s<t-1;)c=u,Zs[(u=n[a*t+s+1]>=i)<<2|c<<3].forEach(f);function f(t){var e,n,i=[t[0][0]+s,t[0][1]+a],l=[t[1][0]+s,t[1][1]+a],u=o(i),c=o(l);(e=d[u])?(n=h[c])?(delete d[e.end],delete h[n.start],e===n?(e.ring.push(l),r(e.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete d[e.end],e.ring.push(l),d[e.end=c]=e):(e=h[c])?(n=d[u])?(delete h[e.start],delete d[n.end],e===n?(e.ring.push(l),r(e.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete h[e.start],e.ring.unshift(i),h[e.start=u]=e):h[u]=d[c]={start:u,end:c,ring:[i,l]}}Zs[u<<3].forEach(f)}(n,r,function(t){i(t,n,r),function(t){for(var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return i}(t)>0?s.push([t]):a.push(t)}),a.forEach(function(t){for(var e,n=0,i=s.length;n<i;++n)if(-1!==Ys((e=s[n])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:r,coordinates:s}}function o(e){return 2*e[0]+e[1]*(t+1)*4}function a(n,i,r){n.forEach(function(n){var s,o=n[0],a=n[1],l=0|o,u=0|a,c=i[u*t+l];o>0&&o<t&&l===o&&(n[0]=o+(r-(s=i[u*t+l-1]))/(c-s)-.5),a>0&&a<e&&u===a&&(n[1]=a+(r-(s=i[(u-1)*t+l]))/(c-s)-.5)})}return r.contour=s,r.size=function(n){if(!arguments.length)return[t,e];var i=Math.ceil(n[0]),s=Math.ceil(n[1]);if(!(i>0&&s>0))throw new Error("invalid size");return t=i,e=s,r},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?Ws(qs.call(t)):Ws(t),r):n},r.smooth=function(t){return arguments.length?(i=t?a:Qs,r):i===a},r};function Js(t,e,n){for(var i=t.width,r=t.height,s=1+(n<<1),o=0;o<r;++o)for(var a=0,l=0;a<i+n;++a)a<i&&(l+=t.data[a+o*i]),a>=n&&(a>=s&&(l-=t.data[a-s+o*i]),e.data[a-n+o*i]=l/Math.min(a+1,i-1+s-a,s))}function to(t,e,n){for(var i=t.width,r=t.height,s=1+(n<<1),o=0;o<i;++o)for(var a=0,l=0;a<r+n;++a)a<r&&(l+=t.data[o+a*i]),a>=n&&(a>=s&&(l-=t.data[o+(a-s)*i]),e.data[o+(a-n)*i]=l/Math.min(a+1,r-1+s-a,s))}function eo(t){return t[0]}function no(t){return t[1]}function io(){return 1}var ro=function(){var t=eo,e=no,n=io,i=960,r=500,s=20,o=2,a=3*s,l=i+2*a>>o,u=r+2*a>>o,c=Ws(20);function h(i){var r=new Float32Array(l*u),h=new Float32Array(l*u);i.forEach(function(i,s,c){var h=+t(i,s,c)+a>>o,d=+e(i,s,c)+a>>o,f=+n(i,s,c);h>=0&&h<l&&d>=0&&d<u&&(r[h+d*l]+=f)}),Js({width:l,height:u,data:r},{width:l,height:u,data:h},s>>o),to({width:l,height:u,data:h},{width:l,height:u,data:r},s>>o),Js({width:l,height:u,data:r},{width:l,height:u,data:h},s>>o),to({width:l,height:u,data:h},{width:l,height:u,data:r},s>>o),Js({width:l,height:u,data:r},{width:l,height:u,data:h},s>>o),to({width:l,height:u,data:h},{width:l,height:u,data:r},s>>o);var f=c(r);if(!Array.isArray(f)){var p=R(r);f=M(0,p,f),(f=C(0,Math.floor(p/f)*f,f)).shift()}return Xs().thresholds(f).size([l,u])(r).map(d)}function d(t){return t.value*=Math.pow(2,-2*o),t.coordinates.forEach(f),t}function f(t){t.forEach(p)}function p(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,o)-a,t[1]=t[1]*Math.pow(2,o)-a}function m(){return l=i+2*(a=3*s)>>o,u=r+2*a>>o,h}return h.x=function(e){return arguments.length?(t="function"==typeof e?e:Ws(+e),h):t},h.y=function(t){return arguments.length?(e="function"==typeof t?t:Ws(+t),h):e},h.weight=function(t){return arguments.length?(n="function"==typeof t?t:Ws(+t),h):n},h.size=function(t){if(!arguments.length)return[i,r];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return i=e,r=n,m()},h.cellSize=function(t){if(!arguments.length)return 1<<o;if(!((t=+t)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(t)/Math.LN2),m()},h.thresholds=function(t){return arguments.length?(c="function"==typeof t?t:Array.isArray(t)?Ws(qs.call(t)):Ws(t),h):c},h.bandwidth=function(t){if(!arguments.length)return Math.sqrt(s*(s+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return s=Math.round((Math.sqrt(4*t*t+1)-1)/2),m()},h},so=function(t){return function(){return t}};function oo(t,e,n,i,r,s,o,a,l,u){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=s,this.y=o,this.dx=a,this.dy=l,this._=u}function ao(){return!ce.ctrlKey&&!ce.button}function lo(){return this.parentNode}function uo(t){return null==t?{x:ce.x,y:ce.y}:t}function co(){return navigator.maxTouchPoints||"ontouchstart"in this}oo.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ho=function(){var t,e,n,i,r=ao,s=lo,o=uo,a=co,l={},u=dt("start","drag","end"),c=0,h=0;function d(t){t.on("mousedown.drag",f).filter(a).on("touchstart.drag",m).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){if(!i&&r.apply(this,arguments)){var o=b("mouse",s.apply(this,arguments),Rn,this,arguments);o&&(Se(ce.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),Te(ce.view),Ee(),n=!1,t=ce.clientX,e=ce.clientY,o("start"))}}function p(){if(ke(),!n){var i=ce.clientX-t,r=ce.clientY-e;n=i*i+r*r>h}l.mouse("drag")}function g(){Se(ce.view).on("mousemove.drag mouseup.drag",null),Ae(ce.view,n),ke(),l.mouse("end")}function m(){if(r.apply(this,arguments)){var t,e,n=ce.changedTouches,i=s.apply(this,arguments),o=n.length;for(t=0;t<o;++t)(e=b(n[t].identifier,i,Pn,this,arguments))&&(Ee(),e("start"))}}function y(){var t,e,n=ce.changedTouches,i=n.length;for(t=0;t<i;++t)(e=l[n[t].identifier])&&(ke(),e("drag"))}function v(){var t,e,n=ce.changedTouches,r=n.length;for(i&&clearTimeout(i),i=setTimeout(function(){i=null},500),t=0;t<r;++t)(e=l[n[t].identifier])&&(Ee(),e("end"))}function b(t,e,n,i,r){var s,a,h,f=n(e,t),p=u.copy();if(me(new oo(d,"beforestart",s,t,c,f[0],f[1],0,0,p),function(){return null!=(ce.subject=s=o.apply(i,r))&&(a=s.x-f[0]||0,h=s.y-f[1]||0,!0)}))return function o(u){var g,m=f;switch(u){case"start":l[t]=o,g=c++;break;case"end":delete l[t],--c;case"drag":f=n(e,t),g=c}me(new oo(d,u,s,t,g,f[0]+a,f[1]+h,f[0]-m[0],f[1]-m[1],p),p.apply,p,[u,i,r])}}return d.filter=function(t){return arguments.length?(r="function"==typeof t?t:so(!!t),d):r},d.container=function(t){return arguments.length?(s="function"==typeof t?t:so(t),d):s},d.subject=function(t){return arguments.length?(o="function"==typeof t?t:so(t),d):o},d.touchable=function(t){return arguments.length?(a="function"==typeof t?t:so(!!t),d):a},d.on=function(){var t=u.on.apply(u,arguments);return t===u?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d},fo={},po={};function go(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function mo(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}function yo(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}var vo=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var i,r=[],s=t.length,o=0,a=0,l=s<=0,u=!1;function c(){if(l)return po;if(u)return u=!1,fo;var e,i,r=o;if(34===t.charCodeAt(r)){for(;o++<s&&34!==t.charCodeAt(o)||34===t.charCodeAt(++o););return(e=o)>=s?l=!0:10===(i=t.charCodeAt(o++))?u=!0:13===i&&(u=!0,10===t.charCodeAt(o)&&++o),t.slice(r+1,e-1).replace(/""/g,'"')}for(;o<s;){if(10===(i=t.charCodeAt(e=o++)))u=!0;else if(13===i)u=!0,10===t.charCodeAt(o)&&++o;else if(i!==n)continue;return t.slice(r,e)}return l=!0,t.slice(r,s)}for(10===t.charCodeAt(s-1)&&--s,13===t.charCodeAt(s-1)&&--s;(i=c())!==po;){for(var h=[];i!==fo&&i!==po;)h.push(i),i=c();e&&null==(h=e(h,a++))||r.push(h)}return r}function r(e,n){return e.map(function(e){return n.map(function(t){return o(e[t])}).join(t)})}function s(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?function(t){var e,n=t.getUTCHours(),i=t.getUTCMinutes(),r=t.getUTCSeconds(),s=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+yo(-e,6):e>9999?"+"+yo(e,6):yo(e,4))+"-"+yo(t.getUTCMonth()+1,2)+"-"+yo(t.getUTCDate(),2)+(s?"T"+yo(n,2)+":"+yo(i,2)+":"+yo(r,2)+"."+yo(s,3)+"Z":r?"T"+yo(n,2)+":"+yo(i,2)+":"+yo(r,2)+"Z":i||n?"T"+yo(n,2)+":"+yo(i,2)+"Z":"")}(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,s=i(t,function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=go(t);return function(i,r){return e(n(i),r,t)}}(t,e):go(t)});return s.columns=r||[],s},parseRows:i,format:function(e,n){return null==n&&(n=mo(e)),[n.map(o).join(t)].concat(r(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=mo(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(s).join("\n")},formatRow:s,formatValue:o}},bo=vo(","),_o=bo.parse,wo=bo.parseRows,xo=bo.format,Co=bo.formatBody,So=bo.formatRows,Eo=bo.formatRow,ko=bo.formatValue,To=vo("\t"),Ao=To.parse,Mo=To.parseRows,No=To.format,Io=To.formatBody,Oo=To.formatRows,Do=To.formatRow,Po=To.formatValue;function Ro(t){for(var e in t){var n,i,r=t[e].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!(i=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Ho&&i[4]&&!i[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r)}else r=n;else r=null;t[e]=r}return t}var Ho=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Lo(t){return+t}function Fo(t){return t*t}function Vo(t){return t*(2-t)}function jo(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var zo=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Bo=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Uo=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),qo=Math.PI,$o=qo/2;function Wo(t){return 1==+t?1:1-Math.cos(t*$o)}function Yo(t){return Math.sin(t*$o)}function Go(t){return(1-Math.cos(qo*t))/2}function Ko(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Qo(t){return Ko(1-+t)}function Zo(t){return 1-Ko(t)}function Xo(t){return((t*=2)<=1?Ko(1-t):2-Ko(t-1))/2}function Jo(t){return 1-Math.sqrt(1-t*t)}function ta(t){return Math.sqrt(1- --t*t)}function ea(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var na=7.5625;function ia(t){return 1-ra(1-t)}function ra(t){return(t=+t)<.36363636363636365?na*t*t:t<.7272727272727273?na*(t-=.5454545454545454)*t+.75:t<.9090909090909091?na*(t-=.8181818181818182)*t+.9375:na*(t-=.9545454545454546)*t+.984375}function sa(t){return((t*=2)<=1?1-ra(1-t):ra(t-1)+1)/2}var oa=1.70158,aa=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(oa),la=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(oa),ua=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(oa),ca=2*Math.PI,ha=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=ca);function r(t){return e*Ko(- --t)*Math.sin((i-t)/n)}return r.amplitude=function(e){return t(e,n*ca)},r.period=function(n){return t(e,n)},r}(1,.3),da=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=ca);function r(t){return 1-e*Ko(t=+t)*Math.sin((t+i)/n)}return r.amplitude=function(e){return t(e,n*ca)},r.period=function(n){return t(e,n)},r}(1,.3),fa=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=ca);function r(t){return((t=2*t-1)<0?e*Ko(-t)*Math.sin((i-t)/n):2-e*Ko(t)*Math.sin((i+t)/n))/2}return r.amplitude=function(e){return t(e,n*ca)},r.period=function(n){return t(e,n)},r}(1,.3);function pa(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var ga=function(t,e){return fetch(t,e).then(pa)};function ma(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var ya=function(t,e){return fetch(t,e).then(ma)};function va(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var ba=function(t,e){return fetch(t,e).then(va)};function _a(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),ba(e,n).then(function(e){return t(e,i)})}}function wa(t,e,n,i){3===arguments.length&&"function"==typeof n&&(i=n,n=void 0);var r=vo(t);return ba(e,n).then(function(t){return r.parse(t,i)})}var xa=_a(_o),Ca=_a(Ao),Sa=function(t,e){return new Promise(function(n,i){var r=new Image;for(var s in e)r[s]=e[s];r.onerror=i,r.onload=function(){n(r)},r.src=t})};function Ea(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}var ka=function(t,e){return fetch(t,e).then(Ea)};function Ta(t){return function(e,n){return ba(e,n).then(function(e){return(new DOMParser).parseFromString(e,t)})}}var Aa=Ta("application/xml"),Ma=Ta("text/html"),Na=Ta("image/svg+xml"),Ia=function(t,e){var n;function i(){var i,r,s=n.length,o=0,a=0;for(i=0;i<s;++i)o+=(r=n[i]).x,a+=r.y;for(o=o/s-t,a=a/s-e,i=0;i<s;++i)(r=n[i]).x-=o,r.y-=a}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i},Oa=function(t){return function(){return t}},Da=function(){return 1e-6*(Math.random()-.5)};function Pa(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,s,o,a,l,u,c,h,d,f=t._root,p={data:i},g=t._x0,m=t._y0,y=t._x1,v=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((u=e>=(s=(g+y)/2))?g=s:y=s,(c=n>=(o=(m+v)/2))?m=o:v=o,r=f,!(f=f[h=c<<1|u]))return r[h]=p,t;if(a=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===a&&n===l)return p.next=f,r?r[h]=p:t._root=p,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(u=e>=(s=(g+y)/2))?g=s:y=s,(c=n>=(o=(m+v)/2))?m=o:v=o}while((h=c<<1|u)==(d=(l>=o)<<1|a>=s));return r[d]=f,r[h]=p,t}var Ra=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r};function Ha(t){return t[0]}function La(t){return t[1]}function Fa(t,e,n){var i=new Va(null==e?Ha:e,null==n?La:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Va(t,e,n,i,r,s){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=s,this._root=void 0}function ja(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var za=Fa.prototype=Va.prototype;function Ba(t){return t.x+t.vx}function Ua(t){return t.y+t.vy}za.copy=function(){var t,e,n=new Va(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=ja(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=ja(e));return n},za.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Pa(this.cover(e,n),e,n,t)},za.addAll=function(t){var e,n,i,r,s=t.length,o=new Array(s),a=new Array(s),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<s;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(o[n]=i,a[n]=r,i<l&&(l=i),i>c&&(c=i),r<u&&(u=r),r>h&&(h=r));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<s;++n)Pa(this,o[n],a[n],t[n]);return this},za.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,s=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,s=(i=Math.floor(e))+1;else{for(var o,a,l=r-n,u=this._root;n>t||t>=r||i>e||e>=s;)switch(a=(e<i)<<1|t<n,(o=new Array(4))[a]=u,u=o,l*=2,a){case 0:r=n+l,s=i+l;break;case 1:n=r-l,s=i+l;break;case 2:r=n+l,i=s-l;break;case 3:n=r-l,i=s-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=i,this._x1=r,this._y1=s,this},za.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},za.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},za.find=function(t,e,n){var i,r,s,o,a,l,u,c=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new Ra(g,c,h,d,f)),null==n?n=1/0:(c=t-n,h=e-n,d=t+n,f=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(r=l.x0)>d||(s=l.y0)>f||(o=l.x1)<c||(a=l.y1)<h))if(g.length){var m=(r+o)/2,y=(s+a)/2;p.push(new Ra(g[3],m,y,o,a),new Ra(g[2],r,y,m,a),new Ra(g[1],m,s,o,y),new Ra(g[0],r,s,m,y)),(u=(e>=y)<<1|t>=m)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var v=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),_=v*v+b*b;if(_<n){var w=Math.sqrt(n=_);c=t-w,h=e-w,d=t+w,f=e+w,i=g.data}}return i},za.remove=function(t){if(isNaN(s=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,i,r,s,o,a,l,u,c,h,d,f=this._root,p=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!f)return this;if(f.length)for(;;){if((u=s>=(a=(p+m)/2))?p=a:m=a,(c=o>=(l=(g+y)/2))?g=l:y=l,e=f,!(f=f[h=c<<1|u]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;f.data!==t;)if(i=f,!(f=f.next))return this;return(r=f.next)&&delete f.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=r,this)},za.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},za.root=function(){return this._root},za.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},za.visit=function(t){var e,n,i,r,s,o,a=[],l=this._root;for(l&&a.push(new Ra(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,s=e.x1,o=e.y1)&&l.length){var u=(i+s)/2,c=(r+o)/2;(n=l[3])&&a.push(new Ra(n,u,c,s,o)),(n=l[2])&&a.push(new Ra(n,i,c,u,o)),(n=l[1])&&a.push(new Ra(n,u,r,s,c)),(n=l[0])&&a.push(new Ra(n,i,r,u,c))}return this},za.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new Ra(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var s,o=e.x0,a=e.y0,l=e.x1,u=e.y1,c=(o+l)/2,h=(a+u)/2;(s=r[0])&&n.push(new Ra(s,o,a,c,h)),(s=r[1])&&n.push(new Ra(s,c,a,l,h)),(s=r[2])&&n.push(new Ra(s,o,h,c,u)),(s=r[3])&&n.push(new Ra(s,c,h,l,u))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},za.x=function(t){return arguments.length?(this._x=t,this):this._x},za.y=function(t){return arguments.length?(this._y=t,this):this._y};var qa=function(t){var e,n,i=1,r=1;function s(){for(var t,s,a,l,u,c,h,d=e.length,f=0;f<r;++f)for(s=Fa(e,Ba,Ua).visitAfter(o),t=0;t<d;++t)h=(c=n[(a=e[t]).index])*c,l=a.x+a.vx,u=a.y+a.vy,s.visit(p);function p(t,e,n,r,s){var o=t.data,d=t.r,f=c+d;if(!o)return e>l+f||r<l-f||n>u+f||s<u-f;if(o.index>a.index){var p=l-o.x-o.vx,g=u-o.y-o.vy,m=p*p+g*g;m<f*f&&(0===p&&(m+=(p=Da())*p),0===g&&(m+=(g=Da())*g),m=(f-(m=Math.sqrt(m)))/m*i,a.vx+=(p*=m)*(f=(d*=d)/(h+d)),a.vy+=(g*=m)*f,o.vx-=p*(f=1-f),o.vy-=g*f)}}}function o(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function a(){if(e){var i,r,s=e.length;for(n=new Array(s),i=0;i<s;++i)n[(r=e[i]).index]=+t(r,i,e)}}return"function"!=typeof t&&(t=Oa(null==t?1:+t)),s.initialize=function(t){e=t,a()},s.iterations=function(t){return arguments.length?(r=+t,s):r},s.strength=function(t){return arguments.length?(i=+t,s):i},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:Oa(+e),a(),s):t},s};function $a(t){return t.index}function Wa(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var Ya=function(t){var e,n,i,r,s,o=$a,a=function(t){return 1/Math.min(r[t.source.index],r[t.target.index])},l=Oa(30),u=1;function c(i){for(var r=0,o=t.length;r<u;++r)for(var a,l,c,h,d,f,p,g=0;g<o;++g)h=(c=(a=t[g]).target).x+c.vx-(l=a.source).x-l.vx||Da(),d=c.y+c.vy-l.y-l.vy||Da(),d*=f=((f=Math.sqrt(h*h+d*d))-n[g])/f*i*e[g],c.vx-=(h*=f)*(p=s[g]),c.vy-=d*p,l.vx+=h*(p=1-p),l.vy+=d*p}function h(){if(i){var a,l,u=i.length,c=t.length,h=ns(i,o);for(a=0,r=new Array(u);a<c;++a)(l=t[a]).index=a,"object"!=typeof l.source&&(l.source=Wa(h,l.source)),"object"!=typeof l.target&&(l.target=Wa(h,l.target)),r[l.source.index]=(r[l.source.index]||0)+1,r[l.target.index]=(r[l.target.index]||0)+1;for(a=0,s=new Array(c);a<c;++a)s[a]=r[(l=t[a]).source.index]/(r[l.source.index]+r[l.target.index]);e=new Array(c),d(),n=new Array(c),f()}}function d(){if(i)for(var n=0,r=t.length;n<r;++n)e[n]=+a(t[n],n,t)}function f(){if(i)for(var e=0,r=t.length;e<r;++e)n[e]=+l(t[e],e,t)}return null==t&&(t=[]),c.initialize=function(t){i=t,h()},c.links=function(e){return arguments.length?(t=e,h(),c):t},c.id=function(t){return arguments.length?(o=t,c):o},c.iterations=function(t){return arguments.length?(u=+t,c):u},c.strength=function(t){return arguments.length?(a="function"==typeof t?t:Oa(+t),d(),c):a},c.distance=function(t){return arguments.length?(l="function"==typeof t?t:Oa(+t),f(),c):l},c};function Ga(t){return t.x}function Ka(t){return t.y}var Qa=Math.PI*(3-Math.sqrt(5)),Za=function(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),s=0,o=.6,a=ns(),l=Yn(c),u=dt("tick","end");function c(){h(),u.call("tick",e),n<i&&(l.stop(),u.call("end",e))}function h(i){var l,u,c=t.length;void 0===i&&(i=1);for(var h=0;h<i;++h)for(n+=(s-n)*r,a.each(function(t){t(n)}),l=0;l<c;++l)null==(u=t[l]).fx?u.x+=u.vx*=o:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=o:(u.y=u.fy,u.vy=0);return e}function d(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=10*Math.sqrt(n),s=n*Qa;e.x=r*Math.cos(s),e.y=r*Math.sin(s)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function f(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),d(),e={tick:h,restart:function(){return l.restart(c),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),a.each(f),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(s=+t,e):s},velocityDecay:function(t){return arguments.length?(o=1-t,e):1-o},force:function(t,n){return arguments.length>1?(null==n?a.remove(t):a.set(t,f(n)),e):a.get(t)},find:function(e,n,i){var r,s,o,a,l,u=0,c=t.length;for(null==i?i=1/0:i*=i,u=0;u<c;++u)(o=(r=e-(a=t[u]).x)*r+(s=n-a.y)*s)<i&&(l=a,i=o);return l},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}},Xa=function(){var t,e,n,i,r=Oa(-30),s=1,o=1/0,a=.81;function l(i){var r,s=t.length,o=Fa(t,Ga,Ka).visitAfter(c);for(n=i,r=0;r<s;++r)e=t[r],o.visit(h)}function u(){if(t){var e,n,s=t.length;for(i=new Array(s),e=0;e<s;++e)i[(n=t[e]).index]=+r(n,e,t)}}function c(t){var e,n,r,s,o,a=0,l=0;if(t.length){for(r=s=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(a+=e.value,l+=n,r+=n*e.x,s+=n*e.y);t.x=r/l,t.y=s/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=i[e.data.index]}while(e=e.next)}t.value=a}function h(t,r,l,u){if(!t.value)return!0;var c=t.x-e.x,h=t.y-e.y,d=u-r,f=c*c+h*h;if(d*d/a<f)return f<o&&(0===c&&(f+=(c=Da())*c),0===h&&(f+=(h=Da())*h),f<s&&(f=Math.sqrt(s*f)),e.vx+=c*t.value*n/f,e.vy+=h*t.value*n/f),!0;if(!(t.length||f>=o)){(t.data!==e||t.next)&&(0===c&&(f+=(c=Da())*c),0===h&&(f+=(h=Da())*h),f<s&&(f=Math.sqrt(s*f)));do{t.data!==e&&(e.vx+=c*(d=i[t.data.index]*n/f),e.vy+=h*d)}while(t=t.next)}}return l.initialize=function(e){t=e,u()},l.strength=function(t){return arguments.length?(r="function"==typeof t?t:Oa(+t),u(),l):r},l.distanceMin=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l.distanceMax=function(t){return arguments.length?(o=t*t,l):Math.sqrt(o)},l.theta=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l},Ja=function(t,e,n){var i,r,s,o=Oa(.1);function a(t){for(var o=0,a=i.length;o<a;++o){var l=i[o],u=l.x-e||1e-6,c=l.y-n||1e-6,h=Math.sqrt(u*u+c*c),d=(s[o]-h)*r[o]*t/h;l.vx+=u*d,l.vy+=c*d}}function l(){if(i){var e,n=i.length;for(r=new Array(n),s=new Array(n),e=0;e<n;++e)s[e]=+t(i[e],e,i),r[e]=isNaN(s[e])?0:+o(i[e],e,i)}}return"function"!=typeof t&&(t=Oa(+t)),null==e&&(e=0),null==n&&(n=0),a.initialize=function(t){i=t,l()},a.strength=function(t){return arguments.length?(o="function"==typeof t?t:Oa(+t),l(),a):o},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:Oa(+e),l(),a):t},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(t){return arguments.length?(n=+t,a):n},a},tl=function(t){var e,n,i,r=Oa(.1);function s(t){for(var r,s=0,o=e.length;s<o;++s)(r=e[s]).vx+=(i[s]-r.x)*n[s]*t}function o(){if(e){var s,o=e.length;for(n=new Array(o),i=new Array(o),s=0;s<o;++s)n[s]=isNaN(i[s]=+t(e[s],s,e))?0:+r(e[s],s,e)}}return"function"!=typeof t&&(t=Oa(null==t?0:+t)),s.initialize=function(t){e=t,o()},s.strength=function(t){return arguments.length?(r="function"==typeof t?t:Oa(+t),o(),s):r},s.x=function(e){return arguments.length?(t="function"==typeof e?e:Oa(+e),o(),s):t},s},el=function(t){var e,n,i,r=Oa(.1);function s(t){for(var r,s=0,o=e.length;s<o;++s)(r=e[s]).vy+=(i[s]-r.y)*n[s]*t}function o(){if(e){var s,o=e.length;for(n=new Array(o),i=new Array(o),s=0;s<o;++s)n[s]=isNaN(i[s]=+t(e[s],s,e))?0:+r(e[s],s,e)}}return"function"!=typeof t&&(t=Oa(null==t?0:+t)),s.initialize=function(t){e=t,o()},s.strength=function(t){return arguments.length?(r="function"==typeof t?t:Oa(+t),o(),s):r},s.y=function(e){return arguments.length?(t="function"==typeof e?e:Oa(+e),o(),s):t},s};function nl(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}var il=function(t){return(t=nl(Math.abs(t)))?t[1]:NaN},rl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sl(t){if(!(e=rl.exec(t)))throw new Error("invalid format: "+t);var e;return new ol({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ol(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}sl.prototype=ol.prototype,ol.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var al,ll,ul,cl,hl=function(t,e){var n=nl(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},dl={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return hl(100*t,e)},r:hl,s:function(t,e){var n=nl(t,e);if(!n)return t+"";var i=n[0],r=n[1],s=r-(al=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+nl(t,Math.max(0,e+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},fl=function(t){return t},pl=Array.prototype.map,gl=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],ml=function(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?fl:(e=pl.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,s=[],o=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(t.substring(r-=a,r+a)),!((l+=a+1)>i));)a=e[o=(o+1)%e.length];return s.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",s=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?fl:function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(pl.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=sl(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):dl[v]||(void 0===m&&(m=12),y=!0,v="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var b="$"===d?r:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===d?s:/[%p]/.test(v)?l:"",w=dl[v],x=/[defgprs%]/.test(v);function C(t){var r,s,l,d=b,C=_;if("c"===v)C=w(t)+C,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:w(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),S&&0==+t&&"+"!==h&&(S=!1),d=(S?"("===h?h:u:"-"===h||"("===h?"":h)+d,C=("s"===v?gl[8+al/3]:"")+C+(S&&"("===h?")":""),x)for(r=-1,s=t.length;++r<s;)if(48>(l=t.charCodeAt(r))||l>57){C=(46===l?o+t.slice(r+1):t.slice(r))+C,t=t.slice(0,r);break}}g&&!f&&(t=i(t,1/0));var E=d.length+t.length+C.length,k=E<p?new Array(p-E+1).join(e):"";switch(g&&f&&(t=i(k+t,k.length?p-C.length:1/0),k=""),n){case"<":t=d+t+C+k;break;case"=":t=d+k+t+C;break;case"^":t=k.slice(0,E=k.length>>1)+d+t+C+k.slice(E);break;default:t=k+d+t+C}return a(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),C.toString=function(){return t+""},C}return{format:h,formatPrefix:function(t,e){var n=h(((t=sl(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(il(e)/3))),r=Math.pow(10,-i),s=gl[8+i/3];return function(t){return n(r*t)+s}}}};function yl(t){return ll=ml(t),ul=ll.format,cl=ll.formatPrefix,ll}yl({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var vl=function(t){return Math.max(0,-il(Math.abs(t)))},bl=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(il(e)/3)))-il(Math.abs(t)))},_l=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,il(e)-il(t))+1},wl=function(){return new xl};function xl(){this.reset()}xl.prototype={constructor:xl,reset:function(){this.s=this.t=0},add:function(t){Sl(Cl,t,this.t),Sl(this,Cl.s,this.s),this.s?this.t+=Cl.t:this.s=Cl.t},valueOf:function(){return this.s}};var Cl=new xl;function Sl(t,e,n){var i=t.s=e+n,r=i-e;t.t=e-(i-r)+(n-r)}var El=1e-6,kl=1e-12,Tl=Math.PI,Al=Tl/2,Ml=Tl/4,Nl=2*Tl,Il=180/Tl,Ol=Tl/180,Dl=Math.abs,Pl=Math.atan,Rl=Math.atan2,Hl=Math.cos,Ll=Math.ceil,Fl=Math.exp,Vl=(Math,Math.log),jl=Math.pow,zl=Math.sin,Bl=Math.sign||function(t){return t>0?1:t<0?-1:0},Ul=Math.sqrt,ql=Math.tan;function $l(t){return t>1?0:t<-1?Tl:Math.acos(t)}function Wl(t){return t>1?Al:t<-1?-Al:Math.asin(t)}function Yl(t){return(t=zl(t/2))*t}function Gl(){}function Kl(t,e){t&&Zl.hasOwnProperty(t.type)&&Zl[t.type](t,e)}var Ql={Feature:function(t,e){Kl(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)Kl(n[i].geometry,e)}},Zl={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)e.point((t=n[i])[0],t[1],t[2])},LineString:function(t,e){Xl(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Xl(n[i],e,0)},Polygon:function(t,e){Jl(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Jl(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)Kl(n[i],e)}};function Xl(t,e,n){var i,r=-1,s=t.length-n;for(e.lineStart();++r<s;)e.point((i=t[r])[0],i[1],i[2]);e.lineEnd()}function Jl(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Xl(t[n],e,1);e.polygonEnd()}var tu,eu,nu,iu,ru,su=function(t,e){t&&Ql.hasOwnProperty(t.type)?Ql[t.type](t,e):Kl(t,e)},ou=wl(),au=wl(),lu={point:Gl,lineStart:Gl,lineEnd:Gl,polygonStart:function(){ou.reset(),lu.lineStart=uu,lu.lineEnd=cu},polygonEnd:function(){var t=+ou;au.add(t<0?Nl+t:t),this.lineStart=this.lineEnd=this.point=Gl},sphere:function(){au.add(Nl)}};function uu(){lu.point=hu}function cu(){du(tu,eu)}function hu(t,e){lu.point=du,tu=t,eu=e,nu=t*=Ol,iu=Hl(e=(e*=Ol)/2+Ml),ru=zl(e)}function du(t,e){var n=(t*=Ol)-nu,i=n>=0?1:-1,r=i*n,s=Hl(e=(e*=Ol)/2+Ml),o=zl(e),a=ru*o,l=iu*s+a*Hl(r),u=a*i*zl(r);ou.add(Rl(u,l)),nu=t,iu=s,ru=o}var fu=function(t){return au.reset(),su(t,lu),2*au};function pu(t){return[Rl(t[1],t[0]),Wl(t[2])]}function gu(t){var e=t[0],n=t[1],i=Hl(n);return[i*Hl(e),i*zl(e),zl(n)]}function mu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function yu(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function vu(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function bu(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function _u(t){var e=Ul(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var wu,xu,Cu,Su,Eu,ku,Tu,Au,Mu,Nu,Iu=wl(),Ou={point:Du,lineStart:Ru,lineEnd:Hu,polygonStart:function(){Ou.point=Lu,Ou.lineStart=Fu,Ou.lineEnd=Vu,Iu.reset(),lu.polygonStart()},polygonEnd:function(){lu.polygonEnd(),Ou.point=Du,Ou.lineStart=Ru,Ou.lineEnd=Hu,ou<0?(wu=-(Cu=180),xu=-(Su=90)):Iu>El?Su=90:Iu<-1e-6&&(xu=-90),Nu[0]=wu,Nu[1]=Cu},sphere:function(){wu=-(Cu=180),xu=-(Su=90)}};function Du(t,e){Mu.push(Nu=[wu=t,Cu=t]),e<xu&&(xu=e),e>Su&&(Su=e)}function Pu(t,e){var n=gu([t*Ol,e*Ol]);if(Au){var i=yu(Au,n),r=yu([i[1],-i[0],0],i);_u(r),r=pu(r);var s,o=t-Eu,a=o>0?1:-1,l=r[0]*Il*a,u=Dl(o)>180;u^(a*Eu<l&&l<a*t)?(s=r[1]*Il)>Su&&(Su=s):u^(a*Eu<(l=(l+360)%360-180)&&l<a*t)?(s=-r[1]*Il)<xu&&(xu=s):(e<xu&&(xu=e),e>Su&&(Su=e)),u?t<Eu?ju(wu,t)>ju(wu,Cu)&&(Cu=t):ju(t,Cu)>ju(wu,Cu)&&(wu=t):Cu>=wu?(t<wu&&(wu=t),t>Cu&&(Cu=t)):t>Eu?ju(wu,t)>ju(wu,Cu)&&(Cu=t):ju(t,Cu)>ju(wu,Cu)&&(wu=t)}else Mu.push(Nu=[wu=t,Cu=t]);e<xu&&(xu=e),e>Su&&(Su=e),Au=n,Eu=t}function Ru(){Ou.point=Pu}function Hu(){Nu[0]=wu,Nu[1]=Cu,Ou.point=Du,Au=null}function Lu(t,e){if(Au){var n=t-Eu;Iu.add(Dl(n)>180?n+(n>0?360:-360):n)}else ku=t,Tu=e;lu.point(t,e),Pu(t,e)}function Fu(){lu.lineStart()}function Vu(){Lu(ku,Tu),lu.lineEnd(),Dl(Iu)>El&&(wu=-(Cu=180)),Nu[0]=wu,Nu[1]=Cu,Au=null}function ju(t,e){return(e-=t)<0?e+360:e}function zu(t,e){return t[0]-e[0]}function Bu(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Uu,qu,$u,Wu,Yu,Gu,Ku,Qu,Zu,Xu,Ju,tc,ec,nc,ic,rc,sc=function(t){var e,n,i,r,s,o,a;if(Su=Cu=-(wu=xu=1/0),Mu=[],su(t,Ou),n=Mu.length){for(Mu.sort(zu),e=1,s=[i=Mu[0]];e<n;++e)Bu(i,(r=Mu[e])[0])||Bu(i,r[1])?(ju(i[0],r[1])>ju(i[0],i[1])&&(i[1]=r[1]),ju(r[0],i[1])>ju(i[0],i[1])&&(i[0]=r[0])):s.push(i=r);for(o=-1/0,e=0,i=s[n=s.length-1];e<=n;i=r,++e)(a=ju(i[1],(r=s[e])[0]))>o&&(o=a,wu=r[0],Cu=i[1])}return Mu=Nu=null,wu===1/0||xu===1/0?[[NaN,NaN],[NaN,NaN]]:[[wu,xu],[Cu,Su]]},oc={sphere:Gl,point:ac,lineStart:uc,lineEnd:dc,polygonStart:function(){oc.lineStart=fc,oc.lineEnd=pc},polygonEnd:function(){oc.lineStart=uc,oc.lineEnd=dc}};function ac(t,e){t*=Ol;var n=Hl(e*=Ol);lc(n*Hl(t),n*zl(t),zl(e))}function lc(t,e,n){++Uu,$u+=(t-$u)/Uu,Wu+=(e-Wu)/Uu,Yu+=(n-Yu)/Uu}function uc(){oc.point=cc}function cc(t,e){t*=Ol;var n=Hl(e*=Ol);nc=n*Hl(t),ic=n*zl(t),rc=zl(e),oc.point=hc,lc(nc,ic,rc)}function hc(t,e){t*=Ol;var n=Hl(e*=Ol),i=n*Hl(t),r=n*zl(t),s=zl(e),o=Rl(Ul((o=ic*s-rc*r)*o+(o=rc*i-nc*s)*o+(o=nc*r-ic*i)*o),nc*i+ic*r+rc*s);qu+=o,Gu+=o*(nc+(nc=i)),Ku+=o*(ic+(ic=r)),Qu+=o*(rc+(rc=s)),lc(nc,ic,rc)}function dc(){oc.point=ac}function fc(){oc.point=gc}function pc(){mc(tc,ec),oc.point=ac}function gc(t,e){tc=t,ec=e,t*=Ol,e*=Ol,oc.point=mc;var n=Hl(e);nc=n*Hl(t),ic=n*zl(t),rc=zl(e),lc(nc,ic,rc)}function mc(t,e){t*=Ol;var n=Hl(e*=Ol),i=n*Hl(t),r=n*zl(t),s=zl(e),o=ic*s-rc*r,a=rc*i-nc*s,l=nc*r-ic*i,u=Ul(o*o+a*a+l*l),c=Wl(u),h=u&&-c/u;Zu+=h*o,Xu+=h*a,Ju+=h*l,qu+=c,Gu+=c*(nc+(nc=i)),Ku+=c*(ic+(ic=r)),Qu+=c*(rc+(rc=s)),lc(nc,ic,rc)}var yc=function(t){Uu=qu=$u=Wu=Yu=Gu=Ku=Qu=Zu=Xu=Ju=0,su(t,oc);var e=Zu,n=Xu,i=Ju,r=e*e+n*n+i*i;return r<kl&&(e=Gu,n=Ku,i=Qu,qu<El&&(e=$u,n=Wu,i=Yu),(r=e*e+n*n+i*i)<kl)?[NaN,NaN]:[Rl(n,e)*Il,Wl(i/Ul(r))*Il]},vc=function(t){return function(){return t}},bc=function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n};function _c(t,e){return[Dl(t)>Tl?t+Math.round(-t/Nl)*Nl:t,e]}function wc(t,e,n){return(t%=Nl)?e||n?bc(Cc(t),Sc(e,n)):Cc(t):e||n?Sc(e,n):_c}function xc(t){return function(e,n){return[(e+=t)>Tl?e-Nl:e<-Tl?e+Nl:e,n]}}function Cc(t){var e=xc(t);return e.invert=xc(-t),e}function Sc(t,e){var n=Hl(t),i=zl(t),r=Hl(e),s=zl(e);function o(t,e){var o=Hl(e),a=Hl(t)*o,l=zl(t)*o,u=zl(e),c=u*n+a*i;return[Rl(l*r-c*s,a*n-u*i),Wl(c*r+l*s)]}return o.invert=function(t,e){var o=Hl(e),a=Hl(t)*o,l=zl(t)*o,u=zl(e),c=u*r-l*s;return[Rl(l*r+u*s,a*n+c*i),Wl(c*n-a*i)]},o}_c.invert=_c;var Ec=function(t){function e(e){return(e=t(e[0]*Ol,e[1]*Ol))[0]*=Il,e[1]*=Il,e}return t=wc(t[0]*Ol,t[1]*Ol,t.length>2?t[2]*Ol:0),e.invert=function(e){return(e=t.invert(e[0]*Ol,e[1]*Ol))[0]*=Il,e[1]*=Il,e},e};function kc(t,e,n,i,r,s){if(n){var o=Hl(e),a=zl(e),l=i*n;null==r?(r=e+i*Nl,s=e-l/2):(r=Tc(o,r),s=Tc(o,s),(i>0?r<s:r>s)&&(r+=i*Nl));for(var u,c=r;i>0?c>s:c<s;c-=l)u=pu([o,-a*Hl(c),-a*zl(c)]),t.point(u[0],u[1])}}function Tc(t,e){(e=gu(e))[0]-=t,_u(e);var n=$l(-e[1]);return((-e[2]<0?-n:n)+Nl-El)%Nl}var Ac=function(){var t,e,n=vc([0,0]),i=vc(90),r=vc(6),s={point:function(n,i){t.push(n=e(n,i)),n[0]*=Il,n[1]*=Il}};function o(){var o=n.apply(this,arguments),a=i.apply(this,arguments)*Ol,l=r.apply(this,arguments)*Ol;return t=[],e=wc(-o[0]*Ol,-o[1]*Ol,0).invert,kc(s,a,l,1),o={type:"Polygon",coordinates:[t]},t=e=null,o}return o.center=function(t){return arguments.length?(n="function"==typeof t?t:vc([+t[0],+t[1]]),o):n},o.radius=function(t){return arguments.length?(i="function"==typeof t?t:vc(+t),o):i},o.precision=function(t){return arguments.length?(r="function"==typeof t?t:vc(+t),o):r},o},Mc=function(){var t,e=[];return{point:function(e,n,i){t.push([e,n,i])},lineStart:function(){e.push(t=[])},lineEnd:Gl,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Nc=function(t,e){return Dl(t[0]-e[0])<El&&Dl(t[1]-e[1])<El};function Ic(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}var Oc=function(t,e,n,i,r){var s,o,a=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],o=t[e];if(Nc(i,o)){if(!i[2]&&!o[2]){for(r.lineStart(),s=0;s<e;++s)r.point((i=t[s])[0],i[1]);return void r.lineEnd()}o[0]+=2e-6}a.push(n=new Ic(i,t,null,!0)),l.push(n.o=new Ic(i,null,n,!1)),a.push(n=new Ic(o,t,null,!1)),l.push(n.o=new Ic(o,null,n,!0))}}),a.length){for(l.sort(e),Dc(a),Dc(l),s=0,o=l.length;s<o;++s)l[s].e=n=!n;for(var u,c,h=a[0];;){for(var d=h,f=!0;d.v;)if((d=d.n)===h)return;u=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(s=0,o=u.length;s<o;++s)r.point((c=u[s])[0],c[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(f)for(s=(u=d.p.z).length-1;s>=0;--s)r.point((c=u[s])[0],c[1]);else i(d.x,d.p.x,-1,r);d=d.p}u=(d=d.o).z,f=!f}while(!d.v);r.lineEnd()}}};function Dc(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}var Pc=wl();function Rc(t){return Dl(t[0])<=Tl?t[0]:Bl(t[0])*((Dl(t[0])+Tl)%Nl-Tl)}var Hc=function(t,e){var n=Rc(e),i=e[1],r=zl(i),s=[zl(n),-Hl(n),0],o=0,a=0;Pc.reset(),1===r?i=Al+El:-1===r&&(i=-Al-El);for(var l=0,u=t.length;l<u;++l)if(h=(c=t[l]).length)for(var c,h,d=c[h-1],f=Rc(d),p=d[1]/2+Ml,g=zl(p),m=Hl(p),y=0;y<h;++y,f=b,g=w,m=x,d=v){var v=c[y],b=Rc(v),_=v[1]/2+Ml,w=zl(_),x=Hl(_),C=b-f,S=C>=0?1:-1,E=S*C,k=E>Tl,T=g*w;if(Pc.add(Rl(T*S*zl(E),m*x+T*Hl(E))),o+=k?C+S*Nl:C,k^f>=n^b>=n){var A=yu(gu(d),gu(v));_u(A);var M=yu(s,A);_u(M);var N=(k^C>=0?-1:1)*Wl(M[2]);(i>N||i===N&&(A[0]||A[1]))&&(a+=k^C>=0?1:-1)}}return(o<-1e-6||o<El&&Pc<-1e-6)^1&a},Lc=function(t,e,n,i){return function(r){var s,o,a,l=e(r),u=Mc(),c=e(u),h=!1,d={point:f,lineStart:g,lineEnd:m,polygonStart:function(){d.point=y,d.lineStart=v,d.lineEnd=b,o=[],s=[]},polygonEnd:function(){d.point=f,d.lineStart=g,d.lineEnd=m,o=F(o);var t=Hc(s,i);o.length?(h||(r.polygonStart(),h=!0),Oc(o,Vc,t,n,r)):t&&(h||(r.polygonStart(),h=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),h&&(r.polygonEnd(),h=!1),o=s=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function f(e,n){t(e,n)&&r.point(e,n)}function p(t,e){l.point(t,e)}function g(){d.point=p,l.lineStart()}function m(){d.point=f,l.lineEnd()}function y(t,e){a.push([t,e]),c.point(t,e)}function v(){c.lineStart(),a=[]}function b(){y(a[0][0],a[0][1]),c.lineEnd();var t,e,n,i,l=c.clean(),d=u.result(),f=d.length;if(a.pop(),s.push(a),a=null,f)if(1&l){if((e=(n=d[0]).length-1)>0){for(h||(r.polygonStart(),h=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else f>1&&2&l&&d.push(d.pop().concat(d.shift())),o.push(d.filter(Fc))}return d}};function Fc(t){return t.length>1}function Vc(t,e){return((t=t.x)[0]<0?t[1]-Al-El:Al-t[1])-((e=e.x)[0]<0?e[1]-Al-El:Al-e[1])}var jc=Lc(function(){return!0},function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(s,o){var a=s>0?Tl:-Tl,l=Dl(s-n);Dl(l-Tl)<El?(t.point(n,i=(i+o)/2>0?Al:-Al),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(s,i),e=0):r!==a&&l>=Tl&&(Dl(n-r)<El&&(n-=r*El),Dl(s-a)<El&&(s-=a*El),i=function(t,e,n,i){var r,s,o=zl(t-n);return Dl(o)>El?Pl((zl(e)*(s=Hl(i))*zl(n)-zl(i)*(r=Hl(e))*zl(t))/(r*s*o)):(e+i)/2}(n,i,s,o),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=s,i=o),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}},function(t,e,n,i){var r;if(null==t)i.point(-Tl,r=n*Al),i.point(0,r),i.point(Tl,r),i.point(Tl,0),i.point(Tl,-r),i.point(0,-r),i.point(-Tl,-r),i.point(-Tl,0),i.point(-Tl,r);else if(Dl(t[0]-e[0])>El){var s=t[0]<e[0]?Tl:-Tl;i.point(-s,r=n*s/2),i.point(0,r),i.point(s,r)}else i.point(e[0],e[1])},[-Tl,-Al]),zc=function(t){var e=Hl(t),n=6*Ol,i=e>0,r=Dl(e)>El;function s(t,n){return Hl(t)*Hl(n)>e}function o(t,n,i){var r=[1,0,0],s=yu(gu(t),gu(n)),o=mu(s,s),a=s[0],l=o-a*a;if(!l)return!i&&t;var u=e*o/l,c=-e*a/l,h=yu(r,s),d=bu(r,u);vu(d,bu(s,c));var f=h,p=mu(d,f),g=mu(f,f),m=p*p-g*(mu(d,d)-1);if(!(m<0)){var y=Ul(m),v=bu(f,(-p-y)/g);if(vu(v,d),v=pu(v),!i)return v;var b,_=t[0],w=n[0],x=t[1],C=n[1];w<_&&(b=_,_=w,w=b);var S=w-_,E=Dl(S-Tl)<El;if(!E&&C<x&&(b=x,x=C,C=b),E||S<El?E?x+C>0^v[1]<(Dl(v[0]-_)<El?x:C):x<=v[1]&&v[1]<=C:S>Tl^(_<=v[0]&&v[0]<=w)){var k=bu(f,(-p+y)/g);return vu(k,d),[v,pu(k)]}}}function a(e,n){var r=i?t:Tl-t,s=0;return e<-r?s|=1:e>r&&(s|=2),n<-r?s|=4:n>r&&(s|=8),s}return Lc(s,function(t){var e,n,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,d){var f,p=[h,d],g=s(h,d),m=i?g?0:a(h,d):g?a(h+(h<0?Tl:-Tl),d):0;if(!e&&(u=l=g)&&t.lineStart(),g!==l&&(!(f=o(e,p))||Nc(e,f)||Nc(p,f))&&(p[2]=1),g!==l)c=0,g?(t.lineStart(),f=o(p,e),t.point(f[0],f[1])):(f=o(e,p),t.point(f[0],f[1],2),t.lineEnd()),e=f;else if(r&&e&&i^g){var y;m&n||!(y=o(p,e,!0))||(c=0,i?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||e&&Nc(e,p)||t.point(p[0],p[1]),e=p,l=g,n=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(u&&l)<<1}}},function(e,i,r,s){kc(s,t,n,r,e,i)},i?[0,-t]:[-Tl,t-Tl])},Bc=1e9,Uc=-Bc;function qc(t,e,n,i){function r(r,s){return t<=r&&r<=n&&e<=s&&s<=i}function s(r,s,a,u){var c=0,h=0;if(null==r||(c=o(r,a))!==(h=o(s,a))||l(r,s)<0^a>0)do{u.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+a+4)%4)!==h);else u.point(s[0],s[1])}function o(i,r){return Dl(i[0]-t)<El?r>0?0:3:Dl(i[0]-n)<El?r>0?2:1:Dl(i[1]-e)<El?r>0?1:0:r>0?3:2}function a(t,e){return l(t.x,e.x)}function l(t,e){var n=o(t,1),i=o(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(o){var l,u,c,h,d,f,p,g,m,y,v,b=o,_=Mc(),w={point:x,lineStart:function(){w.point=C,u&&u.push(c=[]),y=!0,m=!1,p=g=NaN},lineEnd:function(){l&&(C(h,d),f&&m&&_.rejoin(),l.push(_.result())),w.point=x,m&&b.lineEnd()},polygonStart:function(){b=_,l=[],u=[],v=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=u.length;n<r;++n)for(var s,o,a=u[n],l=1,c=a.length,h=a[0],d=h[0],f=h[1];l<c;++l)s=d,o=f,d=(h=a[l])[0],f=h[1],o<=i?f>i&&(d-s)*(i-o)>(f-o)*(t-s)&&++e:f<=i&&(d-s)*(i-o)<(f-o)*(t-s)&&--e;return e}(),n=v&&e,r=(l=F(l)).length;(n||r)&&(o.polygonStart(),n&&(o.lineStart(),s(null,null,1,o),o.lineEnd()),r&&Oc(l,a,e,s,o),o.polygonEnd()),b=o,l=u=c=null}};function x(t,e){r(t,e)&&b.point(t,e)}function C(s,o){var a=r(s,o);if(u&&c.push([s,o]),y)h=s,d=o,f=a,y=!1,a&&(b.lineStart(),b.point(s,o));else if(a&&m)b.point(s,o);else{var l=[p=Math.max(Uc,Math.min(Bc,p)),g=Math.max(Uc,Math.min(Bc,g))],_=[s=Math.max(Uc,Math.min(Bc,s)),o=Math.max(Uc,Math.min(Bc,o))];!function(t,e,n,i,r,s){var o,a=t[0],l=t[1],u=0,c=1,h=e[0]-a,d=e[1]-l;if(o=n-a,h||!(o>0)){if(o/=h,h<0){if(o<u)return;o<c&&(c=o)}else if(h>0){if(o>c)return;o>u&&(u=o)}if(o=r-a,h||!(o<0)){if(o/=h,h<0){if(o>c)return;o>u&&(u=o)}else if(h>0){if(o<u)return;o<c&&(c=o)}if(o=i-l,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<c&&(c=o)}else if(d>0){if(o>c)return;o>u&&(u=o)}if(o=s-l,d||!(o<0)){if(o/=d,d<0){if(o>c)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<c&&(c=o)}return u>0&&(t[0]=a+u*h,t[1]=l+u*d),c<1&&(e[0]=a+c*h,e[1]=l+c*d),!0}}}}}(l,_,t,e,n,i)?a&&(b.lineStart(),b.point(s,o),v=!1):(m||(b.lineStart(),b.point(l[0],l[1])),b.point(_[0],_[1]),a||b.lineEnd(),v=!1)}p=s,g=o,m=a}return w}}var $c,Wc,Yc,Gc=function(){var t,e,n,i=0,r=0,s=960,o=500;return n={stream:function(n){return t&&e===n?t:t=qc(i,r,s,o)(e=n)},extent:function(a){return arguments.length?(i=+a[0][0],r=+a[0][1],s=+a[1][0],o=+a[1][1],t=e=null,n):[[i,r],[s,o]]}}},Kc=wl(),Qc={sphere:Gl,point:Gl,lineStart:function(){Qc.point=Xc,Qc.lineEnd=Zc},lineEnd:Gl,polygonStart:Gl,polygonEnd:Gl};function Zc(){Qc.point=Qc.lineEnd=Gl}function Xc(t,e){$c=t*=Ol,Wc=zl(e*=Ol),Yc=Hl(e),Qc.point=Jc}function Jc(t,e){t*=Ol;var n=zl(e*=Ol),i=Hl(e),r=Dl(t-$c),s=Hl(r),o=i*zl(r),a=Yc*n-Wc*i*s,l=Wc*n+Yc*i*s;Kc.add(Rl(Ul(o*o+a*a),l)),$c=t,Wc=n,Yc=i}var th=function(t){return Kc.reset(),su(t,Qc),+Kc},eh=[null,null],nh={type:"LineString",coordinates:eh},ih=function(t,e){return eh[0]=t,eh[1]=e,th(nh)},rh={Feature:function(t,e){return oh(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(oh(n[i].geometry,e))return!0;return!1}},sh={Sphere:function(){return!0},Point:function(t,e){return ah(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(ah(n[i],e))return!0;return!1},LineString:function(t,e){return lh(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(lh(n[i],e))return!0;return!1},Polygon:function(t,e){return uh(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(uh(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(oh(n[i],e))return!0;return!1}};function oh(t,e){return!(!t||!sh.hasOwnProperty(t.type))&&sh[t.type](t,e)}function ah(t,e){return 0===ih(t,e)}function lh(t,e){for(var n,i,r,s=0,o=t.length;s<o;s++){if(0===(i=ih(t[s],e)))return!0;if(s>0&&(r=ih(t[s],t[s-1]))>0&&n<=r&&i<=r&&(n+i-r)*(1-Math.pow((n-i)/r,2))<kl*r)return!0;n=i}return!1}function uh(t,e){return!!Hc(t.map(ch),hh(e))}function ch(t){return(t=t.map(hh)).pop(),t}function hh(t){return[t[0]*Ol,t[1]*Ol]}var dh=function(t,e){return(t&&rh.hasOwnProperty(t.type)?rh[t.type]:oh)(t,e)};function fh(t,e,n){var i=C(t,e-El,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function ph(t,e,n){var i=C(t,e-El,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function gh(){var t,e,n,i,r,s,o,a,l,u,c,h,d=10,f=d,p=90,g=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return C(Ll(i/p)*p,n,p).map(c).concat(C(Ll(a/g)*g,o,g).map(h)).concat(C(Ll(e/d)*d,t,d).filter(function(t){return Dl(t%p)>El}).map(l)).concat(C(Ll(s/f)*f,r,f).filter(function(t){return Dl(t%g)>El}).map(u))}return y.lines=function(){return v().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[c(i).concat(h(o).slice(1),c(n).reverse().slice(1),h(a).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(a=+t[0][1],o=+t[1][1],(i=+t[0][0])>(n=+t[1][0])&&(t=i,i=n,n=t),a>o&&(t=a,a=o,o=t),y.precision(m)):[[i,a],[n,o]]},y.extentMinor=function(n){return arguments.length?(s=+n[0][1],r=+n[1][1],(e=+n[0][0])>(t=+n[1][0])&&(n=e,e=t,t=n),s>r&&(n=s,s=r,r=n),y.precision(m)):[[e,s],[t,r]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],y):[p,g]},y.stepMinor=function(t){return arguments.length?(d=+t[0],f=+t[1],y):[d,f]},y.precision=function(d){return arguments.length?(m=+d,l=fh(s,r,90),u=ph(e,t,m),c=fh(a,o,90),h=ph(i,n,m),y):m},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function mh(){return gh()()}var yh,vh,bh,_h,wh=function(t,e){var n=t[0]*Ol,i=t[1]*Ol,r=e[0]*Ol,s=e[1]*Ol,o=Hl(i),a=zl(i),l=Hl(s),u=zl(s),c=o*Hl(n),h=o*zl(n),d=l*Hl(r),f=l*zl(r),p=2*Wl(Ul(Yl(s-i)+o*l*Yl(r-n))),g=zl(p),m=p?function(t){var e=zl(t*=p)/g,n=zl(p-t)/g,i=n*c+e*d,r=n*h+e*f,s=n*a+e*u;return[Rl(r,i)*Il,Rl(s,Ul(i*i+r*r))*Il]}:function(){return[n*Il,i*Il]};return m.distance=p,m},xh=function(t){return t},Ch=wl(),Sh=wl(),Eh={point:Gl,lineStart:Gl,lineEnd:Gl,polygonStart:function(){Eh.lineStart=kh,Eh.lineEnd=Mh},polygonEnd:function(){Eh.lineStart=Eh.lineEnd=Eh.point=Gl,Ch.add(Dl(Sh)),Sh.reset()},result:function(){var t=Ch/2;return Ch.reset(),t}};function kh(){Eh.point=Th}function Th(t,e){Eh.point=Ah,yh=bh=t,vh=_h=e}function Ah(t,e){Sh.add(_h*t-bh*e),bh=t,_h=e}function Mh(){Ah(yh,vh)}var Nh,Ih,Oh,Dh,Ph=Eh,Rh=1/0,Hh=Rh,Lh=-Rh,Fh=Lh,Vh={point:function(t,e){t<Rh&&(Rh=t),t>Lh&&(Lh=t),e<Hh&&(Hh=e),e>Fh&&(Fh=e)},lineStart:Gl,lineEnd:Gl,polygonStart:Gl,polygonEnd:Gl,result:function(){var t=[[Rh,Hh],[Lh,Fh]];return Lh=Fh=-(Hh=Rh=1/0),t}},jh=0,zh=0,Bh=0,Uh=0,qh=0,$h=0,Wh=0,Yh=0,Gh=0,Kh={point:Qh,lineStart:Zh,lineEnd:td,polygonStart:function(){Kh.lineStart=ed,Kh.lineEnd=nd},polygonEnd:function(){Kh.point=Qh,Kh.lineStart=Zh,Kh.lineEnd=td},result:function(){var t=Gh?[Wh/Gh,Yh/Gh]:$h?[Uh/$h,qh/$h]:Bh?[jh/Bh,zh/Bh]:[NaN,NaN];return jh=zh=Bh=Uh=qh=$h=Wh=Yh=Gh=0,t}};function Qh(t,e){jh+=t,zh+=e,++Bh}function Zh(){Kh.point=Xh}function Xh(t,e){Kh.point=Jh,Qh(Oh=t,Dh=e)}function Jh(t,e){var n=t-Oh,i=e-Dh,r=Ul(n*n+i*i);Uh+=r*(Oh+t)/2,qh+=r*(Dh+e)/2,$h+=r,Qh(Oh=t,Dh=e)}function td(){Kh.point=Qh}function ed(){Kh.point=id}function nd(){rd(Nh,Ih)}function id(t,e){Kh.point=rd,Qh(Nh=Oh=t,Ih=Dh=e)}function rd(t,e){var n=t-Oh,i=e-Dh,r=Ul(n*n+i*i);Uh+=r*(Oh+t)/2,qh+=r*(Dh+e)/2,$h+=r,Wh+=(r=Dh*t-Oh*e)*(Oh+t),Yh+=r*(Dh+e),Gh+=3*r,Qh(Oh=t,Dh=e)}var sd=Kh;function od(t){this._context=t}od.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Nl)}},result:Gl};var ad,ld,ud,cd,hd,dd=wl(),fd={point:Gl,lineStart:function(){fd.point=pd},lineEnd:function(){ad&&gd(ld,ud),fd.point=Gl},polygonStart:function(){ad=!0},polygonEnd:function(){ad=null},result:function(){var t=+dd;return dd.reset(),t}};function pd(t,e){fd.point=gd,ld=cd=t,ud=hd=e}function gd(t,e){dd.add(Ul((cd-=t)*cd+(hd-=e)*hd)),cd=t,hd=e}var md=fd;function yd(){this._string=[]}function vd(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}yd.prototype={_radius:4.5,_circle:vd(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=vd(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var bd=function(t,e){var n,i,r=4.5;function s(t){return t&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),su(t,n(i))),i.result()}return s.area=function(t){return su(t,n(Ph)),Ph.result()},s.measure=function(t){return su(t,n(md)),md.result()},s.bounds=function(t){return su(t,n(Vh)),Vh.result()},s.centroid=function(t){return su(t,n(sd)),sd.result()},s.projection=function(e){return arguments.length?(n=null==e?(t=null,xh):(t=e).stream,s):t},s.context=function(t){return arguments.length?(i=null==t?(e=null,new yd):new od(e=t),"function"!=typeof r&&i.pointRadius(r),s):e},s.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(i.pointRadius(+t),+t),s):r},s.projection(t).context(e)},_d=function(t){return{stream:wd(t)}};function wd(t){return function(e){var n=new xd;for(var i in t)n[i]=t[i];return n.stream=e,n}}function xd(){}function Cd(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),su(n,t.stream(Vh)),e(Vh.result()),null!=i&&t.clipExtent(i),t}function Sd(t,e,n){return Cd(t,function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],s=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),o=+e[0][0]+(i-s*(n[1][0]+n[0][0]))/2,a=+e[0][1]+(r-s*(n[1][1]+n[0][1]))/2;t.scale(150*s).translate([o,a])},n)}function Ed(t,e,n){return Sd(t,[[0,0],e],n)}function kd(t,e,n){return Cd(t,function(n){var i=+e,r=i/(n[1][0]-n[0][0]),s=(i-r*(n[1][0]+n[0][0]))/2,o=-r*n[0][1];t.scale(150*r).translate([s,o])},n)}function Td(t,e,n){return Cd(t,function(n){var i=+e,r=i/(n[1][1]-n[0][1]),s=-r*n[0][0],o=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([s,o])},n)}xd.prototype={constructor:xd,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ad=Hl(30*Ol),Md=function(t,e){return+e?function(t,e){function n(i,r,s,o,a,l,u,c,h,d,f,p,g,m){var y=u-i,v=c-r,b=y*y+v*v;if(b>4*e&&g--){var _=o+d,w=a+f,x=l+p,C=Ul(_*_+w*w+x*x),S=Wl(x/=C),E=Dl(Dl(x)-1)<El||Dl(s-h)<El?(s+h)/2:Rl(w,_),k=t(E,S),T=k[0],A=k[1],M=T-i,N=A-r,I=v*M-y*N;(I*I/b>e||Dl((y*M+v*N)/b-.5)>.3||o*d+a*f+l*p<Ad)&&(n(i,r,s,o,a,l,T,A,E,_/=C,w/=C,x,g,m),m.point(T,A),n(T,A,E,_,w,x,u,c,h,d,f,p,g,m))}}return function(e){var i,r,s,o,a,l,u,c,h,d,f,p,g={point:m,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),g.lineStart=_},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function m(n,i){n=t(n,i),e.point(n[0],n[1])}function y(){c=NaN,g.point=v,e.lineStart()}function v(i,r){var s=gu([i,r]),o=t(i,r);n(c,h,u,d,f,p,c=o[0],h=o[1],u=i,d=s[0],f=s[1],p=s[2],16,e),e.point(c,h)}function b(){g.point=m,e.lineEnd()}function _(){y(),g.point=w,g.lineEnd=x}function w(t,e){v(i=t,e),r=c,s=h,o=d,a=f,l=p,g.point=v}function x(){n(c,h,u,d,f,p,r,s,i,o,a,l,16,e),g.lineEnd=b,b()}return g}}(t,e):function(t){return wd({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},Nd=wd({point:function(t,e){this.stream.point(t*Ol,e*Ol)}});function Id(t,e,n,i,r){function s(s,o){return[e+t*(s*=i),n-t*(o*=r)]}return s.invert=function(s,o){return[(s-e)/t*i,(n-o)/t*r]},s}function Od(t,e,n,i,r,s){var o=Hl(s),a=zl(s),l=o*t,u=a*t,c=o/t,h=a/t,d=(a*n-o*e)/t,f=(a*e+o*n)/t;function p(t,s){return[l*(t*=i)-u*(s*=r)+e,n-u*t-l*s]}return p.invert=function(t,e){return[i*(c*t-h*e+d),r*(f-h*t-c*e)]},p}function Dd(t){return Pd(function(){return t})()}function Pd(t){var e,n,i,r,s,o,a,l,u,c,h=150,d=480,f=250,p=0,g=0,m=0,y=0,v=0,b=0,_=1,w=1,x=null,C=jc,S=null,E=xh,k=.5;function T(t){return l(t[0]*Ol,t[1]*Ol)}function A(t){return(t=l.invert(t[0],t[1]))&&[t[0]*Il,t[1]*Il]}function M(){var t=Od(h,0,0,_,w,b).apply(null,e(p,g)),i=(b?Od:Id)(h,d-t[0],f-t[1],_,w,b);return n=wc(m,y,v),a=bc(e,i),l=bc(n,a),o=Md(a,k),N()}function N(){return u=c=null,T}return T.stream=function(t){return u&&c===t?u:u=Nd(function(t){return wd({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}(n)(C(o(E(c=t)))))},T.preclip=function(t){return arguments.length?(C=t,x=void 0,N()):C},T.postclip=function(t){return arguments.length?(E=t,S=i=r=s=null,N()):E},T.clipAngle=function(t){return arguments.length?(C=+t?zc(x=t*Ol):(x=null,jc),N()):x*Il},T.clipExtent=function(t){return arguments.length?(E=null==t?(S=i=r=s=null,xh):qc(S=+t[0][0],i=+t[0][1],r=+t[1][0],s=+t[1][1]),N()):null==S?null:[[S,i],[r,s]]},T.scale=function(t){return arguments.length?(h=+t,M()):h},T.translate=function(t){return arguments.length?(d=+t[0],f=+t[1],M()):[d,f]},T.center=function(t){return arguments.length?(p=t[0]%360*Ol,g=t[1]%360*Ol,M()):[p*Il,g*Il]},T.rotate=function(t){return arguments.length?(m=t[0]%360*Ol,y=t[1]%360*Ol,v=t.length>2?t[2]%360*Ol:0,M()):[m*Il,y*Il,v*Il]},T.angle=function(t){return arguments.length?(b=t%360*Ol,M()):b*Il},T.reflectX=function(t){return arguments.length?(_=t?-1:1,M()):_<0},T.reflectY=function(t){return arguments.length?(w=t?-1:1,M()):w<0},T.precision=function(t){return arguments.length?(o=Md(a,k=t*t),N()):Ul(k)},T.fitExtent=function(t,e){return Sd(T,t,e)},T.fitSize=function(t,e){return Ed(T,t,e)},T.fitWidth=function(t,e){return kd(T,t,e)},T.fitHeight=function(t,e){return Td(T,t,e)},function(){return e=t.apply(this,arguments),T.invert=e.invert&&A,M()}}function Rd(t){var e=0,n=Tl/3,i=Pd(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Ol,n=t[1]*Ol):[e*Il,n*Il]},r}function Hd(t,e){var n=zl(t),i=(n+zl(e))/2;if(Dl(i)<El)return function(t){var e=Hl(t);function n(t,n){return[t*e,zl(n)/e]}return n.invert=function(t,n){return[t/e,Wl(n*e)]},n}(t);var r=1+n*(2*i-n),s=Ul(r)/i;function o(t,e){var n=Ul(r-2*i*zl(e))/i;return[n*zl(t*=i),s-n*Hl(t)]}return o.invert=function(t,e){var n=s-e,o=Rl(t,Dl(n))*Bl(n);return n*i<0&&(o-=Tl*Bl(t)*Bl(n)),[o/i,Wl((r-(t*t+n*n)*i*i)/(2*i))]},o}var Ld=function(){return Rd(Hd).scale(155.424).center([0,33.6442])},Fd=function(){return Ld().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},Vd=function(){var t,e,n,i,r,s,o=Fd(),a=Ld().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Ld().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,e){s=[t,e]}};function c(t){var e=t[0],o=t[1];return s=null,n.point(e,o),s||(i.point(e,o),s)||(r.point(e,o),s)}function h(){return t=e=null,c}return c.invert=function(t){var e=o.scale(),n=o.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?a:r>=.166&&r<.234&&i>=-.214&&i<-.115?l:o).invert(t)},c.stream=function(n){return t&&e===n?t:(i=[o.stream(e=n),a.stream(n),l.stream(n)],r=i.length,t={point:function(t,e){for(var n=-1;++n<r;)i[n].point(t,e)},sphere:function(){for(var t=-1;++t<r;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)i[t].polygonEnd()}});var i,r},c.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),l.precision(t),h()):o.precision()},c.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),l.scale(t),c.translate(o.translate())):o.scale()},c.translate=function(t){if(!arguments.length)return o.translate();var e=o.scale(),s=+t[0],c=+t[1];return n=o.translate(t).clipExtent([[s-.455*e,c-.238*e],[s+.455*e,c+.238*e]]).stream(u),i=a.translate([s-.307*e,c+.201*e]).clipExtent([[s-.425*e+El,c+.12*e+El],[s-.214*e-El,c+.234*e-El]]).stream(u),r=l.translate([s-.205*e,c+.212*e]).clipExtent([[s-.214*e+El,c+.166*e+El],[s-.115*e-El,c+.234*e-El]]).stream(u),h()},c.fitExtent=function(t,e){return Sd(c,t,e)},c.fitSize=function(t,e){return Ed(c,t,e)},c.fitWidth=function(t,e){return kd(c,t,e)},c.fitHeight=function(t,e){return Td(c,t,e)},c.scale(1070)};function jd(t){return function(e,n){var i=Hl(e),r=Hl(n),s=t(i*r);return[s*r*zl(e),s*zl(n)]}}function zd(t){return function(e,n){var i=Ul(e*e+n*n),r=t(i),s=zl(r),o=Hl(r);return[Rl(e*s,i*o),Wl(i&&n*s/i)]}}var Bd=jd(function(t){return Ul(2/(1+t))});Bd.invert=zd(function(t){return 2*Wl(t/2)});var Ud=function(){return Dd(Bd).scale(124.75).clipAngle(179.999)},qd=jd(function(t){return(t=$l(t))&&t/zl(t)});qd.invert=zd(function(t){return t});var $d=function(){return Dd(qd).scale(79.4188).clipAngle(179.999)};function Wd(t,e){return[t,Vl(ql((Al+e)/2))]}Wd.invert=function(t,e){return[t,2*Pl(Fl(e))-Al]};var Yd=function(){return Gd(Wd).scale(961/Nl)};function Gd(t){var e,n,i,r=Dd(t),s=r.center,o=r.scale,a=r.translate,l=r.clipExtent,u=null;function c(){var s=Tl*o(),a=r(Ec(r.rotate()).invert([0,0]));return l(null==u?[[a[0]-s,a[1]-s],[a[0]+s,a[1]+s]]:t===Wd?[[Math.max(a[0]-s,u),e],[Math.min(a[0]+s,n),i]]:[[u,Math.max(a[1]-s,e)],[n,Math.min(a[1]+s,i)]])}return r.scale=function(t){return arguments.length?(o(t),c()):o()},r.translate=function(t){return arguments.length?(a(t),c()):a()},r.center=function(t){return arguments.length?(s(t),c()):s()},r.clipExtent=function(t){return arguments.length?(null==t?u=e=n=i=null:(u=+t[0][0],e=+t[0][1],n=+t[1][0],i=+t[1][1]),c()):null==u?null:[[u,e],[n,i]]},c()}function Kd(t){return ql((Al+t)/2)}function Qd(t,e){var n=Hl(t),i=t===e?zl(t):Vl(n/Hl(e))/Vl(Kd(e)/Kd(t)),r=n*jl(Kd(t),i)/i;if(!i)return Wd;function s(t,e){r>0?e<-Al+El&&(e=-Al+El):e>Al-El&&(e=Al-El);var n=r/jl(Kd(e),i);return[n*zl(i*t),r-n*Hl(i*t)]}return s.invert=function(t,e){var n=r-e,s=Bl(i)*Ul(t*t+n*n),o=Rl(t,Dl(n))*Bl(n);return n*i<0&&(o-=Tl*Bl(t)*Bl(n)),[o/i,2*Pl(jl(r/s,1/i))-Al]},s}var Zd=function(){return Rd(Qd).scale(109.5).parallels([30,30])};function Xd(t,e){return[t,e]}Xd.invert=Xd;var Jd=function(){return Dd(Xd).scale(152.63)};function tf(t,e){var n=Hl(t),i=t===e?zl(t):(n-Hl(e))/(e-t),r=n/i+t;if(Dl(i)<El)return Xd;function s(t,e){var n=r-e,s=i*t;return[n*zl(s),r-n*Hl(s)]}return s.invert=function(t,e){var n=r-e,s=Rl(t,Dl(n))*Bl(n);return n*i<0&&(s-=Tl*Bl(t)*Bl(n)),[s/i,r-Bl(i)*Ul(t*t+n*n)]},s}var ef=function(){return Rd(tf).scale(131.154).center([0,13.9389])},nf=1.340264,rf=-.081106,sf=893e-6,of=.003796,af=Ul(3)/2;function lf(t,e){var n=Wl(af*zl(e)),i=n*n,r=i*i*i;return[t*Hl(n)/(af*(nf+3*rf*i+r*(7*sf+9*of*i))),n*(nf+rf*i+r*(sf+of*i))]}lf.invert=function(t,e){for(var n,i=e,r=i*i,s=r*r*r,o=0;o<12&&(s=(r=(i-=n=(i*(nf+rf*r+s*(sf+of*r))-e)/(nf+3*rf*r+s*(7*sf+9*of*r)))*i)*r*r,!(Dl(n)<kl));++o);return[af*t*(nf+3*rf*r+s*(7*sf+9*of*r))/Hl(i),Wl(zl(i)/af)]};var uf=function(){return Dd(lf).scale(177.158)};function cf(t,e){var n=Hl(e),i=Hl(t)*n;return[n*zl(t)/i,zl(e)/i]}cf.invert=zd(Pl);var hf=function(){return Dd(cf).scale(144.049).clipAngle(60)},df=function(){var t,e,n,i,r,s,o,a=1,l=0,u=0,c=1,h=1,d=0,f=null,p=1,g=1,m=wd({point:function(t,e){var n=b([t,e]);this.stream.point(n[0],n[1])}}),y=xh;function v(){return p=a*c,g=a*h,s=o=null,b}function b(n){var i=n[0]*p,r=n[1]*g;if(d){var s=r*t-i*e;i=i*t+r*e,r=s}return[i+l,r+u]}return b.invert=function(n){var i=n[0]-l,r=n[1]-u;if(d){var s=r*t+i*e;i=i*t-r*e,r=s}return[i/p,r/g]},b.stream=function(t){return s&&o===t?s:s=m(y(o=t))},b.postclip=function(t){return arguments.length?(y=t,f=n=i=r=null,v()):y},b.clipExtent=function(t){return arguments.length?(y=null==t?(f=n=i=r=null,xh):qc(f=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),v()):null==f?null:[[f,n],[i,r]]},b.scale=function(t){return arguments.length?(a=+t,v()):a},b.translate=function(t){return arguments.length?(l=+t[0],u=+t[1],v()):[l,u]},b.angle=function(n){return arguments.length?(e=zl(d=n%360*Ol),t=Hl(d),v()):d*Il},b.reflectX=function(t){return arguments.length?(c=t?-1:1,v()):c<0},b.reflectY=function(t){return arguments.length?(h=t?-1:1,v()):h<0},b.fitExtent=function(t,e){return Sd(b,t,e)},b.fitSize=function(t,e){return Ed(b,t,e)},b.fitWidth=function(t,e){return kd(b,t,e)},b.fitHeight=function(t,e){return Td(b,t,e)},b};function ff(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}ff.invert=function(t,e){var n,i=e,r=25;do{var s=i*i,o=s*s;i-=n=(i*(1.007226+s*(.015085+o*(.028874*s-.044475-.005916*o)))-e)/(1.007226+s*(.045255+o*(.259866*s-.311325-.005916*11*o)))}while(Dl(n)>El&&--r>0);return[t/(.8707+(s=i*i)*(s*(s*s*s*(.003971-.001529*s)-.013791)-.131979)),i]};var pf=function(){return Dd(ff).scale(175.295)};function gf(t,e){return[Hl(e)*zl(t),zl(e)]}gf.invert=zd(Wl);var mf=function(){return Dd(gf).scale(249.5).clipAngle(90.000001)};function yf(t,e){var n=Hl(e),i=1+Hl(t)*n;return[n*zl(t)/i,zl(e)/i]}yf.invert=zd(function(t){return 2*Pl(t)});var vf=function(){return Dd(yf).scale(250).clipAngle(142)};function bf(t,e){return[Vl(ql((Al+e)/2)),-t]}bf.invert=function(t,e){return[-e,2*Pl(Fl(t))-Al]};var _f=function(){var t=Gd(bf),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};function wf(t,e){return t.parent===e.parent?1:2}function xf(t,e){return t+e.x}function Cf(t,e){return Math.max(t,e.y)}var Sf=function(){var t=wf,e=1,n=1,i=!1;function r(r){var s,o=0;r.eachAfter(function(e){var n=e.children;n?(e.x=function(t){return t.reduce(xf,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Cf,0)}(n)):(e.x=s?o+=t(e,s):0,e.y=0,s=e)});var a=function(t){for(var e;e=t.children;)t=e[0];return t}(r),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),u=a.x-t(a,l)/2,c=l.x+t(l,a)/2;return r.eachAfter(i?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-u)/(c-u)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r};function Ef(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function kf(t,e){var n,i,r,s,o,a=new Nf(t),l=+t.value&&(a.value=t.value),u=[a];for(null==e&&(e=Tf);n=u.pop();)if(l&&(n.value=+n.data.value),(r=e(n.data))&&(o=r.length))for(n.children=new Array(o),s=o-1;s>=0;--s)u.push(i=n.children[s]=new Nf(r[s])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(Mf)}function Tf(t){return t.children}function Af(t){t.data=t.data.data}function Mf(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Nf(t){this.data=t,this.depth=this.height=0,this.parent=null}Nf.prototype=kf.prototype={constructor:Nf,count:function(){return this.eachAfter(Ef)},each:function(t){var e,n,i,r,s=this,o=[s];do{for(e=o.reverse(),o=[];s=e.pop();)if(t(s),n=s.children)for(i=0,r=n.length;i<r;++i)o.push(n[i])}while(o.length);return this},eachAfter:function(t){for(var e,n,i,r=this,s=[r],o=[];r=s.pop();)if(o.push(r),e=r.children)for(n=0,i=e.length;n<i;++n)s.push(e[n]);for(;r=o.pop();)t(r);return this},eachBefore:function(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),e=i.children)for(n=e.length-1;n>=0;--n)r.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)i.push(e=e.parent);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return kf(this).eachBefore(Af)}};var If=Array.prototype.slice,Of=function(t){for(var e,n,i=0,r=(t=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t}(If.call(t))).length,s=[];i<r;)e=t[i],n&&Rf(n,e)?++i:(n=Lf(s=Df(s,e)),i=0);return n};function Df(t,e){var n,i;if(Hf(e,t))return[e];for(n=0;n<t.length;++n)if(Pf(e,t[n])&&Hf(Ff(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(Pf(Ff(t[n],t[i]),e)&&Pf(Ff(t[n],e),t[i])&&Pf(Ff(t[i],e),t[n])&&Hf(Vf(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function Pf(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function Rf(t,e){var n=t.r-e.r+1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function Hf(t,e){for(var n=0;n<e.length;++n)if(!Rf(t,e[n]))return!1;return!0}function Lf(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return Ff(t[0],t[1]);case 3:return Vf(t[0],t[1],t[2])}var e}function Ff(t,e){var n=t.x,i=t.y,r=t.r,s=e.x,o=e.y,a=e.r,l=s-n,u=o-i,c=a-r,h=Math.sqrt(l*l+u*u);return{x:(n+s+l/h*c)/2,y:(i+o+u/h*c)/2,r:(h+r+a)/2}}function Vf(t,e,n){var i=t.x,r=t.y,s=t.r,o=e.x,a=e.y,l=e.r,u=n.x,c=n.y,h=n.r,d=i-o,f=i-u,p=r-a,g=r-c,m=l-s,y=h-s,v=i*i+r*r-s*s,b=v-o*o-a*a+l*l,_=v-u*u-c*c+h*h,w=f*p-d*g,x=(p*_-g*b)/(2*w)-i,C=(g*m-p*y)/w,S=(f*b-d*_)/(2*w)-r,E=(d*y-f*m)/w,k=C*C+E*E-1,T=2*(s+x*C+S*E),A=x*x+S*S-s*s,M=-(k?(T+Math.sqrt(T*T-4*k*A))/(2*k):A/T);return{x:i+x+C*M,y:r+S+E*M,r:M}}function jf(t,e,n){var i,r,s,o,a=t.x-e.x,l=t.y-e.y,u=a*a+l*l;u?(r=e.r+n.r,o=t.r+n.r,(r*=r)>(o*=o)?(i=(u+o-r)/(2*u),s=Math.sqrt(Math.max(0,o/u-i*i)),n.x=t.x-i*a-s*l,n.y=t.y-i*l+s*a):(i=(u+r-o)/(2*u),s=Math.sqrt(Math.max(0,r/u-i*i)),n.x=e.x+i*a-s*l,n.y=e.y+i*l+s*a)):(n.x=e.x+n.r,n.y=e.y)}function zf(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function Bf(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,s=(e.y*n.r+n.y*e.r)/i;return r*r+s*s}function Uf(t){this._=t,this.next=null,this.previous=null}function qf(t){if(!(r=t.length))return 0;var e,n,i,r,s,o,a,l,u,c,h;if((e=t[0]).x=0,e.y=0,!(r>1))return e.r;if(e.x=-(n=t[1]).r,n.x=e.r,n.y=0,!(r>2))return e.r+n.r;jf(n,e,i=t[2]),e=new Uf(e),n=new Uf(n),i=new Uf(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(a=3;a<r;++a){jf(e._,n._,i=t[a]),i=new Uf(i),l=n.next,u=e.previous,c=n._.r,h=e._.r;do{if(c<=h){if(zf(l._,i._)){e.next=n=l,n.previous=e,--a;continue t}c+=l._.r,l=l.next}else{if(zf(u._,i._)){(e=u).next=n,n.previous=e,--a;continue t}h+=u._.r,u=u.previous}}while(l!==u.next);for(i.previous=e,i.next=n,e.next=n.previous=n=i,s=Bf(e);(i=i.next)!==n;)(o=Bf(i))<s&&(e=i,s=o);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=Of(e),a=0;a<r;++a)(e=t[a]).x-=i.x,e.y-=i.y;return i.r}var $f=function(t){return qf(t),t};function Wf(t){return null==t?null:Yf(t)}function Yf(t){if("function"!=typeof t)throw new Error;return t}function Gf(){return 0}var Kf=function(t){return function(){return t}};function Qf(t){return Math.sqrt(t.value)}var Zf=function(){var t=null,e=1,n=1,i=Gf;function r(r){return r.x=e/2,r.y=n/2,t?r.eachBefore(Xf(t)).eachAfter(Jf(i,.5)).eachBefore(tp(1)):r.eachBefore(Xf(Qf)).eachAfter(Jf(Gf,1)).eachAfter(Jf(i,r.r/Math.min(e,n))).eachBefore(tp(Math.min(e,n)/(2*r.r))),r}return r.radius=function(e){return arguments.length?(t=Wf(e),r):t},r.size=function(t){return arguments.length?(e=+t[0],n=+t[1],r):[e,n]},r.padding=function(t){return arguments.length?(i="function"==typeof t?t:Kf(+t),r):i},r};function Xf(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Jf(t,e){return function(n){if(i=n.children){var i,r,s,o=i.length,a=t(n)*e||0;if(a)for(r=0;r<o;++r)i[r].r+=a;if(s=qf(i),a)for(r=0;r<o;++r)i[r].r-=a;n.r=s+a}}}function tp(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var ep=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},np=function(t,e,n,i,r){for(var s,o=t.children,a=-1,l=o.length,u=t.value&&(i-e)/t.value;++a<l;)(s=o[a]).y0=n,s.y1=r,s.x0=e,s.x1=e+=s.value*u},ip=function(){var t=1,e=1,n=0,i=!1;function r(r){var s=r.height+1;return r.x0=r.y0=n,r.x1=t,r.y1=e/s,r.eachBefore(function(t,e){return function(i){i.children&&np(i,i.x0,t*(i.depth+1)/e,i.x1,t*(i.depth+2)/e);var r=i.x0,s=i.y0,o=i.x1-n,a=i.y1-n;o<r&&(r=o=(r+o)/2),a<s&&(s=a=(s+a)/2),i.x0=r,i.y0=s,i.x1=o,i.y1=a}}(e,s)),i&&r.eachBefore(ep),r}return r.round=function(t){return arguments.length?(i=!!t,r):i},r.size=function(n){return arguments.length?(t=+n[0],e=+n[1],r):[t,e]},r.padding=function(t){return arguments.length?(n=+t,r):n},r},rp={depth:-1},sp={};function op(t){return t.id}function ap(t){return t.parentId}var lp=function(){var t=op,e=ap;function n(n){var i,r,s,o,a,l,u,c=n.length,h=new Array(c),d={};for(r=0;r<c;++r)a=h[r]=new Nf(i=n[r]),null!=(l=t(i,r,n))&&(l+="")&&(d[u="$"+(a.id=l)]=u in d?sp:a);for(r=0;r<c;++r)if(a=h[r],null!=(l=e(n[r],r,n))&&(l+="")){if(!(o=d["$"+l]))throw new Error("missing: "+l);if(o===sp)throw new Error("ambiguous: "+l);o.children?o.children.push(a):o.children=[a],a.parent=o}else{if(s)throw new Error("multiple roots");s=a}if(!s)throw new Error("no root");if(s.parent=rp,s.eachBefore(function(t){t.depth=t.parent.depth+1,--c}).eachBefore(Mf),s.parent=null,c>0)throw new Error("cycle");return s}return n.id=function(e){return arguments.length?(t=Yf(e),n):t},n.parentId=function(t){return arguments.length?(e=Yf(t),n):e},n};function up(t,e){return t.parent===e.parent?1:2}function cp(t){var e=t.children;return e?e[0]:t.t}function hp(t){var e=t.children;return e?e[e.length-1]:t.t}function dp(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function fp(t,e,n){return t.a.parent===e.parent?t.a:n}function pp(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}pp.prototype=Object.create(Nf.prototype);var gp=function(){var t=up,e=1,n=1,i=null;function r(r){var l=function(t){for(var e,n,i,r,s,o=new pp(t,0),a=[o];e=a.pop();)if(i=e._.children)for(e.children=new Array(s=i.length),r=s-1;r>=0;--r)a.push(n=e.children[r]=new pp(i[r],r)),n.parent=e;return(o.parent=new pp(null,0)).children=[o],o}(r);if(l.eachAfter(s),l.parent.m=-l.z,l.eachBefore(o),i)r.eachBefore(a);else{var u=r,c=r,h=r;r.eachBefore(function(t){t.x<u.x&&(u=t),t.x>c.x&&(c=t),t.depth>h.depth&&(h=t)});var d=u===c?1:t(u,c)/2,f=d-u.x,p=e/(c.x+d+f),g=n/(h.depth||1);r.eachBefore(function(t){t.x=(t.x+f)*p,t.y=t.depth*g})}return r}function s(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n){!function(t){for(var e,n=0,i=0,r=t.children,s=r.length;--s>=0;)(e=r[s]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(e);var s=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-s):e.z=s}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,n,i){if(n){for(var r,s=e,o=e,a=n,l=s.parent.children[0],u=s.m,c=o.m,h=a.m,d=l.m;a=hp(a),s=cp(s),a&&s;)l=cp(l),(o=hp(o)).a=e,(r=a.z+h-s.z-u+t(a._,s._))>0&&(dp(fp(a,e,i),e,r),u+=r,c+=r),h+=a.m,u+=s.m,d+=l.m,c+=o.m;a&&!hp(o)&&(o.t=a,o.m+=h-c),s&&!cp(l)&&(l.t=s,l.m+=u-d,i=e)}return i}(e,r,e.parent.A||i[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=e,t.y=t.depth*n}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r},mp=function(t,e,n,i,r){for(var s,o=t.children,a=-1,l=o.length,u=t.value&&(r-n)/t.value;++a<l;)(s=o[a]).x0=e,s.x1=i,s.y0=n,s.y1=n+=s.value*u},yp=(1+Math.sqrt(5))/2;function vp(t,e,n,i,r,s){for(var o,a,l,u,c,h,d,f,p,g,m,y=[],v=e.children,b=0,_=0,w=v.length,x=e.value;b<w;){l=r-n,u=s-i;do{c=v[_++].value}while(!c&&_<w);for(h=d=c,m=c*c*(g=Math.max(u/l,l/u)/(x*t)),p=Math.max(d/m,m/h);_<w;++_){if(c+=a=v[_].value,a<h&&(h=a),a>d&&(d=a),m=c*c*g,(f=Math.max(d/m,m/h))>p){c-=a;break}p=f}y.push(o={value:c,dice:l<u,children:v.slice(b,_)}),o.dice?np(o,n,i,r,x?i+=u*c/x:s):mp(o,n,i,x?n+=l*c/x:r,s),x-=c,b=_}return y}var bp=function t(e){function n(t,n,i,r,s){vp(e,t,n,i,r,s)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(yp),_p=function(){var t=bp,e=!1,n=1,i=1,r=[0],s=Gf,o=Gf,a=Gf,l=Gf,u=Gf;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=i,t.eachBefore(h),r=[0],e&&t.eachBefore(ep),t}function h(e){var n=r[e.depth],i=e.x0+n,c=e.y0+n,h=e.x1-n,d=e.y1-n;h<i&&(i=h=(i+h)/2),d<c&&(c=d=(c+d)/2),e.x0=i,e.y0=c,e.x1=h,e.y1=d,e.children&&(n=r[e.depth+1]=s(e)/2,i+=u(e)-n,c+=o(e)-n,(h-=a(e)-n)<i&&(i=h=(i+h)/2),(d-=l(e)-n)<c&&(c=d=(c+d)/2),t(e,i,c,h,d))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],i=+t[1],c):[n,i]},c.tile=function(e){return arguments.length?(t=Yf(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(s="function"==typeof t?t:Kf(+t),c):s},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:Kf(+t),c):o},c.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:Kf(+t),c):a},c.paddingBottom=function(t){return arguments.length?(l="function"==typeof t?t:Kf(+t),c):l},c.paddingLeft=function(t){return arguments.length?(u="function"==typeof t?t:Kf(+t),c):u},c},wp=function(t,e,n,i,r){var s,o,a=t.children,l=a.length,u=new Array(l+1);for(u[0]=o=s=0;s<l;++s)u[s+1]=o+=a[s].value;!function t(e,n,i,r,s,o,l){if(e>=n-1){var c=a[e];return c.x0=r,c.y0=s,c.x1=o,void(c.y1=l)}for(var h=u[e],d=i/2+h,f=e+1,p=n-1;f<p;){var g=f+p>>>1;u[g]<d?f=g+1:p=g}d-u[f-1]<u[f]-d&&e+1<f&&--f;var m=u[f]-h,y=i-m;if(o-r>l-s){var v=(r*y+o*m)/i;t(e,f,m,r,s,v,l),t(f,n,y,v,s,o,l)}else{var b=(s*y+l*m)/i;t(e,f,m,r,s,o,b),t(f,n,y,r,b,o,l)}}(0,l,t.value,e,n,i,r)},xp=function(t,e,n,i,r){(1&t.depth?mp:np)(t,e,n,i,r)},Cp=function t(e){function n(t,n,i,r,s){if((o=t._squarify)&&o.ratio===e)for(var o,a,l,u,c,h=-1,d=o.length,f=t.value;++h<d;){for(l=(a=o[h]).children,u=a.value=0,c=l.length;u<c;++u)a.value+=l[u].value;a.dice?np(a,n,i,r,i+=(s-i)*a.value/f):mp(a,n,i,n+=(r-n)*a.value/f,s),f-=a.value}else t._squarify=o=vp(e,t,n,i,r,s),o.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(yp),Sp=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},Ep=function(t,e){var n=fn(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},kp=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},Tp=Math.SQRT2;function Ap(t){return((t=Math.exp(t))+1/t)/2}var Mp=function(t,e){var n,i,r=t[0],s=t[1],o=t[2],a=e[2],l=e[0]-r,u=e[1]-s,c=l*l+u*u;if(c<1e-12)i=Math.log(a/o)/Tp,n=function(t){return[r+t*l,s+t*u,o*Math.exp(Tp*t*i)]};else{var h=Math.sqrt(c),d=(a*a-o*o+4*c)/(2*o*2*h),f=(a*a-o*o-4*c)/(2*a*2*h),p=Math.log(Math.sqrt(d*d+1)-d),g=Math.log(Math.sqrt(f*f+1)-f);i=(g-p)/Tp,n=function(t){var e,n=t*i,a=Ap(p),c=o/(2*h)*(a*(e=Tp*n+p,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(p));return[r+c*l,s+c*u,o*a/Ap(Tp*n+p)]}}return n.duration=1e3*i,n};function Np(t){return function(e,n){var i=t((e=sn(e)).h,(n=sn(n)).h),r=pn(e.s,n.s),s=pn(e.l,n.l),o=pn(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=s(t),e.opacity=o(t),e+""}}}var Ip=Np(fn),Op=Np(pn);function Dp(t,e){var n=pn((t=Ss(t)).l,(e=Ss(e)).l),i=pn(t.a,e.a),r=pn(t.b,e.b),s=pn(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=r(e),t.opacity=s(e),t+""}}function Pp(t){return function(e,n){var i=t((e=Os(e)).h,(n=Os(n)).h),r=pn(e.c,n.c),s=pn(e.l,n.l),o=pn(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=s(t),e.opacity=o(t),e+""}}}var Rp=Pp(fn),Hp=Pp(pn);function Lp(t){return function e(n){function i(e,i){var r=t((e=Bs(e)).h,(i=Bs(i)).h),s=pn(e.s,i.s),o=pn(e.l,i.l),a=pn(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=s(t),e.l=o(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,i.gamma=e,i}(1)}var Fp=Lp(fn),Vp=Lp(pn);function jp(t,e){for(var n=0,i=e.length-1,r=e[0],s=new Array(i<0?0:i);n<i;)s[n]=t(r,r=e[++n]);return function(t){var e=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return s[e](t-e)}}var zp=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},Bp=function(t){for(var e,n=-1,i=t.length,r=t[i-1],s=0;++n<i;)s+=(e=r)[1]*(r=t[n])[0]-e[0]*r[1];return s/2},Up=function(t){for(var e,n,i=-1,r=t.length,s=0,o=0,a=t[r-1],l=0;++i<r;)l+=n=(e=a)[0]*(a=t[i])[1]-a[0]*e[1],s+=(e[0]+a[0])*n,o+=(e[1]+a[1])*n;return[s/(l*=3),o/l]};function qp(t,e){return t[0]-e[0]||t[1]-e[1]}function $p(t){for(var e,n,i,r=t.length,s=[0,1],o=2,a=2;a<r;++a){for(;o>1&&((n=t[s[o-1]])[0]-(e=t[s[o-2]])[0])*((i=t[a])[1]-e[1])-(n[1]-e[1])*(i[0]-e[0])<=0;)--o;s[o++]=a}return s.slice(0,o)}var Wp=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(qp),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var s=$p(i),o=$p(r),a=o[0]===s[0],l=o[o.length-1]===s[s.length-1],u=[];for(e=s.length-1;e>=0;--e)u.push(t[i[s[e]][2]]);for(e=+a;e<o.length-l;++e)u.push(t[i[o[e]][2]]);return u},Yp=function(t,e){for(var n,i,r=t.length,s=t[r-1],o=e[0],a=e[1],l=s[0],u=s[1],c=!1,h=0;h<r;++h)n=(s=t[h])[0],(i=s[1])>a!=u>a&&o<(l-n)*(a-i)/(u-i)+n&&(c=!c),l=n,u=i;return c},Gp=function(t){for(var e,n,i=-1,r=t.length,s=t[r-1],o=s[0],a=s[1],l=0;++i<r;)e=o,n=a,e-=o=(s=t[i])[0],n-=a=s[1],l+=Math.sqrt(e*e+n*n);return l},Kp=function(){return Math.random()},Qp=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Kp),Zp=function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var s;if(null!=i)s=i,i=null;else do{i=2*e()-1,s=2*e()-1,r=i*i+s*s}while(!r||r>1);return t+n*s*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(Kp),Xp=function t(e){function n(){var t=Zp.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Kp),Jp=function t(e){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}return n.source=t,n}(Kp),tg=function t(e){function n(t){var n=Jp.source(e)(t);return function(){return n()/t}}return n.source=t,n}(Kp),eg=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Kp);function ng(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function ig(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var rg=Array.prototype,sg=rg.map,og=rg.slice,ag={name:"implicit"};function lg(){var t=ns(),e=[],n=[],i=ag;function r(r){var s=r+"",o=t.get(s);if(!o){if(i!==ag)return i;t.set(s,o=e.push(r))}return n[(o-1)%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=ns();for(var i,s,o=-1,a=n.length;++o<a;)t.has(s=(i=n[o])+"")||t.set(s,e.push(i));return r},r.range=function(t){return arguments.length?(n=og.call(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return lg(e,n).unknown(i)},ng.apply(r,arguments),r}function ug(){var t,e,n=lg().unknown(void 0),i=n.domain,r=n.range,s=[0,1],o=!1,a=0,l=0,u=.5;function c(){var n=i().length,c=s[1]<s[0],h=s[c-0],d=s[1-c];t=(d-h)/Math.max(1,n-a+2*l),o&&(t=Math.floor(t)),h+=(d-h-t*(n-a))*u,e=t*(1-a),o&&(h=Math.round(h),e=Math.round(e));var f=C(n).map(function(e){return h+t*e});return r(c?f.reverse():f)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),c()):i()},n.range=function(t){return arguments.length?(s=[+t[0],+t[1]],c()):s.slice()},n.rangeRound=function(t){return s=[+t[0],+t[1]],o=!0,c()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(o=!!t,c()):o},n.padding=function(t){return arguments.length?(a=Math.min(1,l=+t),c()):a},n.paddingInner=function(t){return arguments.length?(a=Math.min(1,t),c()):a},n.paddingOuter=function(t){return arguments.length?(l=+t,c()):l},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),c()):u},n.copy=function(){return ug(i(),s).round(o).paddingInner(a).paddingOuter(l).align(u)},ng.apply(c(),arguments)}function cg(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return cg(e())},t}function hg(){return cg(ug.apply(null,arguments).paddingInner(1))}var dg=function(t){return+t},fg=[0,1];function pg(t){return t}function gg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function mg(t){var e,n=t[0],i=t[t.length-1];return n>i&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function yg(t,e,n){var i=t[0],r=t[1],s=e[0],o=e[1];return r<i?(i=gg(r,i),s=n(o,s)):(i=gg(i,r),s=n(s,o)),function(t){return s(i(t))}}function vg(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),s=new Array(i),o=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<i;)r[o]=gg(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(e){var n=u(t,e,1,i)-1;return s[n](r[n](e))}}function bg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _g(){var t,e,n,i,r,s,o=fg,a=fg,l=In,u=pg;function c(){return i=Math.min(o.length,a.length)>2?vg:yg,r=s=null,h}function h(e){return isNaN(e=+e)?n:(r||(r=i(o.map(t),a,l)))(t(u(e)))}return h.invert=function(n){return u(e((s||(s=i(a,o.map(t),kn)))(n)))},h.domain=function(t){return arguments.length?(o=sg.call(t,dg),u===pg||(u=mg(o)),c()):o.slice()},h.range=function(t){return arguments.length?(a=og.call(t),c()):a.slice()},h.rangeRound=function(t){return a=og.call(t),l=kp,c()},h.clamp=function(t){return arguments.length?(u=t?mg(o):pg,h):u!==pg},h.interpolate=function(t){return arguments.length?(l=t,c()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,c()}}function wg(t,e){return _g()(t,e)}var xg=function(t,e,n,i){var r,s=M(t,e,n);switch((i=sl(null==i?",f":i)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=bl(s,o))||(i.precision=r),cl(i,o);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=_l(s,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=vl(s))||(i.precision=r-2*("%"===i.type))}return ul(i)};function Cg(t){var e=t.domain;return t.ticks=function(t){var n=e();return T(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return xg(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),s=0,o=r.length-1,a=r[s],l=r[o];return l<a&&(i=a,a=l,l=i,i=s,s=o,o=i),(i=A(a,l,n))>0?i=A(a=Math.floor(a/i)*i,l=Math.ceil(l/i)*i,n):i<0&&(i=A(a=Math.ceil(a*i)/i,l=Math.floor(l*i)/i,n)),i>0?(r[s]=Math.floor(a/i)*i,r[o]=Math.ceil(l/i)*i,e(r)):i<0&&(r[s]=Math.ceil(a*i)/i,r[o]=Math.floor(l*i)/i,e(r)),t},t}function Sg(){var t=wg(pg,pg);return t.copy=function(){return bg(t,Sg())},ng.apply(t,arguments),Cg(t)}function Eg(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=sg.call(e,dg),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Eg(t).unknown(e)},t=arguments.length?sg.call(t,dg):[0,1],Cg(n)}var kg=function(t,e){var n,i=0,r=(t=t.slice()).length-1,s=t[i],o=t[r];return o<s&&(n=i,i=r,r=n,n=s,s=o,o=n),t[i]=e.floor(s),t[r]=e.ceil(o),t};function Tg(t){return Math.log(t)}function Ag(t){return Math.exp(t)}function Mg(t){return-Math.log(-t)}function Ng(t){return-Math.exp(-t)}function Ig(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Og(t){return function(e){return-t(-e)}}function Dg(t){var e,n,i=t(Tg,Ag),r=i.domain,s=10;function o(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(s),n=function(t){return 10===t?Ig:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(s),r()[0]<0?(e=Og(e),n=Og(n),t(Mg,Ng)):t(Tg,Ag),i}return i.base=function(t){return arguments.length?(s=+t,o()):s},i.domain=function(t){return arguments.length?(r(t),o()):r()},i.ticks=function(t){var i,o=r(),a=o[0],l=o[o.length-1];(i=l<a)&&(d=a,a=l,l=d);var u,c,h,d=e(a),f=e(l),p=null==t?10:+t,g=[];if(!(s%1)&&f-d<p){if(d=Math.round(d)-1,f=Math.round(f)+1,a>0){for(;d<f;++d)for(c=1,u=n(d);c<s;++c)if(!((h=u*c)<a)){if(h>l)break;g.push(h)}}else for(;d<f;++d)for(c=s-1,u=n(d);c>=1;--c)if(!((h=u*c)<a)){if(h>l)break;g.push(h)}}else g=T(d,f,Math.min(f-d,p)).map(n);return i?g.reverse():g},i.tickFormat=function(t,r){if(null==r&&(r=10===s?".0e":","),"function"!=typeof r&&(r=ul(r)),t===1/0)return r;null==t&&(t=10);var o=Math.max(1,s*t/i.ticks().length);return function(t){var i=t/n(Math.round(e(t)));return i*s<s-.5&&(i*=s),i<=o?r(t):""}},i.nice=function(){return r(kg(r(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},i}function Pg(){var t=Dg(_g()).domain([1,10]);return t.copy=function(){return bg(t,Pg()).base(t.base())},ng.apply(t,arguments),t}function Rg(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Hg(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Lg(t){var e=1,n=t(Rg(e),Hg(e));return n.constant=function(n){return arguments.length?t(Rg(e=+n),Hg(e)):e},Cg(n)}function Fg(){var t=Lg(_g());return t.copy=function(){return bg(t,Fg()).constant(t.constant())},ng.apply(t,arguments)}function Vg(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function jg(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zg(t){return t<0?-t*t:t*t}function Bg(t){var e=t(pg,pg),n=1;function i(){return 1===n?t(pg,pg):.5===n?t(jg,zg):t(Vg(n),Vg(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,i()):n},Cg(e)}function Ug(){var t=Bg(_g());return t.copy=function(){return bg(t,Ug()).exponent(t.exponent())},ng.apply(t,arguments),t}function qg(){return Ug.apply(null,arguments).exponent(.5)}function $g(){var t,e=[],n=[],i=[];function s(){var t=0,r=Math.max(1,n.length);for(i=new Array(r-1);++t<r;)i[t-1]=O(e,t/r);return o}function o(e){return isNaN(e=+e)?t:n[u(i,e)]}return o.invertExtent=function(t){var r=n.indexOf(t);return r<0?[NaN,NaN]:[r>0?i[r-1]:e[0],r<i.length?i[r]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,i=0,o=t.length;i<o;++i)null==(n=t[i])||isNaN(n=+n)||e.push(n);return e.sort(r),s()},o.range=function(t){return arguments.length?(n=og.call(t),s()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return i.slice()},o.copy=function(){return $g().domain(e).range(n).unknown(t)},ng.apply(o,arguments)}function Wg(){var t,e=0,n=1,i=1,r=[.5],s=[0,1];function o(e){return e<=e?s[u(r,e,0,i)]:t}function a(){var t=-1;for(r=new Array(i);++t<i;)r[t]=((t+1)*n-(t-i)*e)/(i+1);return o}return o.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],a()):[e,n]},o.range=function(t){return arguments.length?(i=(s=og.call(t)).length-1,a()):s.slice()},o.invertExtent=function(t){var o=s.indexOf(t);return o<0?[NaN,NaN]:o<1?[e,r[0]]:o>=i?[r[i-1],n]:[r[o-1],r[o]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return r.slice()},o.copy=function(){return Wg().domain([e,n]).range(s).unknown(t)},ng.apply(Cg(o),arguments)}function Yg(){var t,e=[.5],n=[0,1],i=1;function r(r){return r<=r?n[u(e,r,0,i)]:t}return r.domain=function(t){return arguments.length?(e=og.call(t),i=Math.min(e.length,n.length-1),r):e.slice()},r.range=function(t){return arguments.length?(n=og.call(t),i=Math.min(e.length,n.length-1),r):n.slice()},r.invertExtent=function(t){var i=n.indexOf(t);return[e[i-1],e[i]]},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return Yg().domain(e).range(n).unknown(t)},ng.apply(r,arguments)}var Gg=new Date,Kg=new Date;function Qg(t,e,n,i){function r(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=function(e){return t(e=new Date(+e)),e},r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,s){var o,a=[];if(n=r.ceil(n),s=null==s?1:Math.floor(s),!(n<i&&s>0))return a;do{a.push(o=new Date(+n)),e(n,s),t(n)}while(o<n&&n<i);return a},r.filter=function(n){return Qg(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););})},n&&(r.count=function(e,i){return Gg.setTime(+e),Kg.setTime(+i),t(Gg),t(Kg),Math.floor(n(Gg,Kg))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var Zg=Qg(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Zg.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Qg(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Xg=Zg,Jg=Zg.range,tm=Qg(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),em=tm,nm=tm.range,im=1e3,rm=6e4,sm=36e5,om=864e5,am=6048e5;function lm(t){return Qg(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*rm)/am})}var um=lm(0),cm=lm(1),hm=lm(2),dm=lm(3),fm=lm(4),pm=lm(5),gm=lm(6),mm=um.range,ym=cm.range,vm=hm.range,bm=dm.range,_m=fm.range,wm=pm.range,xm=gm.range,Cm=Qg(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*rm)/om},function(t){return t.getDate()-1}),Sm=Cm,Em=Cm.range,km=Qg(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*im-t.getMinutes()*rm)},function(t,e){t.setTime(+t+e*sm)},function(t,e){return(e-t)/sm},function(t){return t.getHours()}),Tm=km,Am=km.range,Mm=Qg(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*im)},function(t,e){t.setTime(+t+e*rm)},function(t,e){return(e-t)/rm},function(t){return t.getMinutes()}),Nm=Mm,Im=Mm.range,Om=Qg(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*im)},function(t,e){return(e-t)/im},function(t){return t.getUTCSeconds()}),Dm=Om,Pm=Om.range,Rm=Qg(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Rm.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Qg(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Rm:null};var Hm=Rm,Lm=Rm.range;function Fm(t){return Qg(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/am})}var Vm=Fm(0),jm=Fm(1),zm=Fm(2),Bm=Fm(3),Um=Fm(4),qm=Fm(5),$m=Fm(6),Wm=Vm.range,Ym=jm.range,Gm=zm.range,Km=Bm.range,Qm=Um.range,Zm=qm.range,Xm=$m.range,Jm=Qg(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/om},function(t){return t.getUTCDate()-1}),ty=Jm,ey=Jm.range,ny=Qg(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});ny.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Qg(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var iy=ny,ry=ny.range;function sy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function oy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ay(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ly(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,u=_y(r),c=wy(r),h=_y(s),d=wy(s),f=_y(o),p=wy(o),g=_y(a),m=wy(a),y=_y(l),v=wy(l),b={a:function(t){return o[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:By,e:By,f:Yy,g:rv,G:ov,H:Uy,I:qy,j:$y,L:Wy,m:Gy,M:Ky,p:function(t){return r[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Mv,s:Nv,S:Qy,u:Zy,U:Xy,V:tv,w:ev,W:nv,x:null,X:null,y:iv,Y:sv,Z:av,"%":Av},_={a:function(t){return o[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:lv,e:lv,f:fv,g:Sv,G:kv,H:uv,I:cv,j:hv,L:dv,m:pv,M:gv,p:function(t){return r[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Mv,s:Nv,S:mv,u:yv,U:vv,V:_v,w:wv,W:xv,x:null,X:null,y:Cv,Y:Ev,Z:Tv,"%":Av},w={a:function(t,e,n){var i=f.exec(e.slice(n));return i?(t.w=p[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=d[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=y.exec(e.slice(n));return i?(t.m=v[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=g.exec(e.slice(n));return i?(t.m=m[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,n,i){return S(t,e,n,i)},d:Oy,e:Oy,f:Fy,g:Ay,G:Ty,H:Py,I:Py,j:Dy,L:Ly,m:Iy,M:Ry,p:function(t,e,n){var i=u.exec(e.slice(n));return i?(t.p=c[i[0].toLowerCase()],n+i[0].length):-1},q:Ny,Q:jy,s:zy,S:Hy,u:Cy,U:Sy,V:Ey,w:xy,W:ky,x:function(t,e,i){return S(t,n,e,i)},X:function(t,e,n){return S(t,i,e,n)},y:Ay,Y:Ty,Z:My,"%":Vy};function x(t,e){return function(n){var i,r,s,o=[],a=-1,l=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++a<u;)37===t.charCodeAt(a)&&(o.push(t.slice(l,a)),null!=(r=py[i=t.charAt(++a)])?i=t.charAt(++a):r="e"===i?" ":"0",(s=e[i])&&(i=s(n,r)),o.push(i),l=a+1);return o.push(t.slice(l,a)),o.join("")}}function C(t,e){return function(n){var i,r,s=ay(1900,void 0,1);if(S(s,t,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(e&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(r=(i=oy(ay(s.y,0,1))).getUTCDay(),i=r>4||0===r?jm.ceil(i):jm(i),i=ty.offset(i,7*(s.V-1)),s.y=i.getUTCFullYear(),s.m=i.getUTCMonth(),s.d=i.getUTCDate()+(s.w+6)%7):(r=(i=sy(ay(s.y,0,1))).getDay(),i=r>4||0===r?cm.ceil(i):cm(i),i=Sm.offset(i,7*(s.V-1)),s.y=i.getFullYear(),s.m=i.getMonth(),s.d=i.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),r="Z"in s?oy(ay(s.y,0,1)).getUTCDay():sy(ay(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(r+5)%7:s.w+7*s.U-(r+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,oy(s)):sy(s)}}function S(t,e,n,i){for(var r,s,o=0,a=e.length,l=n.length;o<a;){if(i>=l)return-1;if(37===(r=e.charCodeAt(o++))){if(r=e.charAt(o++),!(s=w[r in py?e.charAt(o++):r])||(i=s(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return b.x=x(n,b),b.X=x(i,b),b.c=x(e,b),_.x=x(n,_),_.X=x(i,_),_.c=x(e,_),{format:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=C(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=C(t+="",!0);return e.toString=function(){return t},e}}}var uy,cy,hy,dy,fy,py={"-":"",_:" ",0:"0"},gy=/^\s*\d+/,my=/^%/,yy=/[\\^$*+?|[\]().{}]/g;function vy(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",s=r.length;return i+(s<n?new Array(n-s+1).join(e)+r:r)}function by(t){return t.replace(yy,"\\$&")}function _y(t){return new RegExp("^(?:"+t.map(by).join("|")+")","i")}function wy(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function xy(t,e,n){var i=gy.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Cy(t,e,n){var i=gy.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function Sy(t,e,n){var i=gy.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Ey(t,e,n){var i=gy.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function ky(t,e,n){var i=gy.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Ty(t,e,n){var i=gy.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Ay(t,e,n){var i=gy.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function My(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Ny(t,e,n){var i=gy.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function Iy(t,e,n){var i=gy.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Oy(t,e,n){var i=gy.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Dy(t,e,n){var i=gy.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Py(t,e,n){var i=gy.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Ry(t,e,n){var i=gy.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Hy(t,e,n){var i=gy.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Ly(t,e,n){var i=gy.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Fy(t,e,n){var i=gy.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Vy(t,e,n){var i=my.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function jy(t,e,n){var i=gy.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function zy(t,e,n){var i=gy.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function By(t,e){return vy(t.getDate(),e,2)}function Uy(t,e){return vy(t.getHours(),e,2)}function qy(t,e){return vy(t.getHours()%12||12,e,2)}function $y(t,e){return vy(1+Sm.count(Xg(t),t),e,3)}function Wy(t,e){return vy(t.getMilliseconds(),e,3)}function Yy(t,e){return Wy(t,e)+"000"}function Gy(t,e){return vy(t.getMonth()+1,e,2)}function Ky(t,e){return vy(t.getMinutes(),e,2)}function Qy(t,e){return vy(t.getSeconds(),e,2)}function Zy(t){var e=t.getDay();return 0===e?7:e}function Xy(t,e){return vy(um.count(Xg(t)-1,t),e,2)}function Jy(t){var e=t.getDay();return e>=4||0===e?fm(t):fm.ceil(t)}function tv(t,e){return t=Jy(t),vy(fm.count(Xg(t),t)+(4===Xg(t).getDay()),e,2)}function ev(t){return t.getDay()}function nv(t,e){return vy(cm.count(Xg(t)-1,t),e,2)}function iv(t,e){return vy(t.getFullYear()%100,e,2)}function rv(t,e){return vy((t=Jy(t)).getFullYear()%100,e,2)}function sv(t,e){return vy(t.getFullYear()%1e4,e,4)}function ov(t,e){var n=t.getDay();return vy((t=n>=4||0===n?fm(t):fm.ceil(t)).getFullYear()%1e4,e,4)}function av(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+vy(e/60|0,"0",2)+vy(e%60,"0",2)}function lv(t,e){return vy(t.getUTCDate(),e,2)}function uv(t,e){return vy(t.getUTCHours(),e,2)}function cv(t,e){return vy(t.getUTCHours()%12||12,e,2)}function hv(t,e){return vy(1+ty.count(iy(t),t),e,3)}function dv(t,e){return vy(t.getUTCMilliseconds(),e,3)}function fv(t,e){return dv(t,e)+"000"}function pv(t,e){return vy(t.getUTCMonth()+1,e,2)}function gv(t,e){return vy(t.getUTCMinutes(),e,2)}function mv(t,e){return vy(t.getUTCSeconds(),e,2)}function yv(t){var e=t.getUTCDay();return 0===e?7:e}function vv(t,e){return vy(Vm.count(iy(t)-1,t),e,2)}function bv(t){var e=t.getUTCDay();return e>=4||0===e?Um(t):Um.ceil(t)}function _v(t,e){return t=bv(t),vy(Um.count(iy(t),t)+(4===iy(t).getUTCDay()),e,2)}function wv(t){return t.getUTCDay()}function xv(t,e){return vy(jm.count(iy(t)-1,t),e,2)}function Cv(t,e){return vy(t.getUTCFullYear()%100,e,2)}function Sv(t,e){return vy((t=bv(t)).getUTCFullYear()%100,e,2)}function Ev(t,e){return vy(t.getUTCFullYear()%1e4,e,4)}function kv(t,e){var n=t.getUTCDay();return vy((t=n>=4||0===n?Um(t):Um.ceil(t)).getUTCFullYear()%1e4,e,4)}function Tv(){return"+0000"}function Av(){return"%"}function Mv(t){return+t}function Nv(t){return Math.floor(+t/1e3)}function Iv(t){return uy=ly(t),cy=uy.format,hy=uy.parse,dy=uy.utcFormat,fy=uy.utcParse,uy}Iv({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Ov=31536e6;function Dv(t){return new Date(t)}function Pv(t){return t instanceof Date?+t:+new Date(+t)}function Rv(t,e,n,i,r,o,a,l,u){var c=wg(pg,pg),h=c.invert,d=c.domain,f=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),_=u("%Y"),w=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[r,1,36e5],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,864e5],[i,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,Ov]];function x(s){return(a(s)<s?f:o(s)<s?p:r(s)<s?g:i(s)<s?m:e(s)<s?n(s)<s?y:v:t(s)<s?b:_)(s)}function C(e,n,i,r){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(i-n)/e,a=s(function(t){return t[2]}).right(w,o);a===w.length?(r=M(n/Ov,i/Ov,e),e=t):a?(r=(a=w[o/w[a-1][2]<w[a][2]/o?a-1:a])[1],e=a[0]):(r=Math.max(M(n,i,e),1),e=l)}return null==r?e:e.every(r)}return c.invert=function(t){return new Date(h(t))},c.domain=function(t){return arguments.length?d(sg.call(t,Pv)):d().map(Dv)},c.ticks=function(t,e){var n,i=d(),r=i[0],s=i[i.length-1],o=s<r;return o&&(n=r,r=s,s=n),n=(n=C(t,r,s,e))?n.range(r,s+1):[],o?n.reverse():n},c.tickFormat=function(t,e){return null==e?x:u(e)},c.nice=function(t,e){var n=d();return(t=C(t,n[0],n[n.length-1],e))?d(kg(n,t)):c},c.copy=function(){return bg(c,Rv(t,e,n,i,r,o,a,l,u))},c}var Hv=function(){return ng.apply(Rv(Xg,em,um,Sm,Tm,Nm,Dm,Hm,cy).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},Lv=Qg(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Fv=Lv,Vv=Lv.range,jv=Qg(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*sm)},function(t,e){return(e-t)/sm},function(t){return t.getUTCHours()}),zv=jv,Bv=jv.range,Uv=Qg(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*rm)},function(t,e){return(e-t)/rm},function(t){return t.getUTCMinutes()}),qv=Uv,$v=Uv.range,Wv=function(){return ng.apply(Rv(iy,Fv,Vm,ty,zv,qv,Dm,Hm,dy).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function Yv(){var t,e,n,i,r,s=0,o=1,a=pg,l=!1;function u(e){return isNaN(e=+e)?r:a(0===n?.5:(e=(i(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}return u.domain=function(r){return arguments.length?(t=i(s=+r[0]),e=i(o=+r[1]),n=t===e?0:1/(e-t),u):[s,o]},u.clamp=function(t){return arguments.length?(l=!!t,u):l},u.interpolator=function(t){return arguments.length?(a=t,u):a},u.unknown=function(t){return arguments.length?(r=t,u):r},function(r){return i=r,t=r(s),e=r(o),n=t===e?0:1/(e-t),u}}function Gv(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Kv(){var t=Cg(Yv()(pg));return t.copy=function(){return Gv(t,Kv())},ig.apply(t,arguments)}function Qv(){var t=Dg(Yv()).domain([1,10]);return t.copy=function(){return Gv(t,Qv()).base(t.base())},ig.apply(t,arguments)}function Zv(){var t=Lg(Yv());return t.copy=function(){return Gv(t,Zv()).constant(t.constant())},ig.apply(t,arguments)}function Xv(){var t=Bg(Yv());return t.copy=function(){return Gv(t,Xv()).exponent(t.exponent())},ig.apply(t,arguments)}function Jv(){return Xv.apply(null,arguments).exponent(.5)}function tb(){var t=[],e=pg;function n(n){if(!isNaN(n=+n))return e((u(t,n)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var i,s=0,o=e.length;s<o;++s)null==(i=e[s])||isNaN(i=+i)||t.push(i);return t.sort(r),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return tb(e).domain(t)},ig.apply(n,arguments)}function eb(){var t,e,n,i,r,s,o,a=0,l=.5,u=1,c=pg,h=!1;function d(t){return isNaN(t=+t)?o:(t=.5+((t=+s(t))-e)*(t<e?i:r),c(h?Math.max(0,Math.min(1,t)):t))}return d.domain=function(o){return arguments.length?(t=s(a=+o[0]),e=s(l=+o[1]),n=s(u=+o[2]),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),d):[a,l,u]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(c=t,d):c},d.unknown=function(t){return arguments.length?(o=t,d):o},function(o){return s=o,t=o(a),e=o(l),n=o(u),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),d}}function nb(){var t=Cg(eb()(pg));return t.copy=function(){return Gv(t,nb())},ig.apply(t,arguments)}function ib(){var t=Dg(eb()).domain([.1,1,10]);return t.copy=function(){return Gv(t,ib()).base(t.base())},ig.apply(t,arguments)}function rb(){var t=Lg(eb());return t.copy=function(){return Gv(t,rb()).constant(t.constant())},ig.apply(t,arguments)}function sb(){var t=Bg(eb());return t.copy=function(){return Gv(t,sb()).exponent(t.exponent())},ig.apply(t,arguments)}function ob(){return sb.apply(null,arguments).exponent(.5)}var ab=function(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n},lb=ab("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ub=ab("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),cb=ab("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),hb=ab("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),db=ab("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),fb=ab("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),pb=ab("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),gb=ab("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),mb=ab("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),yb=ab("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),vb=function(t){return yn(t[t.length-1])},bb=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ab),_b=vb(bb),wb=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ab),xb=vb(wb),Cb=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ab),Sb=vb(Cb),Eb=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ab),kb=vb(Eb),Tb=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ab),Ab=vb(Tb),Mb=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ab),Nb=vb(Mb),Ib=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ab),Ob=vb(Ib),Db=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ab),Pb=vb(Db),Rb=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ab),Hb=vb(Rb),Lb=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ab),Fb=vb(Lb),Vb=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ab),jb=vb(Vb),zb=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ab),Bb=vb(zb),Ub=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ab),qb=vb(Ub),$b=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ab),Wb=vb($b),Yb=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ab),Gb=vb(Yb),Kb=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ab),Qb=vb(Kb),Zb=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ab),Xb=vb(Zb),Jb=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ab),t_=vb(Jb),e_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ab),n_=vb(e_),i_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ab),r_=vb(i_),s_=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ab),o_=vb(s_),a_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ab),l_=vb(a_),u_=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ab),c_=vb(u_),h_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ab),d_=vb(h_),f_=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ab),p_=vb(f_),g_=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ab),m_=vb(g_),y_=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ab),v_=vb(y_),b_=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},__=Vp(Bs(300,.5,0),Bs(-240,.5,1)),w_=Vp(Bs(-100,.75,.35),Bs(80,1.5,.8)),x_=Vp(Bs(260,.75,.35),Bs(80,1.5,.8)),C_=Bs(),S_=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return C_.h=360*t-100,C_.s=1.5-1.5*e,C_.l=.8-.9*e,C_+""},E_=Ze(),k_=Math.PI/3,T_=2*Math.PI/3,A_=function(t){var e;return t=(.5-t)*Math.PI,E_.r=255*(e=Math.sin(t))*e,E_.g=255*(e=Math.sin(t+k_))*e,E_.b=255*(e=Math.sin(t+T_))*e,E_+""},M_=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"};function N_(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var I_=N_(ab("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),O_=N_(ab("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),D_=N_(ab("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),P_=N_(ab("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),R_=function(t){return Se(re(t).call(document.documentElement))},H_=0;function L_(){return new F_}function F_(){this._="@"+(++H_).toString(36)}F_.prototype=L_.prototype={constructor:F_,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var V_=function(t){return"string"==typeof t?new we([document.querySelectorAll(t)],[document.documentElement]):new we([null==t?[]:t],_e)},j_=function(t,e){null==e&&(e=On().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=Dn(t,e[n]);return r},z_=function(t){return function(){return t}},B_=Math.abs,U_=Math.atan2,q_=Math.cos,$_=Math.max,W_=Math.min,Y_=Math.sin,G_=Math.sqrt,K_=1e-12,Q_=Math.PI,Z_=Q_/2,X_=2*Q_;function J_(t){return t>1?0:t<-1?Q_:Math.acos(t)}function tw(t){return t>=1?Z_:t<=-1?-Z_:Math.asin(t)}function ew(t){return t.innerRadius}function nw(t){return t.outerRadius}function iw(t){return t.startAngle}function rw(t){return t.endAngle}function sw(t){return t&&t.padAngle}function ow(t,e,n,i,r,s,o,a){var l=n-t,u=i-e,c=o-r,h=a-s,d=h*l-c*u;if(!(d*d<K_))return[t+(d=(c*(e-s)-h*(t-r))/d)*l,e+d*u]}function aw(t,e,n,i,r,s,o){var a=t-n,l=e-i,u=(o?s:-s)/G_(a*a+l*l),c=u*l,h=-u*a,d=t+c,f=e+h,p=n+c,g=i+h,m=(d+p)/2,y=(f+g)/2,v=p-d,b=g-f,_=v*v+b*b,w=r-s,x=d*g-p*f,C=(b<0?-1:1)*G_($_(0,w*w*_-x*x)),S=(x*b-v*C)/_,E=(-x*v-b*C)/_,k=(x*b+v*C)/_,T=(-x*v+b*C)/_,A=S-m,M=E-y,N=k-m,I=T-y;return A*A+M*M>N*N+I*I&&(S=k,E=T),{cx:S,cy:E,x01:-c,y01:-h,x11:S*(r/w-1),y11:E*(r/w-1)}}var lw=function(){var t=ew,e=nw,n=z_(0),i=null,r=iw,s=rw,o=sw,a=null;function l(){var l,u,c=+t.apply(this,arguments),h=+e.apply(this,arguments),d=r.apply(this,arguments)-Z_,f=s.apply(this,arguments)-Z_,p=B_(f-d),g=f>d;if(a||(a=l=Wr()),h<c&&(u=h,h=c,c=u),h>K_)if(p>X_-K_)a.moveTo(h*q_(d),h*Y_(d)),a.arc(0,0,h,d,f,!g),c>K_&&(a.moveTo(c*q_(f),c*Y_(f)),a.arc(0,0,c,f,d,g));else{var m,y,v=d,b=f,_=d,w=f,x=p,C=p,S=o.apply(this,arguments)/2,E=S>K_&&(i?+i.apply(this,arguments):G_(c*c+h*h)),k=W_(B_(h-c)/2,+n.apply(this,arguments)),T=k,A=k;if(E>K_){var M=tw(E/c*Y_(S)),N=tw(E/h*Y_(S));(x-=2*M)>K_?(_+=M*=g?1:-1,w-=M):(x=0,_=w=(d+f)/2),(C-=2*N)>K_?(v+=N*=g?1:-1,b-=N):(C=0,v=b=(d+f)/2)}var I=h*q_(v),O=h*Y_(v),D=c*q_(w),P=c*Y_(w);if(k>K_){var R,H=h*q_(b),L=h*Y_(b),F=c*q_(_),V=c*Y_(_);if(p<Q_&&(R=ow(I,O,F,V,H,L,D,P))){var j=I-R[0],z=O-R[1],B=H-R[0],U=L-R[1],q=1/Y_(J_((j*B+z*U)/(G_(j*j+z*z)*G_(B*B+U*U)))/2),$=G_(R[0]*R[0]+R[1]*R[1]);T=W_(k,(c-$)/(q-1)),A=W_(k,(h-$)/(q+1))}}C>K_?A>K_?(m=aw(F,V,I,O,h,A,g),y=aw(H,L,D,P,h,A,g),a.moveTo(m.cx+m.x01,m.cy+m.y01),A<k?a.arc(m.cx,m.cy,A,U_(m.y01,m.x01),U_(y.y01,y.x01),!g):(a.arc(m.cx,m.cy,A,U_(m.y01,m.x01),U_(m.y11,m.x11),!g),a.arc(0,0,h,U_(m.cy+m.y11,m.cx+m.x11),U_(y.cy+y.y11,y.cx+y.x11),!g),a.arc(y.cx,y.cy,A,U_(y.y11,y.x11),U_(y.y01,y.x01),!g))):(a.moveTo(I,O),a.arc(0,0,h,v,b,!g)):a.moveTo(I,O),c>K_&&x>K_?T>K_?(m=aw(D,P,H,L,c,-T,g),y=aw(I,O,F,V,c,-T,g),a.lineTo(m.cx+m.x01,m.cy+m.y01),T<k?a.arc(m.cx,m.cy,T,U_(m.y01,m.x01),U_(y.y01,y.x01),!g):(a.arc(m.cx,m.cy,T,U_(m.y01,m.x01),U_(m.y11,m.x11),!g),a.arc(0,0,c,U_(m.cy+m.y11,m.cx+m.x11),U_(y.cy+y.y11,y.cx+y.x11),g),a.arc(y.cx,y.cy,T,U_(y.y11,y.x11),U_(y.y01,y.x01),!g))):a.arc(0,0,c,w,_,g):a.lineTo(D,P)}else a.moveTo(0,0);if(a.closePath(),l)return a=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +s.apply(this,arguments))/2-Q_/2;return[q_(i)*n,Y_(i)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:z_(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:z_(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:z_(+t),l):n},l.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:z_(+t),l):i},l.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:z_(+t),l):r},l.endAngle=function(t){return arguments.length?(s="function"==typeof t?t:z_(+t),l):s},l.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:z_(+t),l):o},l.context=function(t){return arguments.length?(a=null==t?null:t,l):a},l};function uw(t){this._context=t}uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var cw=function(t){return new uw(t)};function hw(t){return t[0]}function dw(t){return t[1]}var fw=function(){var t=hw,e=dw,n=z_(!0),i=null,r=cw,s=null;function o(o){var a,l,u,c=o.length,h=!1;for(null==i&&(s=r(u=Wr())),a=0;a<=c;++a)!(a<c&&n(l=o[a],a,o))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(l,a,o),+e(l,a,o));if(u)return s=null,u+""||null}return o.x=function(e){return arguments.length?(t="function"==typeof e?e:z_(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:z_(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:z_(!!t),o):n},o.curve=function(t){return arguments.length?(r=t,null!=i&&(s=r(i)),o):r},o.context=function(t){return arguments.length?(null==t?i=s=null:s=r(i=t),o):i},o},pw=function(){var t=hw,e=null,n=z_(0),i=dw,r=z_(!0),s=null,o=cw,a=null;function l(l){var u,c,h,d,f,p=l.length,g=!1,m=new Array(p),y=new Array(p);for(null==s&&(a=o(f=Wr())),u=0;u<=p;++u){if(!(u<p&&r(d=l[u],u,l))===g)if(g=!g)c=u,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),h=u-1;h>=c;--h)a.point(m[h],y[h]);a.lineEnd(),a.areaEnd()}g&&(m[u]=+t(d,u,l),y[u]=+n(d,u,l),a.point(e?+e(d,u,l):m[u],i?+i(d,u,l):y[u]))}if(f)return a=null,f+""||null}function u(){return fw().defined(r).curve(o).context(s)}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:z_(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:z_(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:z_(+t),l):e},l.y=function(t){return arguments.length?(n="function"==typeof t?t:z_(+t),i=null,l):n},l.y0=function(t){return arguments.length?(n="function"==typeof t?t:z_(+t),l):n},l.y1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:z_(+t),l):i},l.lineX0=l.lineY0=function(){return u().x(t).y(n)},l.lineY1=function(){return u().x(t).y(i)},l.lineX1=function(){return u().x(e).y(n)},l.defined=function(t){return arguments.length?(r="function"==typeof t?t:z_(!!t),l):r},l.curve=function(t){return arguments.length?(o=t,null!=s&&(a=o(s)),l):o},l.context=function(t){return arguments.length?(null==t?s=a=null:a=o(s=t),l):s},l},gw=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},mw=function(t){return t},yw=function(){var t=mw,e=gw,n=null,i=z_(0),r=z_(X_),s=z_(0);function o(o){var a,l,u,c,h,d=o.length,f=0,p=new Array(d),g=new Array(d),m=+i.apply(this,arguments),y=Math.min(X_,Math.max(-X_,r.apply(this,arguments)-m)),v=Math.min(Math.abs(y)/d,s.apply(this,arguments)),b=v*(y<0?-1:1);for(a=0;a<d;++a)(h=g[p[a]=a]=+t(o[a],a,o))>0&&(f+=h);for(null!=e?p.sort(function(t,n){return e(g[t],g[n])}):null!=n&&p.sort(function(t,e){return n(o[t],o[e])}),a=0,u=f?(y-d*b)/f:0;a<d;++a,m=c)g[l=p[a]]={data:o[l],index:a,value:h=g[l],startAngle:m,endAngle:c=m+(h>0?h*u:0)+b,padAngle:v};return g}return o.value=function(e){return arguments.length?(t="function"==typeof e?e:z_(+e),o):t},o.sortValues=function(t){return arguments.length?(e=t,n=null,o):e},o.sort=function(t){return arguments.length?(n=t,e=null,o):n},o.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:z_(+t),o):i},o.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:z_(+t),o):r},o.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:z_(+t),o):s},o},vw=_w(cw);function bw(t){this._curve=t}function _w(t){function e(e){return new bw(t(e))}return e._curve=t,e}function ww(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(_w(t)):e()._curve},t}bw.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var xw=function(){return ww(fw().curve(vw))},Cw=function(){var t=pw().curve(vw),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,s=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ww(n())},delete t.lineX0,t.lineEndAngle=function(){return ww(i())},delete t.lineX1,t.lineInnerRadius=function(){return ww(r())},delete t.lineY0,t.lineOuterRadius=function(){return ww(s())},delete t.lineY1,t.curve=function(t){return arguments.length?e(_w(t)):e()._curve},t},Sw=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},Ew=Array.prototype.slice;function kw(t){return t.source}function Tw(t){return t.target}function Aw(t){var e=kw,n=Tw,i=hw,r=dw,s=null;function o(){var o,a=Ew.call(arguments),l=e.apply(this,a),u=n.apply(this,a);if(s||(s=o=Wr()),t(s,+i.apply(this,(a[0]=l,a)),+r.apply(this,a),+i.apply(this,(a[0]=u,a)),+r.apply(this,a)),o)return s=null,o+""||null}return o.source=function(t){return arguments.length?(e=t,o):e},o.target=function(t){return arguments.length?(n=t,o):n},o.x=function(t){return arguments.length?(i="function"==typeof t?t:z_(+t),o):i},o.y=function(t){return arguments.length?(r="function"==typeof t?t:z_(+t),o):r},o.context=function(t){return arguments.length?(s=null==t?null:t,o):s},o}function Mw(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function Nw(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function Iw(t,e,n,i,r){var s=Sw(e,n),o=Sw(e,n=(n+r)/2),a=Sw(i,n),l=Sw(i,r);t.moveTo(s[0],s[1]),t.bezierCurveTo(o[0],o[1],a[0],a[1],l[0],l[1])}function Ow(){return Aw(Mw)}function Dw(){return Aw(Nw)}function Pw(){var t=Aw(Iw);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var Rw={draw:function(t,e){var n=Math.sqrt(e/Q_);t.moveTo(n,0),t.arc(0,0,n,0,X_)}},Hw={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Lw=Math.sqrt(1/3),Fw=2*Lw,Vw={draw:function(t,e){var n=Math.sqrt(e/Fw),i=n*Lw;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},jw=Math.sin(Q_/10)/Math.sin(7*Q_/10),zw=Math.sin(X_/10)*jw,Bw=-Math.cos(X_/10)*jw,Uw={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=zw*n,r=Bw*n;t.moveTo(0,-n),t.lineTo(i,r);for(var s=1;s<5;++s){var o=X_*s/5,a=Math.cos(o),l=Math.sin(o);t.lineTo(l*n,-a*n),t.lineTo(a*i-l*r,l*i+a*r)}t.closePath()}},qw={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},$w=Math.sqrt(3),Ww={draw:function(t,e){var n=-Math.sqrt(e/(3*$w));t.moveTo(0,2*n),t.lineTo(-$w*n,-n),t.lineTo($w*n,-n),t.closePath()}},Yw=-.5,Gw=Math.sqrt(3)/2,Kw=1/Math.sqrt(12),Qw=3*(Kw/2+1),Zw={draw:function(t,e){var n=Math.sqrt(e/Qw),i=n/2,r=n*Kw,s=i,o=n*Kw+n,a=-s,l=o;t.moveTo(i,r),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(Yw*i-Gw*r,Gw*i+Yw*r),t.lineTo(Yw*s-Gw*o,Gw*s+Yw*o),t.lineTo(Yw*a-Gw*l,Gw*a+Yw*l),t.lineTo(Yw*i+Gw*r,Yw*r-Gw*i),t.lineTo(Yw*s+Gw*o,Yw*o-Gw*s),t.lineTo(Yw*a+Gw*l,Yw*l-Gw*a),t.closePath()}},Xw=[Rw,Hw,Vw,qw,Uw,Ww,Zw],Jw=function(){var t=z_(Rw),e=z_(64),n=null;function i(){var i;if(n||(n=i=Wr()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return i.type=function(e){return arguments.length?(t="function"==typeof e?e:z_(e),i):t},i.size=function(t){return arguments.length?(e="function"==typeof t?t:z_(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i},tx=function(){};function ex(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function nx(t){this._context=t}nx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ex(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ex(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var ix=function(t){return new nx(t)};function rx(t){this._context=t}rx.prototype={areaStart:tx,areaEnd:tx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ex(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var sx=function(t){return new rx(t)};function ox(t){this._context=t}ox.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:ex(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var ax=function(t){return new ox(t)};function lx(t,e){this._basis=new nx(t),this._beta=e}lx.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],s=e[0],o=t[n]-r,a=e[n]-s,l=-1;++l<=n;)this._basis.point(this._beta*t[l]+(1-this._beta)*(r+(i=l/n)*o),this._beta*e[l]+(1-this._beta)*(s+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var ux=function t(e){function n(t){return 1===e?new nx(t):new lx(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function cx(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function hx(t,e){this._context=t,this._k=(1-e)/6}hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cx(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:cx(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var dx=function t(e){function n(t){return new hx(t,e)}return n.tension=function(e){return t(+e)},n}(0);function fx(t,e){this._context=t,this._k=(1-e)/6}fx.prototype={areaStart:tx,areaEnd:tx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:cx(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var px=function t(e){function n(t){return new fx(t,e)}return n.tension=function(e){return t(+e)},n}(0);function gx(t,e){this._context=t,this._k=(1-e)/6}gx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cx(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var mx=function t(e){function n(t){return new gx(t,e)}return n.tension=function(e){return t(+e)},n}(0);function yx(t,e,n){var i=t._x1,r=t._y1,s=t._x2,o=t._y2;if(t._l01_a>K_){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>K_){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*u+t._x1*t._l23_2a-e*t._l12_2a)/c,o=(o*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(i,r,s,o,t._x2,t._y2)}function vx(t,e){this._context=t,this._alpha=e}vx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:yx(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var bx=function t(e){function n(t){return e?new vx(t,e):new hx(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function _x(t,e){this._context=t,this._alpha=e}_x.prototype={areaStart:tx,areaEnd:tx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:yx(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var wx=function t(e){function n(t){return e?new _x(t,e):new fx(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function xx(t,e){this._context=t,this._alpha=e}xx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:yx(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Cx=function t(e){function n(t){return e?new xx(t,e):new gx(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Sx(t){this._context=t}Sx.prototype={areaStart:tx,areaEnd:tx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var Ex=function(t){return new Sx(t)};function kx(t){return t<0?-1:1}function Tx(t,e,n){var i=t._x1-t._x0,r=e-t._x1,s=(t._y1-t._y0)/(i||r<0&&-0),o=(n-t._y1)/(r||i<0&&-0),a=(s*r+o*i)/(i+r);return(kx(s)+kx(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function Ax(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Mx(t,e,n){var i=t._x0,r=t._x1,s=t._y1,o=(r-i)/3;t._context.bezierCurveTo(i+o,t._y0+o*e,r-o,s-o*n,r,s)}function Nx(t){this._context=t}function Ix(t){this._context=new Ox(t)}function Ox(t){this._context=t}function Dx(t){return new Nx(t)}function Px(t){return new Ix(t)}function Rx(t){this._context=t}function Hx(t){var e,n,i=t.length-1,r=new Array(i),s=new Array(i),o=new Array(i);for(r[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,s[i-1]=7,o[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)s[e]-=n=r[e]/s[e-1],o[e]-=n*o[e-1];for(r[i-1]=o[i-1]/s[i-1],e=i-2;e>=0;--e)r[e]=(o[e]-r[e+1])/s[e];for(s[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)s[e]=2*t[e+1]-r[e+1];return[r,s]}Nx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mx(this,this._t0,Ax(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Mx(this,Ax(this,n=Tx(this,t,e)),n);break;default:Mx(this,this._t0,n=Tx(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Ix.prototype=Object.create(Nx.prototype)).point=function(t,e){Nx.prototype.point.call(this,e,t)},Ox.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,s){this._context.bezierCurveTo(e,t,i,n,s,r)}},Rx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=Hx(t),r=Hx(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Lx=function(t){return new Rx(t)};function Fx(t,e){this._context=t,this._t=e}Fx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Vx=function(t){return new Fx(t,.5)};function jx(t){return new Fx(t,0)}function zx(t){return new Fx(t,1)}var Bx=function(t,e){if((r=t.length)>1)for(var n,i,r,s=1,o=t[e[0]],a=o.length;s<r;++s)for(i=o,o=t[e[s]],n=0;n<a;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]},Ux=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function qx(t,e){return t[e]}var $x=function(){var t=z_([]),e=Ux,n=Bx,i=qx;function r(r){var s,o,a=t.apply(this,arguments),l=r.length,u=a.length,c=new Array(u);for(s=0;s<u;++s){for(var h,d=a[s],f=c[s]=new Array(l),p=0;p<l;++p)f[p]=h=[0,+i(r[p],d,p,r)],h.data=r[p];f.key=d}for(s=0,o=e(c);s<u;++s)c[o[s]].index=s;return n(c,o),c}return r.keys=function(e){return arguments.length?(t="function"==typeof e?e:z_(Ew.call(e)),r):t},r.value=function(t){return arguments.length?(i="function"==typeof t?t:z_(+t),r):i},r.order=function(t){return arguments.length?(e=null==t?Ux:"function"==typeof t?t:z_(Ew.call(t)),r):e},r.offset=function(t){return arguments.length?(n=null==t?Bx:t,r):n},r},Wx=function(t,e){if((i=t.length)>0){for(var n,i,r,s=0,o=t[0].length;s<o;++s){for(r=n=0;n<i;++n)r+=t[n][s][1]||0;if(r)for(n=0;n<i;++n)t[n][s][1]/=r}Bx(t,e)}},Yx=function(t,e){if((a=t.length)>0)for(var n,i,r,s,o,a,l=0,u=t[e[0]].length;l<u;++l)for(s=o=0,n=0;n<a;++n)(r=(i=t[e[n]][l])[1]-i[0])>0?(i[0]=s,i[1]=s+=r):r<0?(i[1]=o,i[0]=o+=r):(i[0]=0,i[1]=r)},Gx=function(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],s=r.length;i<s;++i){for(var o=0,a=0;o<n;++o)a+=t[o][i][1]||0;r[i][1]+=r[i][0]=-a/2}Bx(t,e)}},Kx=function(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,s=0,o=1;o<i;++o){for(var a=0,l=0,u=0;a<r;++a){for(var c=t[e[a]],h=c[o][1]||0,d=(h-(c[o-1][1]||0))/2,f=0;f<a;++f){var p=t[e[f]];d+=(p[o][1]||0)-(p[o-1][1]||0)}l+=h,u+=d*h}n[o-1][1]+=n[o-1][0]=s,l&&(s-=u/l)}n[o-1][1]+=n[o-1][0]=s,Bx(t,e)}},Qx=function(t){var e=t.map(Zx);return Ux(t).sort(function(t,n){return e[t]-e[n]})};function Zx(t){for(var e,n=-1,i=0,r=t.length,s=-1/0;++n<r;)(e=+t[n][1])>s&&(s=e,i=n);return i}var Xx=function(t){var e=t.map(Jx);return Ux(t).sort(function(t,n){return e[t]-e[n]})};function Jx(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}var tC=function(t){return Xx(t).reverse()},eC=function(t){var e,n,i=t.length,r=t.map(Jx),s=Qx(t),o=0,a=0,l=[],u=[];for(e=0;e<i;++e)n=s[e],o<a?(o+=r[n],l.push(n)):(a+=r[n],u.push(n));return u.reverse().concat(l)},nC=function(t){return Ux(t).reverse()},iC="%Y-%m-%dT%H:%M:%S.%LZ",rC=Date.prototype.toISOString?function(t){return t.toISOString()}:dy(iC),sC=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:fy(iC),oC=function(t,e,n){var i=new Wn,r=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?qn():+n,i.restart(function s(o){o+=r,i.restart(s,r+=e,n),t(o)},e,n),i)},aC=function(t){return function(){return t}};function lC(t){return t[0]}function uC(t){return t[1]}function cC(){this._=null}function hC(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function dC(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function fC(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function pC(t){for(;t.L;)t=t.L;return t}cC.prototype={constructor:cC,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=pC(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(dC(this,n),n=(t=n).U),n.C=!1,i.C=!0,fC(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(fC(this,n),n=(t=n).U),n.C=!1,i.C=!0,dC(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,s=t.L,o=t.R;if(n=s?o?pC(o):s:o,r?r.L===t?r.L=n:r.R=n:this._=n,s&&o?(i=n.C,n.C=t.C,n.L=s,s.U=n,n!==o?(r=n.U,n.U=t.U,r.L=t=n.R,n.R=o,o.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,dC(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,fC(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,dC(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,fC(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,dC(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,fC(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var gC=cC;function mC(t,e,n,i){var r=[null,null],s=jC.push(r)-1;return r.left=t,r.right=e,n&&vC(r,t,e,n),i&&vC(r,e,t,i),FC[t.index].halfedges.push(s),FC[e.index].halfedges.push(s),r}function yC(t,e,n){var i=[e,n];return i.left=t,i}function vC(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function bC(t,e,n,i,r){var s,o=t[0],a=t[1],l=o[0],u=o[1],c=0,h=1,d=a[0]-l,f=a[1]-u;if(s=e-l,d||!(s>0)){if(s/=d,d<0){if(s<c)return;s<h&&(h=s)}else if(d>0){if(s>h)return;s>c&&(c=s)}if(s=i-l,d||!(s<0)){if(s/=d,d<0){if(s>h)return;s>c&&(c=s)}else if(d>0){if(s<c)return;s<h&&(h=s)}if(s=n-u,f||!(s>0)){if(s/=f,f<0){if(s<c)return;s<h&&(h=s)}else if(f>0){if(s>h)return;s>c&&(c=s)}if(s=r-u,f||!(s<0)){if(s/=f,f<0){if(s>h)return;s>c&&(c=s)}else if(f>0){if(s<c)return;s<h&&(h=s)}return!(c>0||h<1)||(c>0&&(t[0]=[l+c*d,u+c*f]),h<1&&(t[1]=[l+h*d,u+h*f]),!0)}}}}}function _C(t,e,n,i,r){var s=t[1];if(s)return!0;var o,a,l=t[0],u=t.left,c=t.right,h=u[0],d=u[1],f=c[0],p=c[1],g=(h+f)/2;if(p===d){if(g<e||g>=i)return;if(h>f){if(l){if(l[1]>=r)return}else l=[g,n];s=[g,r]}else{if(l){if(l[1]<n)return}else l=[g,r];s=[g,n]}}else if(a=(d+p)/2-(o=(h-f)/(p-d))*g,o<-1||o>1)if(h>f){if(l){if(l[1]>=r)return}else l=[(n-a)/o,n];s=[(r-a)/o,r]}else{if(l){if(l[1]<n)return}else l=[(r-a)/o,r];s=[(n-a)/o,n]}else if(d<p){if(l){if(l[0]>=i)return}else l=[e,o*e+a];s=[i,o*i+a]}else{if(l){if(l[0]<e)return}else l=[i,o*i+a];s=[e,o*e+a]}return t[0]=l,t[1]=s,!0}function wC(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function xC(t,e){return e[+(e.left!==t.site)]}function CC(t,e){return e[+(e.left===t.site)]}var SC,EC=[];function kC(){hC(this),this.x=this.y=this.arc=this.site=this.cy=null}function TC(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,s=n.site;if(i!==s){var o=r[0],a=r[1],l=i[0]-o,u=i[1]-a,c=s[0]-o,h=s[1]-a,d=2*(l*h-u*c);if(!(d>=-BC)){var f=l*l+u*u,p=c*c+h*h,g=(h*f-u*p)/d,m=(l*p-c*f)/d,y=EC.pop()||new kC;y.arc=t,y.site=r,y.x=g+o,y.y=(y.cy=m+a)+Math.sqrt(g*g+m*m),t.circle=y;for(var v=null,b=VC._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}VC.insert(v,y),v||(SC=y)}}}}function AC(t){var e=t.circle;e&&(e.P||(SC=e.N),VC.remove(e),EC.push(e),hC(e),t.circle=null)}var MC=[];function NC(){hC(this),this.edge=this.site=this.circle=null}function IC(t){var e=MC.pop()||new NC;return e.site=t,e}function OC(t){AC(t),LC.remove(t),MC.push(t),hC(t)}function DC(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],s=t.P,o=t.N,a=[t];OC(t);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<zC&&Math.abs(i-l.circle.cy)<zC;)s=l.P,a.unshift(l),OC(l),l=s;a.unshift(l),AC(l);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<zC&&Math.abs(i-u.circle.cy)<zC;)o=u.N,a.push(u),OC(u),u=o;a.push(u),AC(u);var c,h=a.length;for(c=1;c<h;++c)vC((u=a[c]).edge,(l=a[c-1]).site,u.site,r);(u=a[h-1]).edge=mC((l=a[0]).site,u.site,null,r),TC(l),TC(u)}function PC(t){for(var e,n,i,r,s=t[0],o=t[1],a=LC._;a;)if((i=RC(a,o)-s)>zC)a=a.L;else{if(!((r=s-HC(a,o))>zC)){i>-zC?(e=a.P,n=a):r>-zC?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){FC[t.index]={site:t,halfedges:[]}}(t);var l=IC(t);if(LC.insert(e,l),e||n){if(e===n)return AC(e),n=IC(e.site),LC.insert(l,n),l.edge=n.edge=mC(e.site,l.site),TC(e),void TC(n);if(n){AC(e),AC(n);var u=e.site,c=u[0],h=u[1],d=t[0]-c,f=t[1]-h,p=n.site,g=p[0]-c,m=p[1]-h,y=2*(d*m-f*g),v=d*d+f*f,b=g*g+m*m,_=[(m*v-f*b)/y+c,(d*b-g*v)/y+h];vC(n.edge,u,p,_),l.edge=mC(u,t,null,_),n.edge=mC(t,p,null,_),TC(e),TC(n)}else l.edge=mC(e.site,l.site)}}function RC(t,e){var n=t.site,i=n[0],r=n[1],s=r-e;if(!s)return i;var o=t.P;if(!o)return-1/0;var a=(n=o.site)[0],l=n[1],u=l-e;if(!u)return a;var c=a-i,h=1/s-1/u,d=c/u;return h?(-d+Math.sqrt(d*d-2*h*(c*c/(-2*u)-l+u/2+r-s/2)))/h+i:(i+a)/2}function HC(t,e){var n=t.N;if(n)return RC(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var LC,FC,VC,jC,zC=1e-6,BC=1e-12;function UC(t,e){return e[1]-t[1]||e[0]-t[0]}function qC(t,e){var n,i,r,s=t.sort(UC).pop();for(jC=[],FC=new Array(t.length),LC=new gC,VC=new gC;;)if(r=SC,s&&(!r||s[1]<r.y||s[1]===r.y&&s[0]<r.x))s[0]===n&&s[1]===i||(PC(s),n=s[0],i=s[1]),s=t.pop();else{if(!r)break;DC(r.arc)}if(function(){for(var t,e,n,i,r=0,s=FC.length;r<s;++r)if((t=FC[r])&&(i=(e=t.halfedges).length)){var o=new Array(i),a=new Array(i);for(n=0;n<i;++n)o[n]=n,a[n]=wC(t,jC[e[n]]);for(o.sort(function(t,e){return a[e]-a[t]}),n=0;n<i;++n)a[n]=e[o[n]];for(n=0;n<i;++n)e[n]=a[n]}}(),e){var o=+e[0][0],a=+e[0][1],l=+e[1][0],u=+e[1][1];!function(t,e,n,i){for(var r,s=jC.length;s--;)_C(r=jC[s],t,e,n,i)&&bC(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>zC||Math.abs(r[0][1]-r[1][1])>zC)||delete jC[s]}(o,a,l,u),function(t,e,n,i){var r,s,o,a,l,u,c,h,d,f,p,g,m=FC.length,y=!0;for(r=0;r<m;++r)if(s=FC[r]){for(o=s.site,a=(l=s.halfedges).length;a--;)jC[l[a]]||l.splice(a,1);for(a=0,u=l.length;a<u;)p=(f=CC(s,jC[l[a]]))[0],g=f[1],h=(c=xC(s,jC[l[++a%u]]))[0],d=c[1],(Math.abs(p-h)>zC||Math.abs(g-d)>zC)&&(l.splice(a,0,jC.push(yC(o,f,Math.abs(p-t)<zC&&i-g>zC?[t,Math.abs(h-t)<zC?d:i]:Math.abs(g-i)<zC&&n-p>zC?[Math.abs(d-i)<zC?h:n,i]:Math.abs(p-n)<zC&&g-e>zC?[n,Math.abs(h-n)<zC?d:e]:Math.abs(g-e)<zC&&p-t>zC?[Math.abs(d-e)<zC?h:t,e]:null))-1),++u);u&&(y=!1)}if(y){var v,b,_,w=1/0;for(r=0,y=null;r<m;++r)(s=FC[r])&&(_=(v=(o=s.site)[0]-t)*v+(b=o[1]-e)*b)<w&&(w=_,y=s);if(y){var x=[t,e],C=[t,i],S=[n,i],E=[n,e];y.halfedges.push(jC.push(yC(o=y.site,x,C))-1,jC.push(yC(o,C,S))-1,jC.push(yC(o,S,E))-1,jC.push(yC(o,E,x))-1)}}for(r=0;r<m;++r)(s=FC[r])&&(s.halfedges.length||delete FC[r])}(o,a,l,u)}this.edges=jC,this.cells=FC,LC=VC=jC=FC=null}qC.prototype={constructor:qC,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return xC(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,i){if(s=(r=n.halfedges).length)for(var r,s,o,a,l,u,c=n.site,h=-1,d=e[r[s-1]],f=d.left===c?d.right:d.left;++h<s;)o=f,f=(d=e[r[h]]).left===c?d.right:d.left,o&&f&&i<o.index&&i<f.index&&((a=c)[0]-(u=f)[0])*((l=o)[1]-a[1])-(a[0]-l[0])*(u[1]-a[1])<0&&t.push([c.data,o.data,f.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var i,r,s=this,o=s._found||0,a=s.cells.length;!(r=s.cells[o]);)if(++o>=a)return null;var l=t-r.site[0],u=e-r.site[1],c=l*l+u*u;do{r=s.cells[i=o],o=null,r.halfedges.forEach(function(n){var i=s.edges[n],a=i.left;if(a!==r.site&&a||(a=i.right)){var l=t-a[0],u=e-a[1],h=l*l+u*u;h<c&&(c=h,o=a.index)}})}while(null!==o);return s._found=i,null==n||c<=n*n?r.site:null}};var $C=function(){var t=lC,e=uC,n=null;function i(i){return new qC(i.map(function(n,r){var s=[Math.round(t(n,r,i)/zC)*zC,Math.round(e(n,r,i)/zC)*zC];return s.index=r,s.data=n,s}),n)}return i.polygons=function(t){return i(t).polygons()},i.links=function(t){return i(t).links()},i.triangles=function(t){return i(t).triangles()},i.x=function(e){return arguments.length?(t="function"==typeof e?e:aC(+e),i):t},i.y=function(t){return arguments.length?(e="function"==typeof t?t:aC(+t),i):e},i.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],i):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},i.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],i):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},i},WC=function(t){return function(){return t}};function YC(t,e,n){this.target=t,this.type=e,this.transform=n}function GC(t,e,n){this.k=t,this.x=e,this.y=n}GC.prototype={constructor:GC,scale:function(t){return 1===t?this:new GC(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new GC(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var KC=new GC(1,0,0);function QC(t){for(;!t.__zoom;)if(!(t=t.parentNode))return KC;return t.__zoom}function ZC(){ce.stopImmediatePropagation()}QC.prototype=GC.prototype;var XC=function(){ce.preventDefault(),ce.stopImmediatePropagation()};function JC(){return!ce.ctrlKey&&!ce.button}function tS(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function eS(){return this.__zoom||KC}function nS(){return-ce.deltaY*(1===ce.deltaMode?.05:ce.deltaMode?1:.002)}function iS(){return navigator.maxTouchPoints||"ontouchstart"in this}function rS(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}var sS=function(){var t,e,n=JC,i=tS,r=rS,s=nS,o=iS,a=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,c=Mp,h=dt("start","zoom","end"),d=500,f=0;function p(t){t.property("__zoom",eS).on("wheel.zoom",w).on("mousedown.zoom",x).on("dblclick.zoom",C).filter(o).on("touchstart.zoom",S).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,e){return(e=Math.max(a[0],Math.min(a[1],e)))===t.k?t:new GC(e,t.x,t.y)}function m(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new GC(t.k,i,r)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function v(t,e,n){t.on("start.zoom",function(){b(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).end()}).tween("zoom",function(){var t=this,r=arguments,s=b(t,r),o=i.apply(t,r),a=null==n?y(o):"function"==typeof n?n.apply(t,r):n,l=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),u=t.__zoom,h="function"==typeof e?e.apply(t,r):e,d=c(u.invert(a).concat(l/u.k),h.invert(a).concat(l/h.k));return function(t){if(1===t)t=h;else{var e=d(t),n=l/e[2];t=new GC(n,a[0]-e[0]*n,a[1]-e[1]*n)}s.zoom(null,t)}})}function b(t,e,n){return!n&&t.__zooming||new _(t,e)}function _(t,e){this.that=t,this.args=e,this.active=0,this.extent=i.apply(t,e),this.taps=0}function w(){if(n.apply(this,arguments)){var t=b(this,arguments),e=this.__zoom,i=Math.max(a[0],Math.min(a[1],e.k*Math.pow(2,s.apply(this,arguments)))),o=Rn(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=e.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(e.k===i)return;t.mouse=[o,e.invert(o)],ui(this),t.start()}XC(),t.wheel=setTimeout(u,150),t.zoom("mouse",r(m(g(e,i),t.mouse[0],t.mouse[1]),t.extent,l))}function u(){t.wheel=null,t.end()}}function x(){if(!e&&n.apply(this,arguments)){var t=b(this,arguments,!0),i=Se(ce.view).on("mousemove.zoom",u,!0).on("mouseup.zoom",c,!0),s=Rn(this),o=ce.clientX,a=ce.clientY;Te(ce.view),ZC(),t.mouse=[s,this.__zoom.invert(s)],ui(this),t.start()}function u(){if(XC(),!t.moved){var e=ce.clientX-o,n=ce.clientY-a;t.moved=e*e+n*n>f}t.zoom("mouse",r(m(t.that.__zoom,t.mouse[0]=Rn(t.that),t.mouse[1]),t.extent,l))}function c(){i.on("mousemove.zoom mouseup.zoom",null),Ae(ce.view,t.moved),XC(),t.end()}}function C(){if(n.apply(this,arguments)){var t=this.__zoom,e=Rn(this),s=t.invert(e),o=t.k*(ce.shiftKey?.5:2),a=r(m(g(t,o),e,s),i.apply(this,arguments),l);XC(),u>0?Se(this).transition().duration(u).call(v,a,e):Se(this).call(p.transform,a)}}function S(){if(n.apply(this,arguments)){var e,i,r,s,o=ce.touches,a=o.length,l=b(this,arguments,ce.changedTouches.length===a);for(ZC(),i=0;i<a;++i)s=[s=Pn(this,o,(r=o[i]).identifier),this.__zoom.invert(s),r.identifier],l.touch0?l.touch1||l.touch0[2]===s[2]||(l.touch1=s,l.taps=0):(l.touch0=s,e=!0,l.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(l.taps<2&&(t=setTimeout(function(){t=null},d)),ui(this),l.start())}}function E(){if(this.__zooming){var e,n,i,s,o=b(this,arguments),a=ce.changedTouches,u=a.length;for(XC(),t&&(t=clearTimeout(t)),o.taps=0,e=0;e<u;++e)i=Pn(this,a,(n=a[e]).identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=i:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=i);if(n=o.that.__zoom,o.touch1){var c=o.touch0[0],h=o.touch0[1],d=o.touch1[0],f=o.touch1[1],p=(p=d[0]-c[0])*p+(p=d[1]-c[1])*p,y=(y=f[0]-h[0])*y+(y=f[1]-h[1])*y;n=g(n,Math.sqrt(p/y)),i=[(c[0]+d[0])/2,(c[1]+d[1])/2],s=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!o.touch0)return;i=o.touch0[0],s=o.touch0[1]}o.zoom("touch",r(m(n,i,s),o.extent,l))}}function k(){if(this.__zooming){var t,n,i=b(this,arguments),r=ce.changedTouches,s=r.length;for(ZC(),e&&clearTimeout(e),e=setTimeout(function(){e=null},d),t=0;t<s;++t)n=r[t],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;if(i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0)i.touch0[1]=this.__zoom.invert(i.touch0[0]);else if(i.end(),2===i.taps){var o=Se(this).on("dblclick.zoom");o&&o.apply(this,arguments)}}}return p.transform=function(t,e,n){var i=t.selection?t.selection():t;i.property("__zoom",eS),t!==i?v(t,e,n):i.interrupt().each(function(){b(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},p.scaleBy=function(t,e,n){p.scaleTo(t,function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n},n)},p.scaleTo=function(t,e,n){p.transform(t,function(){var t=i.apply(this,arguments),s=this.__zoom,o=null==n?y(t):"function"==typeof n?n.apply(this,arguments):n,a=s.invert(o),u="function"==typeof e?e.apply(this,arguments):e;return r(m(g(s,u),o,a),t,l)},n)},p.translateBy=function(t,e,n){p.transform(t,function(){return r(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)})},p.translateTo=function(t,e,n,s){p.transform(t,function(){var t=i.apply(this,arguments),o=this.__zoom,a=null==s?y(t):"function"==typeof s?s.apply(this,arguments):s;return r(KC.translate(a[0],a[1]).scale(o.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,l)},s)},_.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){me(new YC(p,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},p.wheelDelta=function(t){return arguments.length?(s="function"==typeof t?t:WC(+t),p):s},p.filter=function(t){return arguments.length?(n="function"==typeof t?t:WC(!!t),p):n},p.touchable=function(t){return arguments.length?(o="function"==typeof t?t:WC(!!t),p):o},p.extent=function(t){return arguments.length?(i="function"==typeof t?t:WC([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),p):i},p.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],p):[a[0],a[1]]},p.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],p):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},p.constrain=function(t){return arguments.length?(r=t,p):r},p.duration=function(t){return arguments.length?(u=+t,p):u},p.interpolate=function(t){return arguments.length?(c=t,p):c},p.on=function(){var t=h.on.apply(h,arguments);return t===h?p:t},p.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,p):Math.sqrt(f)},p}},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e);let r=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function u(t){return null!==t&&"object"==typeof t}const c=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:s,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(i(s)){r&&(this._unsubscribe=void 0);try{s.call(this)}catch(a){e=a instanceof c?d(a.errors):[a]}}if(l(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(u(n))try{n.unsubscribe()}catch(a){e=e||[],a instanceof c?e=e.concat(d(a.errors)):e.push(a)}}}if(e)throw new c(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof c?e.errors:e),[])}const f=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[f](){return this}static create(t,e,n){const i=new p(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,r){let s;super(),this._parentSubscriber=t;let o=this;i(e)?s=e:e&&(s=e.next,n=e.error,r=e.complete,e!==a&&(o=Object.create(e),i(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(o(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}let v=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,r=function(t,e,n){if(t){if(t instanceof p)return t;if(t[f])return t[f]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const _=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class x extends p{constructor(t){super(t),this.destination=t}}let C=(()=>{class t extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new x(this)}lift(t){const e=new S(this,this);return e.operator=t,e}next(t){if(this.closed)throw new _;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new _;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new _;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new _;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new v;return t.source=this,t}}return t.create=(t,e)=>new S(t,e),t})();class S extends C{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function E(t){return t&&"function"==typeof t.schedule}function k(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new T(t,e))}}class T{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new A(t,this.project,this.thisArg))}}class A extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const M=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()};function N(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const I=N(),O=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function D(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const P=t=>{if(t&&"function"==typeof t[m])return i=t,t=>{const e=i[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(O(t))return M(t);if(D(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[I])return e=t,t=>{const n=e[I]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,i};function R(t,e){return new v(n=>{const i=new h;let r=0;return i.add(e.schedule(function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function H(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new v(n=>{const i=new h;return i.add(e.schedule(()=>{const r=t[m]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(D(t))return function(t,e){return new v(n=>{const i=new h;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(O(t))return R(t,e);if(function(t){return t&&"function"==typeof t[I]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new v(n=>{const i=new h;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[I](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof v?t:new v(P(t))}class L extends p{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class F extends p{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function V(t,e){if(e.closed)return;if(t instanceof v)return t.subscribe(e);let n;try{n=P(t)(e)}catch(i){e.error(i)}return n}function j(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(j((n,i)=>H(t(n,i)).pipe(k((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new z(t,n)))}class z{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new B(t,this.project,this.concurrent))}}class B extends F{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new L(this),n=this.destination;n.add(e);const i=V(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function U(t=Number.POSITIVE_INFINITY){return j(y,t)}function q(t,e){return e?R(t,e):new v(M(t))}function $(){return function(t){return t.lift(new W(t))}}class W{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new Y(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class Y extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class G extends v{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Q(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return $()(this)}}const K=(()=>{const t=G.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Q extends x{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Z(){return new C}function X(t){for(let e in t)if(t[e]===X)return e;throw Error("Could not find renamed property on target object.")}function J(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function tt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(tt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function et(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const nt=X({__forward_ref__:X});function it(t){return t.__forward_ref__=it,t.toString=function(){return tt(this())},t}function rt(t){return st(t)?t():t}function st(t){return"function"==typeof t&&t.hasOwnProperty(nt)&&t.__forward_ref__===it}function ot(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function at(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function lt(t){return ut(t,ht)||ut(t,ft)}function ut(t,e){return t.hasOwnProperty(e)?t[e]:null}function ct(t){return t&&(t.hasOwnProperty(dt)||t.hasOwnProperty(pt))?t[dt]:null}const ht=X({"\u0275prov":X}),dt=X({"\u0275inj":X}),ft=X({ngInjectableDef:X}),pt=X({ngInjectorDef:X});var gt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let mt;function yt(t){const e=mt;return mt=t,e}function vt(t,e,n){const i=lt(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&gt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${tt(t)}]`)}function bt(t){return{toString:t}.toString()}var _t=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),wt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const xt="undefined"!=typeof globalThis&&globalThis,Ct="undefined"!=typeof window&&window,St="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Et="undefined"!=typeof global&&global,kt=xt||Et||Ct||St,Tt={},At=[],Mt=X({"\u0275cmp":X}),Nt=X({"\u0275dir":X}),It=X({"\u0275pipe":X}),Ot=X({"\u0275mod":X}),Dt=X({"\u0275loc":X}),Pt=X({"\u0275fac":X}),Rt=X({__NG_ELEMENT_ID__:X});let Ht=0;function Lt(t){return bt(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===_t.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||At,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||wt.Emulated,id:"c",styles:t.styles||At,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,s=t.pipes;return n.id+=Ht++,n.inputs=Bt(t.inputs,e),n.outputs=Bt(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(Ft):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(Vt):null,n})}function Ft(t){return qt(t)||function(t){return t[Nt]||null}(t)}function Vt(t){return function(t){return t[It]||null}(t)}const jt={};function zt(t){const e={type:t.type,bootstrap:t.bootstrap||At,declarations:t.declarations||At,imports:t.imports||At,exports:t.exports||At,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&bt(()=>{jt[t.id]=t.type}),e}function Bt(t,e){if(null==t)return Tt;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}const Ut=Lt;function qt(t){return t[Mt]||null}function $t(t,e){const n=t[Ot]||null;if(!n&&!0===e)throw new Error(`Type ${tt(t)} does not have '\u0275mod' property.`);return n}const Wt=20,Yt=10;function Gt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Kt(t){return Array.isArray(t)&&!0===t[1]}function Qt(t){return 0!=(8&t.flags)}function Zt(t){return 2==(2&t.flags)}function Xt(t){return 1==(1&t.flags)}function Jt(t){return null!==t.template}function te(t,e){return t.hasOwnProperty(Pt)?t[Pt]:null}class ee extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function ne(t){return"string"==typeof t?t:null==t?"":String(t)}function ie(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ne(t)}function re(t,e){const n=e?` in ${e}`:"";throw new ee("201",`No provider for ${ie(t)} found${n}`)}class se{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function oe(){return ae}function ae(t){return t.type.prototype.ngOnChanges&&(t.setInput=ue),le}function le(){const t=ce(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Tt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ue(t,e,n,i){const r=ce(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Tt,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],l=o[a];s[a]=new se(l&&l.currentValue,e,o===Tt),t[i]=e}function ce(t){return t.__ngSimpleChanges__||null}let he;function de(){return void 0!==he?he:"undefined"!=typeof document?document:void 0}function fe(t){return!!t.listen}oe.ngInherit=!0;const pe={createRenderer:(t,e)=>de()};function ge(t){for(;Array.isArray(t);)t=t[0];return t}function me(t,e){return ge(e[t])}function ye(t,e){return ge(e[t.index])}function ve(t,e){return t.data[e]}function be(t,e){const n=e[t];return Gt(n)?n:n[0]}function _e(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function we(t){return 4==(4&t[2])}function xe(t){return 128==(128&t[2])}function Ce(t,e){return null==e?null:t[e]}function Se(t){t[18]=0}function Ee(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const ke={lFrame:Ke(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Te(){return ke.bindingsEnabled}function Ae(){return ke.lFrame.lView}function Me(){return ke.lFrame.tView}function Ne(t){ke.lFrame.contextLView=t}function Ie(){let t=Oe();for(;null!==t&&64===t.type;)t=t.parent;return t}function Oe(){return ke.lFrame.currentTNode}function De(t,e){const n=ke.lFrame;n.currentTNode=t,n.isParent=e}function Pe(){return ke.lFrame.isParent}function Re(){ke.lFrame.isParent=!1}function He(){return ke.isInCheckNoChangesMode}function Le(t){ke.isInCheckNoChangesMode=t}function Fe(){const t=ke.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ve(){return ke.lFrame.bindingIndex++}function je(t){const e=ke.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ze(t,e){const n=ke.lFrame;n.bindingIndex=n.bindingRootIndex=t,Be(e)}function Be(t){ke.lFrame.currentDirectiveIndex=t}function Ue(){return ke.lFrame.currentQueryIndex}function qe(t){ke.lFrame.currentQueryIndex=t}function $e(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function We(t,e,n){if(n&gt.SkipSelf){let i=e,r=t;for(;i=i.parent,!(null!==i||n&gt.Host||(i=$e(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}const i=ke.lFrame=Ge();return i.currentTNode=e,i.lView=t,!0}function Ye(t){const e=Ge(),n=t[1];ke.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ge(){const t=ke.lFrame,e=null===t?null:t.child;return null===e?Ke(t):e}function Ke(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Qe(){const t=ke.lFrame;return ke.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ze=Qe;function Xe(){const t=Qe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Je(){return ke.lFrame.selectedIndex}function tn(t){ke.lFrame.selectedIndex=t}function en(){const t=ke.lFrame;return ve(t.tView,t.selectedIndex)}function nn(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function rn(t,e,n){an(t,e,3,n)}function sn(t,e,n,i){(3&t[2])===n&&an(t,e,n,i)}function on(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function an(t,e,n,i){const r=null!=i?i:-1,s=e.length-1;let o=0;for(let a=void 0!==i?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=i&&o>=i)break}else e[a]<0&&(t[18]+=65536),(o<r||-1==r)&&(ln(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ln(t,e,n,i){const r=n[i]<0,s=n[i+1],o=t[r?-n[i]:n[i]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const un=-1;class cn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function hn(t,e,n){const i=fe(t);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],l=n[r++];i?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++r];fn(o)?i&&t.setProperty(e,o,a):i?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function dn(t){return 3===t||4===t||6===t}function fn(t){return 64===t.charCodeAt(0)}function pn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||gn(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function gn(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function mn(t){return t!==un}function yn(t){return 32767&t}function vn(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let bn=!0;function _n(t){const e=bn;return bn=t,e}let wn=0;function xn(t,e){const n=Sn(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Cn(i.data,t),Cn(e,null),Cn(i.blueprint,null));const r=En(t,e),s=t.injectorIndex;if(mn(r)){const t=yn(r),n=vn(r,e),i=n[1].data;for(let r=0;r<8;r++)e[s+r]=n[t+r]|i[t+r]}return e[s+8]=r,s}function Cn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Sn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function En(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(i=2===e?t.declTNode:1===e?r[6]:null,null===i)return un;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return un}function kn(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Rt)&&(i=n[Rt]),null==i&&(i=n[Rt]=wn++);const r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function Tn(t,e,n){if(n&gt.Optional)return t;re(e,"NodeInjector")}function An(t,e,n,i){if(n&gt.Optional&&void 0===i&&(i=null),0==(n&(gt.Self|gt.Host))){const r=t[9],s=yt(void 0);try{return r?r.get(e,i,n&gt.Optional):vt(e,i,n&gt.Optional)}finally{yt(s)}}return Tn(i,e,n)}function Mn(t,e,n,i=gt.Default,r){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Rt)?t[Rt]:void 0;return"number"==typeof e?e>=0?255&e:In:e}(n);if("function"==typeof s){if(!We(e,t,i))return i&gt.Host?Tn(r,n,i):An(e,n,i,r);try{const t=s();if(null!=t||i&gt.Optional)return t;re(n)}finally{Ze()}}else if("number"==typeof s){let r=null,o=Sn(t,e),a=un,l=i&gt.Host?e[16][6]:null;for((-1===o||i&gt.SkipSelf)&&(a=-1===o?En(t,e):e[o+8],a!==un&&Hn(i,!1)?(r=e[1],o=yn(a),e=vn(a,e)):o=-1);-1!==o;){const t=e[1];if(Rn(s,o,t.data)){const t=On(o,e,n,r,i,l);if(t!==Nn)return t}a=e[o+8],a!==un&&Hn(i,e[1].data[o+8]===l)&&Rn(s,o,e)?(r=t,o=yn(a),e=vn(a,e)):o=-1}}}return An(e,n,i,r)}const Nn={};function In(){return new Ln(Ie(),Ae())}function On(t,e,n,i,r,s){const o=e[1],a=o.data[t+8],l=Dn(a,o,n,null==i?Zt(a)&&bn:i!=o&&0!=(3&a.type),r&gt.Host&&s===a);return null!==l?Pn(e,o,l,a):Nn}function Dn(t,e,n,i,r){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,u=s>>20,c=r?a+u:t.directiveEnd;for(let h=i?a:a+u;h<c;h++){const t=o[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(r){const t=o[l];if(t&&Jt(t)&&t.type===n)return l}return null}function Pn(t,e,n,i){let r=t[n];const s=e.data;if(r instanceof cn){const o=r;o.resolving&&function(t,e){throw new ee("200",`Circular dependency in DI detected for ${t}`)}(ie(s[n]));const a=_n(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?yt(o.injectImpl):null;We(t,i,gt.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const i=ae(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&yt(l),_n(a),o.resolving=!1,Ze()}}return r}function Rn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Hn(t,e){return!(t&gt.Self||t&gt.Host&&e)}class Ln{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Mn(this._tNode,this._lView,t,void 0,e)}}function Fn(t){const e=t;if(st(t))return()=>{const t=Fn(rt(e));return t?t():null};let n=te(e);if(null===n){const t=ct(e);n=t&&t.factory}return n||null}function Vn(t){return bt(()=>{const e=t.prototype.constructor,n=e[Pt]||Fn(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[Pt]||Fn(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}const jn="__parameters__";function zn(t,e,n){return bt(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty(jn)?t[jn]:Object.defineProperty(t,jn,{value:[]})[jn];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class Bn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ot({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Un=new Bn("AnalyzeForEntryComponents"),qn=Function;function $n(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),$n(i,e)):e!==t&&e.push(i)}return e}function Wn(t,e){t.forEach(t=>Array.isArray(t)?Wn(t,e):e(t))}function Yn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Gn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Kn(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function Qn(t,e,n){let i=Xn(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function Zn(t,e){const n=Xn(t,e);if(n>=0)return t[1|n]}function Xn(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=t[n<<1];if(e===s)return n<<1;s>e?r=n:i=n+1}return~(r<<1)}(t,e)}const Jn={},ti=/\n/gm,ei="__source",ni=X({provide:String,useValue:X});let ii;function ri(t){const e=ii;return ii=t,e}function si(t,e=gt.Default){if(void 0===ii)throw new Error("inject() must be called from an injection context");return null===ii?vt(t,void 0,e):ii.get(t,e&gt.Optional?null:void 0,e)}function oi(t,e=gt.Default){return(mt||si)(rt(t),e)}function ai(t){const e=[];for(let n=0;n<t.length;n++){const i=rt(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t,n=gt.Default;for(let e=0;e<i.length;e++){const r=i[e],s=r.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=r.token:n|=s:t=r}e.push(oi(t,n))}else e.push(oi(i))}return e}function li(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const ui=li(zn("Inject",t=>({token:t})),-1),ci=li(zn("Optional"),8),hi=li(zn("SkipSelf"),4);let di,fi;function pi(t){var e;return(null===(e=function(){if(void 0===di&&(di=null,kt.trustedTypes))try{di=kt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return di}())||void 0===e?void 0:e.createHTML(t))||t}function gi(t){var e;return(null===(e=function(){if(void 0===fi&&(fi=null,kt.trustedTypes))try{fi=kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return fi}())||void 0===e?void 0:e.createHTML(t))||t}class mi{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class yi extends mi{getTypeName(){return"HTML"}}class vi extends mi{getTypeName(){return"Style"}}class bi extends mi{getTypeName(){return"Script"}}class _i extends mi{getTypeName(){return"URL"}}class wi extends mi{getTypeName(){return"ResourceURL"}}function xi(t){return t instanceof mi?t.changingThisBreaksApplicationSecurity:t}function Ci(t,e){const n=Si(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Si(t){return t instanceof mi&&t.getTypeName()||null}class Ei{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(pi(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class ki{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=pi(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=pi(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ti=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ai=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Mi(t){return(t=String(t)).match(Ti)||t.match(Ai)?t:"unsafe:"+t}function Ni(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Ii(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Oi=Ni("area,br,col,hr,img,wbr"),Di=Ni("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pi=Ni("rp,rt"),Ri=Ii(Pi,Di),Hi=Ii(Oi,Ii(Di,Ni("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ii(Pi,Ni("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ri),Li=Ni("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fi=Ni("srcset"),Vi=Ii(Li,Fi,Ni("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ni("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ji=Ni("script,style,template");class zi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Hi.hasOwnProperty(e))return this.sanitizedSomething=!0,!ji.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,s=e.toLowerCase();if(!Vi.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Li[s]&&(o=Mi(o)),Fi[s]&&(i=o,o=(i=String(i)).split(",").map(t=>Mi(t.trim())).join(", ")),this.buf.push(" ",e,'="',qi(o),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Hi.hasOwnProperty(e)&&!Oi.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(qi(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Bi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ui=/([^\#-~ |!])/g;function qi(t){return t.replace(/&/g,"&amp;").replace(Bi,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ui,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $i;function Wi(t,e){let n=null;try{$i=$i||function(t){const e=new ki(t);return function(){try{return!!(new window.DOMParser).parseFromString(pi(""),"text/html")}catch(t){return!1}}()?new Ei(e):e}(t);let i=e?String(e):"";n=$i.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=$i.getInertBodyElement(i)}while(i!==s);return pi((new zi).sanitizeChildren(Yi(n)||n))}finally{if(n){const t=Yi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Yi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Gi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Ki(t){const e=Zi();return e?gi(e.sanitize(Gi.HTML,t)||""):Ci(t,"HTML")?gi(xi(t)):Wi(de(),ne(t))}function Qi(t){const e=Zi();return e?e.sanitize(Gi.URL,t)||"":Ci(t,"URL")?xi(t):Mi(ne(t))}function Zi(){const t=Ae();return t&&t[12]}function Xi(t){return t.ngDebugContext}function Ji(t){return t.ngOriginalError}function tr(t,...e){t.error(...e)}class er{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||tr}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Xi(t)?Xi(t):this._findContext(Ji(t)):null}_findOriginalError(t){let e=Ji(t);for(;e&&Ji(e);)e=Ji(e);return e}}function nr(t,e){t.__ngContext__=e}const ir=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(kt))();function rr(t){return{name:"window",target:t.ownerDocument.defaultView}}function sr(t){return t instanceof Function?t():t}var or=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function ar(t,e){return(void 0)(t,e)}function lr(t){const e=t[3];return Kt(e)?e[3]:e}function ur(t){return hr(t[13])}function cr(t){return hr(t[4])}function hr(t){for(;null!==t&&!Kt(t);)t=t[4];return t}function dr(t,e,n,i,r){if(null!=i){let s,o=!1;Kt(i)?s=i:Gt(i)&&(o=!0,i=i[0]);const a=ge(i);0===t&&null!==n?null==r?_r(e,n,a):br(e,n,a,r||null,!0):1===t&&null!==n?br(e,n,a,r||null,!0):2===t?function(t,e,n){const i=xr(t,e);i&&function(t,e,n,i){fe(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,i,r){const s=n[7];s!==ge(n)&&dr(e,t,i,s,r);for(let o=Yt;o<n.length;o++){const r=n[o];Mr(r[1],r,t,e,i,s)}}(e,t,s,n,r)}}function fr(t,e,n){return fe(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function pr(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Ee(r,-1)),n.splice(i,1)}function gr(t,e){if(t.length<=Yt)return;const n=Yt+e,i=t[n];if(i){const s=i[17];null!==s&&s!==t&&pr(s,i),e>0&&(t[n-1][4]=i[4]);const o=Gn(t,Yt+e);Mr(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function mr(t,e){if(!(256&e[2])){const n=e[11];fe(n)&&n.destroyNode&&Mr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return yr(t[1],t);for(;e;){let n=null;if(Gt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Gt(e)&&yr(e[1],e),e=e[3];null===e&&(e=t),Gt(e)&&yr(e[1],e),n=e&&e[4]}e=n}}(e)}}function yr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof cn)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):ge(e[t]),a=i[r=n[s+2]],l=n[s+3];"boolean"==typeof l?o.removeEventListener(n[s],a,l):l>=0?i[r=l]():i[r=-l].unsubscribe(),s+=2}else{const t=i[r=n[s+1]];n[s].call(t)}if(null!==i){for(let t=r+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&fe(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Kt(e[3])){n!==e[3]&&pr(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function vr(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===wt.None||e===wt.Emulated)return null}return ye(i,n)}(t,e.parent,n)}function br(t,e,n,i,r){fe(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function _r(t,e,n){fe(t)?t.appendChild(e,n):e.appendChild(n)}function wr(t,e,n,i,r){null!==i?br(t,e,n,i,r):_r(t,e,n)}function xr(t,e){return fe(t)?t.parentNode(e):e.parentNode}function Cr(t,e,n){return Sr(t,e,n)}let Sr=function(t,e,n){return 40&t.type?ye(t,n):null};function Er(t,e,n,i){const r=vr(t,i,e),s=e[11],o=Cr(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)wr(s,r,n[a],o,!1);else wr(s,r,n,o,!1)}function kr(t,e){if(null!==e){const n=e.type;if(3&n)return ye(e,t);if(4&n)return Tr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return kr(t,n);{const n=t[e.index];return Kt(n)?Tr(-1,n):ge(n)}}if(32&n)return ar(e,t)()||ge(t[e.index]);{const n=t[16],i=n[6],r=lr(n),s=i.projection[e.projection];return null!=s?kr(r,s):kr(t,e.next)}}return null}function Tr(t,e){const n=Yt+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return kr(t,i)}return e[7]}function Ar(t,e,n,i,r,s,o){for(;null!=n;){const a=i[n.index],l=n.type;if(o&&0===e&&(a&&nr(ge(a),i),n.flags|=4),64!=(64&n.flags))if(8&l)Ar(t,e,n.child,i,r,s,!1),dr(e,t,r,a,s);else if(32&l){const o=ar(n,i);let l;for(;l=o();)dr(e,t,r,l,s);dr(e,t,r,a,s)}else 16&l?Nr(t,e,i,n,r,s):dr(e,t,r,a,s);n=o?n.projectionNext:n.next}}function Mr(t,e,n,i,r,s){Ar(n,i,t.firstChild,e,r,s,!1)}function Nr(t,e,n,i,r,s){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)dr(e,t,r,a[l],s);else Ar(t,e,a,o[3],r,s,!0)}function Ir(t,e,n){fe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Or(t,e,n){fe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Dr(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}const Pr="ng-template";function Rr(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==Dr(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Hr(t){return 4===t.type&&t.value!==Pr}function Lr(t,e,n){return e===(4!==t.type||n?t.value:Pr)}function Fr(t,e,n){let i=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(dn(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!Lr(t,l,n)||""===l&&1===e.length){if(Vr(i))return!1;o=!0}}else{const u=8&i?l:e[++a];if(8&i&&null!==t.attrs){if(!Rr(t.attrs,u,n)){if(Vr(i))return!1;o=!0}continue}const c=jr(8&i?"class":l,r,Hr(t),n);if(-1===c){if(Vr(i))return!1;o=!0;continue}if(""!==u){let t;t=c>s?"":r[c+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==Dr(e,u,0)||2&i&&u!==t){if(Vr(i))return!1;o=!0}}}}else{if(!o&&!Vr(i)&&!Vr(l))return!1;if(o&&Vr(l))continue;o=!1,i=l|1&i}}return Vr(i)||o}function Vr(t){return 0==(1&t)}function jr(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function zr(t,e,n=!1){for(let i=0;i<e.length;i++)if(Fr(t,e[i],n))return!0;return!1}function Br(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function Ur(t,e){return t?":not("+e.trim()+")":e}function qr(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const e=t[++n];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||Vr(o)||(e+=Ur(s,r),r=""),i=o,s=s||!Vr(i);n++}return""!==r&&(e+=Ur(s,r)),e}const $r={};function Wr(t){Yr(Me(),Ae(),Je()+t,He())}function Yr(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&rn(e,i,n)}else{const i=t.preOrderHooks;null!==i&&sn(e,i,0,n)}tn(n)}function Gr(t,e){return t<<17|e<<2}function Kr(t){return t>>17&32767}function Qr(t){return 2|t}function Zr(t){return(131068&t)>>2}function Xr(t,e){return-131069&t|e<<2}function Jr(t){return 1|t}function ts(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=t.data[s];qe(r),n.contentQueries(2,e[s],s)}}}function es(t,e,n,i,r,s,o,a,l,u){const c=e.blueprint.slice();return c[0]=r,c[2]=140|i,Se(c),c[3]=c[15]=t,c[8]=n,c[10]=o||t&&t[10],c[11]=a||t&&t[11],c[12]=l||t&&t[12]||null,c[9]=u||t&&t[9]||null,c[6]=s,c[16]=2==e.type?t[16]:c,c}function ns(t,e,n,i,r){let s=t.data[e];if(null===s)s=function(t,e,n,i,r){const s=Oe(),o=Pe(),a=t.data[e]=function(t,e,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,i,r),ke.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const t=function(){const t=ke.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return De(s,!0),s}function is(t,e,n,i){if(0===n)return-1;const r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function rs(t,e,n){Ye(e);try{const i=t.viewQuery;null!==i&&Ds(1,i,n);const r=t.template;null!==r&&as(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ts(t,e),t.staticViewQueries&&Ds(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)As(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,Xe()}}function ss(t,e,n,i){const r=e[2];if(256==(256&r))return;Ye(e);const s=He();try{Se(e),ke.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&as(t,e,n,2,i);const o=3==(3&r);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&rn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&sn(e,n,0,null),on(e,0)}if(function(t){for(let e=ur(t);null!==e;e=cr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&Ee(i,1),n[2]|=1024}}}(e),function(t){for(let e=ur(t);null!==e;e=cr(e))for(let t=Yt;t<e.length;t++){const n=e[t],i=n[1];xe(n)&&ss(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&ts(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&rn(e,n)}else{const n=t.contentHooks;null!==n&&sn(e,n,1),on(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)tn(~i);else{const r=i,s=n[++t],o=n[++t];ze(s,r),o(2,e[r])}}}finally{tn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ks(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Ds(2,l,i),!s)if(o){const n=t.viewCheckHooks;null!==n&&rn(e,n)}else{const n=t.viewHooks;null!==n&&sn(e,n,2),on(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ee(e[3],-1))}finally{Xe()}}function os(t,e,n,i){const r=e[10],s=!He(),o=we(e);try{s&&!o&&r.begin&&r.begin(),o&&rs(t,e,i),ss(t,e,n,i)}finally{s&&!o&&r.end&&r.end()}}function as(t,e,n,i,r){const s=Je();try{tn(-1),2&i&&e.length>Wt&&Yr(t,e,Wt,He()),n(i,r)}finally{tn(s)}}function ls(t,e,n){if(Qt(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function us(t,e,n){Te()&&(function(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||xn(n,e),nr(i,e);const o=n.initialInputs;for(let a=r;a<s;a++){const i=t.data[a],s=Jt(i);s&&xs(e,n,i);const l=Pn(e,t,a,n);nr(l,e),null!==o&&Cs(0,a-r,l,i,0,o),s&&(be(n.index,e)[8]=l)}}(t,e,n,ye(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,o=ke.lFrame.currentDirectiveIndex;try{tn(s);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];Be(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||ys(i,r)}}finally{tn(-1),Be(o)}}(t,e,n))}function cs(t,e,n=ye){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function hs(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ds(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ds(t,e,n,i,r,s,o,a,l,u){const c=Wt+i,h=c+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:$r);return n}(c,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function fs(t,e,n,i){const r=Rs(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&Hs(t).push(i,r.length-1))}function ps(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function gs(t,e,n,i){let r=!1;if(Te()){const s=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];zr(n,o.selectors,!1)&&(r||(r=[]),kn(xn(n,e),t,o.type),Jt(o)?(vs(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==s){r=!0,_s(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,l=is(t,e,s.length,null);for(let r=0;r<s.length;r++){const u=s[r];n.mergedAttrs=pn(n.mergedAttrs,u.hostAttrs),ws(t,n,e,l,u),bs(l,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const c=u.type.prototype;!i&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!c.ngOnChanges&&!c.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,s=[];let o=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=i[l],n=t.inputs,u=null===r||Hr(e)?null:Ss(n,r);s.push(u),o=ps(n,l,o),a=ps(t.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new ee("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,o)}return n.mergedAttrs=pn(n.mergedAttrs,n.attrs),r}function ms(t,e,n,i,r,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(i,r,o)}}function ys(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function vs(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function bs(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Jt(e)&&(n[""]=t)}}function _s(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ws(t,e,n,i,r){t.data[i]=r;const s=r.factory||(r.factory=te(r.type)),o=new cn(s,Jt(r),null);t.blueprint[i]=o,n[i]=o,ms(t,e,0,i,is(t,n,r.hostVars,$r),r)}function xs(t,e,n){const i=ye(e,t),r=hs(n),s=t[10],o=Ms(t,es(t,r,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n),null,null));t[e.index]=o}function Cs(t,e,n,i,r,s){const o=s[e];if(null!==o){const t=i.setInput;for(let e=0;e<o.length;){const r=o[e++],s=o[e++],a=o[e++];null!==t?i.setInput(n,a,r,s):n[s]=a}}}function Ss(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Es(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function ks(t,e){const n=be(e,t);if(xe(n)){const t=n[1];80&n[2]?ss(t,n,t.template,n[8]):n[5]>0&&Ts(n)}}function Ts(t){for(let n=ur(t);null!==n;n=cr(n))for(let t=Yt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];ss(t,e,t.template,e[8])}else e[5]>0&&Ts(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=be(e[n],t);xe(i)&&i[5]>0&&Ts(i)}}function As(t,e){const n=be(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),rs(i,n,n[8])}function Ms(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ns(t){for(;t;){t[2]|=64;const e=lr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Is(t,e,n){const i=e[10];i.begin&&i.begin();try{ss(t,e,t.template,n)}catch(r){throw Ls(e,r),r}finally{i.end&&i.end()}}function Os(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=_e(n),r=i[1];os(r,i,r.template,n)}}(t[8])}function Ds(t,e,n){qe(0),e(t,n)}const Ps=(()=>Promise.resolve(null))();function Rs(t){return t[7]||(t[7]=[])}function Hs(t){return t.cleanup||(t.cleanup=[])}function Ls(t,e){const n=t[9],i=n?n.get(er,null):null;i&&i.handleError(e)}function Fs(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],u=t.data[o];null!==u.setInput?u.setInput(l,r,i,a):l[a]=r}}function Vs(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?r=et(r,t):2==s&&(i=et(i,t+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const js=new Bn("INJECTOR",-1);class zs{get(t,e=Jn){if(e===Jn){const e=new Error(`NullInjectorError: No provider for ${tt(t)}!`);throw e.name="NullInjectorError",e}return e}}const Bs=new Bn("Set Injector scope."),Us={},qs={},$s=[];let Ws;function Ys(){return void 0===Ws&&(Ws=new zs),Ws}function Gs(t,e=null,n=null,i){return new Ks(t,n,e||Ys(),i)}class Ks{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&Wn(e,n=>this.processProvider(n,t,e)),Wn([t],t=>this.processInjectorType(t,[],r)),this.records.set(js,Xs(void 0,this));const s=this.records.get(Bs);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:tt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Jn,n=gt.Default){this.assertNotDestroyed();const i=ri(this);try{if(!(n&gt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Bn)&&lt(t);e=n&&this.injectableDefInScope(n)?Xs(Qs(t),Us):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&gt.Self?Ys():this.parent).get(t,e=n&gt.Optional&&e===Jn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(tt(t)),i)throw s;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e[ei]&&r.unshift(e[ei]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=tt(e);if(Array.isArray(e))r=e.map(tt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):tt(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(ti,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{ri(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(tt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=rt(t)))return!1;let i=ct(t);const r=null==i&&t.ngModule||void 0,s=void 0===r?t:r,o=-1!==n.indexOf(s);if(void 0!==r&&(i=ct(r)),null==i)return!1;if(null!=i.imports&&!o){let t;n.push(s);try{Wn(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];Wn(i,t=>this.processProvider(t,n,i||$s))}}this.injectorDefTypes.add(s),this.records.set(s,Xs(i.factory,Us));const a=i.providers;if(null!=a&&!o){const e=t;Wn(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=to(t=rt(t))?t:rt(t&&t.provide);const r=function(t,e,n){return Js(t)?Xs(void 0,t.useValue):Xs(Zs(t),Us)}(t);if(to(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=Xs(void 0,Us,!0),e.factory=()=>ai(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===Us&&(e.value=qs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Qs(t){const e=lt(t),n=null!==e?e.factory:te(t);if(null!==n)return n;const i=ct(t);if(null!==i)return i.factory;if(t instanceof Bn)throw new Error(`Token ${tt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Kn(e,"?");throw new Error(`Can't resolve all parameters for ${tt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[ht]||t[ft]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Zs(t,e,n){let i;if(to(t)){const e=rt(t);return te(e)||Qs(e)}if(Js(t))i=()=>rt(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...ai(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>oi(rt(t.useExisting));else{const e=rt(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return te(e)||Qs(e);i=()=>new e(...ai(t.deps))}var r;return i}function Xs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Js(t){return null!==t&&"object"==typeof t&&ni in t}function to(t){return"function"==typeof t}const eo=function(t,e,n){return function(t,e=null,n=null,i){const r=Gs(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let no=(()=>{class t{static create(t,e){return Array.isArray(t)?eo(t,e,""):eo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Jn,t.NULL=new zs,t.\u0275prov=ot({token:t,providedIn:"any",factory:()=>oi(js)}),t.__NG_ELEMENT_ID__=-1,t})();function io(t,e){nn(_e(t)[1],Ie())}function ro(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r;if(Jt(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=so(t.inputs),e.declaredInputs=so(t.declaredInputs),e.outputs=so(t.outputs);const n=r.hostBindings;n&&lo(t,n);const s=r.viewQuery,o=r.contentQueries;if(s&&oo(t,s),o&&ao(t,o),J(t.inputs,r.inputs),J(t.declaredInputs,r.declaredInputs),J(t.outputs,r.outputs),Jt(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===ro&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=pn(r.hostAttrs,n=pn(n,r.hostAttrs))}}(i)}function so(t){return t===Tt?{}:t===At?[]:t}function oo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function ao(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function lo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}let uo=null;function co(){if(!uo){const t=kt.Symbol;if(t&&t.iterator)uo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(uo=n)}}}return uo}function ho(t){return!!fo(t)&&(Array.isArray(t)||!(t instanceof Map)&&co()in t)}function fo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function po(t,e,n){return t[e]=n}function go(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function mo(t,e,n,i){const r=go(t,e,n);return go(t,e+1,i)||r}function yo(t,e,n,i){const r=Ae();return go(r,Ve(),e)&&(Me(),function(t,e,n,i,r,s){const o=ye(t,e);!function(t,e,n,i,r,s,o){if(null==s)fe(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const a=null==o?ne(s):o(s,i||"",r);fe(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}(e[11],o,s,t.value,n,i,r)}(en(),r,t,e,n,i)),yo}function vo(t,e,n,i,r,s,o,a){const l=Ae(),u=Me(),c=t+Wt,h=u.firstCreatePass?function(t,e,n,i,r,s,o,a,l){const u=e.consts,c=ns(e,t,4,o||null,Ce(u,a));gs(e,n,c,Ce(u,l)),nn(e,c);const h=c.tViews=ds(2,c,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),h.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,n,i,r,s,o):u.data[c];De(h,!1);const d=l[11].createComment("");Er(u,l,d,h),nr(d,l),Ms(l,l[c]=Es(d,l,d,h)),Xt(h)&&us(u,l,h),null!=o&&cs(l,h,a)}function bo(t){return function(t,e){return t[e]}(ke.lFrame.contextLView,Wt+t)}function _o(t,e=gt.Default){const n=Ae();return null===n?oi(t,e):Mn(Ie(),n,rt(t),e)}function wo(t,e,n){const i=Ae();return go(i,Ve(),e)&&function(t,e,n,i,r,s,o,a){const l=ye(e,n);let u,c=e.inputs;var h;null!=c&&(u=c[i])?(Fs(t,n,u,i,r),Zt(e)&&function(t,e){const n=be(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,r=null!=o?o(r,e.value||"",i):r,fe(s)?s.setProperty(l,i,r):fn(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}(Me(),en(),i,t,e,i[11],n),wo}function xo(t,e,n,i,r){const s=r?"class":"style";Fs(t,n,e.inputs[s],s,i)}function Co(t,e,n,i){const r=Ae(),s=Me(),o=Wt+t,a=r[11],l=r[o]=fr(a,e,ke.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,n,i,r,s,o){const a=e.consts,l=ns(e,t,2,r,Ce(a,s));return gs(e,n,l,Ce(a,o)),null!==l.attrs&&Vs(l,l.attrs,!1),null!==l.mergedAttrs&&Vs(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,r,0,e,n,i):s.data[o];De(u,!0);const c=u.mergedAttrs;null!==c&&hn(a,l,c);const h=u.classes;null!==h&&Or(a,l,h);const d=u.styles;null!==d&&Ir(a,l,d),64!=(64&u.flags)&&Er(s,r,l,u),0===ke.lFrame.elementDepthCount&&nr(l,r),ke.lFrame.elementDepthCount++,Xt(u)&&(us(s,r,u),ls(s,u,r)),null!==i&&cs(r,u)}function So(){let t=Ie();Pe()?Re():(t=t.parent,De(t,!1));const e=t;ke.lFrame.elementDepthCount--;const n=Me();n.firstCreatePass&&(nn(n,t),Qt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&xo(n,e,Ae(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&xo(n,e,Ae(),e.stylesWithoutHost,!1)}function Eo(t,e,n,i){Co(t,e,n,i),So()}function ko(t,e,n){const i=Ae(),r=Me(),s=t+Wt,o=r.firstCreatePass?function(t,e,n,i,r){const s=e.consts,o=Ce(s,i),a=ns(e,t,8,"ng-container",o);return null!==o&&Vs(a,o,!0),gs(e,n,a,Ce(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,n):r.data[s];De(o,!0);const a=i[s]=i[11].createComment("");Er(r,i,a,o),nr(a,i),Xt(o)&&(us(r,i,o),ls(r,o,i)),null!=n&&cs(i,o)}function To(){let t=Ie();const e=Me();Pe()?Re():(t=t.parent,De(t,!1)),e.firstCreatePass&&(nn(e,t),Qt(t)&&e.queries.elementEnd(t))}function Ao(t,e,n){ko(t,e,n),To()}function Mo(){return Ae()}function No(t){return!!t&&"function"==typeof t.then}const Io=function(t){return!!t&&"function"==typeof t.subscribe};function Oo(t,e,n=!1,i){const r=Ae(),s=Me(),o=Ie();return function(t,e,n,i,r,s,o=!1,a){const l=Xt(i),u=t.firstCreatePass&&Hs(t),c=Rs(e);let h=!0;if(3&i.type){const d=ye(i,e),f=a?a(d):Tt,p=f.target||d,g=c.length,m=a?t=>a(ge(t[i.index])).target:i.index;if(fe(n)){let o=null;if(!a&&l&&(o=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const t=r[s];if(t===n&&r[s+1]===i){const t=e[7],n=r[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,r,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Po(i,e,s,!1);const t=n.listen(f.name||p,r,s);c.push(s,t),u&&u.push(r,m,g,g+1)}}else s=Po(i,e,s,!0),p.addEventListener(r,s,o),c.push(s),u&&u.push(r,m,g,o)}else s=Po(i,e,s,!1);const d=i.outputs;let f;if(h&&null!==d&&(f=d[r])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=c.length;c.push(s,t),u&&u.push(r,i.index,o,-(o+1))}}}(s,r,r[11],o,t,e,n,i),Oo}function Do(t,e,n){try{return!1!==e(n)}catch(i){return Ls(t,i),!1}}function Po(t,e,n,i){return function r(s){if(s===Function)return n;const o=2&t.flags?be(t.index,e):e;0==(32&e[2])&&Ns(o);let a=Do(e,n,s),l=r.__ngNextListenerFn__;for(;l;)a=Do(e,l,s)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Ro(t=1){return function(t){return(ke.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ke.lFrame.contextLView))[8]}(t)}function Ho(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?zr(t,s,!0):Br(i,s))return r}else n=r}return n}function Lo(t){const e=Ae()[16][6];if(!e.projection){const n=e.projection=Kn(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?Ho(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function Fo(t,e=0,n){const i=Ae(),r=Me(),s=ns(r,Wt+t,16,null,n||null);null===s.projection&&(s.projection=e),Re(),64!=(64&s.flags)&&function(t,e,n){Nr(e[11],0,e,n,vr(t,n,e),Cr(n.parent||e[6],n,e))}(r,i,s)}const Vo=[];function jo(t,e,n,i,r){const s=t[n+1],o=null===e;let a=i?Kr(s):Zr(s),l=!1;for(;0!==a&&(!1===l||o);){const n=t[a+1];zo(t[a],e)&&(l=!0,t[a+1]=i?Jr(n):Qr(n)),a=i?Kr(n):Zr(n)}l&&(t[n+1]=i?Qr(s):Jr(s))}function zo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Xn(t,e)>=0}const Bo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Uo(t){return t.substring(Bo.key,Bo.keyEnd)}function qo(t){return t.substring(Bo.value,Bo.valueEnd)}function $o(t,e){const n=Bo.textEnd;return n===e?-1:(e=Bo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Bo.key=e,n),Go(t,e,n))}function Wo(t,e){const n=Bo.textEnd;let i=Bo.key=Go(t,e,n);return n===i?-1:(i=Bo.keyEnd=function(t,e,n){let i;for(;e<n&&(45===(i=t.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(t,i,n),i=Ko(t,i,n),i=Bo.value=Go(t,i,n),i=Bo.valueEnd=function(t,e,n){let i=-1,r=-1,s=-1,o=e,a=o;for(;o<n;){const l=t.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=Qo(t,l,o,n):e===o-4&&85===s&&82===r&&76===i&&40===l?a=o=Qo(t,41,o,n):l>32&&(a=o),s=r,r=i,i=-33&l}return a}(t,i,n),Ko(t,i,n))}function Yo(t){Bo.key=0,Bo.keyEnd=0,Bo.value=0,Bo.valueEnd=0,Bo.textEnd=t.length}function Go(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ko(t,e,n,i){return(e=Go(t,e,n))<n&&e++,e}function Qo(t,e,n,i){let r=-1,s=n;for(;s<i;){const n=t.charCodeAt(s++);if(n==e&&92!==r)return s;r=92==n&&92===r?0:n}throw new Error}function Zo(t,e,n){return ia(t,e,n,!1),Zo}function Xo(t,e){return ia(t,e,null,!0),Xo}function Jo(t){ra(ua,ta,t,!1)}function ta(t,e){for(let n=function(t){return Yo(t),Wo(t,Go(t,0,Bo.textEnd))}(e);n>=0;n=Wo(e,n))ua(t,Uo(e),qo(e))}function ea(t){ra(Qn,na,t,!0)}function na(t,e){for(let n=function(t){return Yo(t),$o(t,Go(t,0,Bo.textEnd))}(e);n>=0;n=$o(e,n))Qn(t,Uo(e),!0)}function ia(t,e,n,i){const r=Ae(),s=Me(),o=je(2);s.firstUpdatePass&&oa(s,t,o,i),e!==$r&&go(r,o,e)&&ca(s,s.data[Je()],r,r[11],t,r[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=tt(xi(t)))),t}(e,n),i,o)}function ra(t,e,n,i){const r=Me(),s=je(2);r.firstUpdatePass&&oa(r,null,s,i);const o=Ae();if(n!==$r&&go(o,s,n)){const a=r.data[Je()];if(fa(a,i)&&!sa(r,s)){let t=i?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=et(t,n||"")),xo(r,a,o,n,i)}else!function(t,e,n,i,r,s,o,a){r===$r&&(r=Vo);let l=0,u=0,c=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==c||null!==h;){const d=l<r.length?r[l+1]:void 0,f=u<s.length?s[u+1]:void 0;let p,g=null;c===h?(l+=2,u+=2,d!==f&&(g=h,p=f)):null===h||null!==c&&c<h?(l+=2,g=c):(u+=2,g=h,p=f),null!==g&&ca(t,e,n,i,g,p,o,a),c=l<r.length?r[l]:null,h=u<s.length?s[u]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return Vo;const i=[],r=xi(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,s)}}function sa(t,e){return e>=t.expandoStartIndex}function oa(t,e,n,i){const r=t.data;if(null===r[n+1]){const s=r[Je()],o=sa(t,n);fa(s,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){const r=function(t){const e=ke.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=la(n=aa(null,t,e,n,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=aa(r,t,e,n,i),null===s){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==Zr(i))return t[Kr(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=aa(null,t,e,n[1],i),n=la(n,e.attrs,i),function(t,e,n,i){t[Kr(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else s=function(t,e,n){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=la(i,t[s].hostAttrs,n);return la(i,e.attrs,n)}(t,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),n}(r,s,e,i),function(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Kr(o),l=Zr(o);t[i]=n;let u,c=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||Xn(t,u)>0)&&(c=!0)}else u=n;if(r)if(0!==l){const e=Kr(t[a+1]);t[i+1]=Gr(e,a),0!==e&&(t[e+1]=Xr(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=Gr(a,0),0!==a&&(t[a+1]=Xr(t[a+1],i)),a=i;else t[i+1]=Gr(l,0),0===a?a=i:t[l+1]=Xr(t[l+1],i),l=i;c&&(t[i+1]=Qr(t[i+1])),jo(t,u,i,!0),jo(t,u,i,!1),function(t,e,n,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Xn(s,e)>=0&&(n[i+1]=Jr(n[i+1]))}(e,u,t,i,s),o=Gr(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,n,o,i)}}function aa(t,e,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],i=la(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function la(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Qn(t,o,!!n||e[++s]))}return void 0===t?null:t}function ua(t,e,n){Qn(t,e,xi(n))}function ca(t,e,n,i,r,s,o,a){if(!(3&e.type))return;const l=t.data,u=l[a+1];da(1==(1&u)?ha(l,e,n,r,Zr(u),o):void 0)||(da(s)||2==(2&u)&&(s=ha(l,null,n,r,a,o)),function(t,e,n,i,r){const s=fe(t);if(e)r?s?t.addClass(n,i):n.classList.add(i):s?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:or.DashCase;if(null==r)s?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const o="string"==typeof r&&r.endsWith("!important");o&&(r=r.slice(0,-10),e|=or.Important),s?t.setStyle(n,i,r,e):n.style.setProperty(i,r,o?"important":"")}}}(i,o,me(Je(),n),r,s))}function ha(t,e,n,i,r,s){const o=null===e;let a;for(;r>0;){const e=t[r],s=Array.isArray(e),l=s?e[1]:e,u=null===l;let c=n[r+1];c===$r&&(c=u?Vo:void 0);let h=u?Zn(c,i):l===i?c:void 0;if(s&&!da(h)&&(h=Zn(e,i)),da(h)&&(a=h,o))return a;const d=t[r+1];r=o?Kr(d):Zr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=Zn(t,i))}return a}function da(t){return void 0!==t}function fa(t,e){return 0!=(t.flags&(e?16:32))}function pa(t,e=""){const n=Ae(),i=Me(),r=t+Wt,s=i.firstCreatePass?ns(i,r,1,e,null):i.data[r],o=n[r]=function(t,e){return fe(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Er(i,n,o,s),De(s,!1)}function ga(t){return ma("",t,""),ga}function ma(t,e,n){const i=Ae(),r=function(t,e,n,i){return go(t,Ve(),n)?e+ne(n)+i:$r}(i,t,e,n);return r!==$r&&function(t,e,n){const i=me(e,t);!function(t,e,n){fe(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}(i,Je(),r),ma}const ya=void 0;var va=["en",[["a","p"],["AM","PM"],ya],[["AM","PM"],ya,ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ya,"{1} 'at' {0}",ya],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ba={};function _a(t){return t in ba||(ba[t]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[t]),ba[t]}var wa=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const xa="en-US";let Ca=xa;function Sa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ca=t.toLowerCase().replace(/_/g,"-"))}function Ea(t,e,n,i,r){if(t=rt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ea(t[s],e,n,i,r);else{const s=Me(),o=Ae();let a=to(t)?t:rt(t.provide),l=Zs(t);const u=Ie(),c=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(to(t)||!t.multi){const i=new cn(l,r,_o),f=Aa(a,e,r?c:c+d,h);-1===f?(kn(xn(u,o),s,a),ka(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(i),o.push(i)):(n[f]=i,o[f]=i)}else{const f=Aa(a,e,c+d,h),p=Aa(a,e,c,c+d),g=f>=0&&n[f],m=p>=0&&n[p];if(r&&!m||!r&&!g){kn(xn(u,o),s,a);const c=function(t,e,n,i,r){const s=new cn(t,n,_o);return s.multi=[],s.index=e,s.componentProviders=0,Ta(s,r,i&&!n),s}(r?Na:Ma,n.length,r,i,l);!r&&m&&(n[p].providerFactory=c),ka(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(c),o.push(c)}else ka(s,t,f>-1?f:p,Ta(n[r?p:f],l,!r&&i));!r&&i&&m&&n[p].componentProviders++}}}function ka(t,e,n,i){const r=to(e);if(r||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[i,s]):o[t+1].push(i,s)}else o.push(n,s)}}}function Ta(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Aa(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function Ma(t,e,n,i){return Ia(this.multi,[])}function Na(t,e,n,i){const r=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Pn(n,n[1],this.providerFactory.index,i);s=e.slice(0,t),Ia(r,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Ia(r,s);return s}function Ia(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Oa(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=Me();if(i.firstCreatePass){const r=Jt(t);Ea(n,i.data,i.blueprint,r,!0),Ea(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}class Da{}class Pa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${tt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ra=(()=>{class t{}return t.NULL=new Pa,t})();function Ha(...t){}function La(t,e){return new Va(ye(t,e))}const Fa=function(){return La(Ie(),Ae())};let Va=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Fa,t})();function ja(t){return t instanceof Va?t.nativeElement:t}class za{}let Ba=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ua(),t})();const Ua=function(){const t=Ae(),e=be(Ie().index,t);return function(t){return t[11]}(Gt(e)?e:t)};let qa=(()=>{class t{}return t.\u0275prov=ot({token:t,providedIn:"root",factory:()=>null}),t})();class $a{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Wa=new $a("11.1.2");class Ya{constructor(){}supports(t){return ho(t)}create(t){return new Ka(t)}}const Ga=(t,e)=>e;class Ka{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ga}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<Ja(n,i,r)?e:n,o=Ja(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ho(t))throw new Error(`Error trying to diff '${tt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[co()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new Qa(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Xa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Qa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Za{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Xa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Za,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ja(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class tl{constructor(){}supports(t){return t instanceof Map||fo(t)}create(){return new el}}class el{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||fo(t)))throw new Error(`Error trying to diff '${tt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new nl(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class nl{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function il(){return new rl([new Ya])}let rl=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||il()),deps:[[t,new hi,new ci]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ot({token:t,providedIn:"root",factory:il}),t})();function sl(){return new ol([new tl])}let ol=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||sl()),deps:[[t,new hi,new ci]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ot({token:t,providedIn:"root",factory:sl}),t})();function al(t,e,n,i,r=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&i.push(ge(s)),Kt(s))for(let t=Yt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&al(e[1],e,n,i)}const o=n.type;if(8&o)al(t,e,n.child,i);else if(32&o){const t=ar(n,e);let r;for(;r=t();)i.push(r)}else if(16&o){const t=e[16],r=t[6].projection[n.projection];if(Array.isArray(r))i.push(...r);else{const e=lr(t);al(e[1],e,r,i,!0)}}n=r?n.projectionNext:n.next}return i}class ll{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return al(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Kt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(gr(t,n),Gn(e,n))}this._attachedToViewContainer=!1}mr(this._lView[1],this._lView)}onDestroy(t){fs(this._lView[1],this._lView,null,t)}markForCheck(){Ns(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Is(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Le(!0);try{Is(t,e,n)}finally{Le(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Mr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ul extends ll{constructor(t){super(t),this._view=t}detectChanges(){Os(this._view)}checkNoChanges(){!function(t){Le(!0);try{Os(t)}finally{Le(!1)}}(this._view)}get context(){return null}}const cl=function(t=!1){return function(t,e,n){if(!n&&Zt(t)){const n=be(t.index,e);return new ll(n,n)}return 47&t.type?new ll(e[16],e):null}(Ie(),Ae(),t)};let hl=(()=>{class t{}return t.__NG_ELEMENT_ID__=cl,t.__ChangeDetectorRef__=!0,t})();const dl=[new tl],fl=new rl([new Ya]),pl=new ol(dl),gl=function(){return bl(Ie(),Ae())};let ml=(()=>{class t{}return t.__NG_ELEMENT_ID__=gl,t})();const yl=ml,vl=class extends yl{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=es(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),rs(e,n,t),new ll(n)}};function bl(t,e){return 4&t.type?new vl(e,t,La(t,e)):null}class _l{}class wl{}const xl=function(){return Al(Ie(),Ae())};let Cl=(()=>{class t{}return t.__NG_ELEMENT_ID__=xl,t})();const Sl=Cl,El=class extends Sl{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return La(this._hostTNode,this._hostLView)}get injector(){return new Ln(this._hostTNode,this._hostLView)}get parentInjector(){const t=En(this._hostTNode,this._hostLView);if(mn(t)){const e=vn(t,this._hostLView),n=yn(t);return new Ln(e[1].data[n+8],e)}return new Ln(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=kl(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Yt}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;if(!r&&null==t.ngModule&&s){const t=s.get(_l,null);t&&(r=t)}const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,i=n[1];if(Kt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new El(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,i){const r=Yt+i,s=n.length;i>0&&(n[r-1][4]=e),i<s-Yt?(e[4]=n[r],Yn(n,Yt+i,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,s,r);const o=Tr(r,s),a=n[11],l=xr(a,s[7]);return null!==l&&function(t,e,n,i,r,s){i[0]=r,i[6]=e,Mr(t,i,n,1,r,s)}(i,s[6],a,n,l,o),t.attachToViewContainerRef(),Yn(Tl(s),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=kl(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=gr(this._lContainer,e);n&&(Gn(Tl(this._lContainer),e),mr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=gr(this._lContainer,e);return n&&null!=Gn(Tl(this._lContainer),e)?new ll(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function kl(t){return t[8]}function Tl(t){return t[8]||(t[8]=[])}function Al(t,e){let n;const i=e[t.index];if(Kt(i))n=i;else{let r;if(8&t.type)r=ge(i);else{const n=e[11];r=n.createComment("");const i=ye(t,e);br(n,xr(n,i),r,function(t,e){return fe(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=Es(i,e,r,t),Ms(e,n)}return new El(n,t,e)}const Ml={};class Nl extends Ra{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=qt(t);return new Dl(e,this.ngModule)}}function Il(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ol=new Bn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ir});class Dl extends Da{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(qr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Il(this.componentDef.inputs)}get outputs(){return Il(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const s=t.get(n,Ml,r);return s!==Ml||i===Ml?s:e.get(n,i,r)}}}(t,i.injector):t,s=r.get(za,pe),o=r.get(qa,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(fe(t))return t.selectRootElement(e,n===wt.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):fr(s.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),c=this.componentDef.onPush?576:528,h={components:[],scheduler:ir,clean:Ps,playerHandler:null,flags:0},d=ds(0,null,null,1,0,null,null,null,null,null),f=es(null,d,h,c,null,null,s,a,o,r);let p,g;Ye(f);try{const t=function(t,e,n,i,r,s){const o=n[1];n[20]=t;const a=ns(o,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(Vs(a,l,!0),null!==t&&(hn(r,t,l),null!==a.classes&&Or(r,t,a.classes),null!==a.styles&&Ir(r,t,a.styles)));const u=i.createRenderer(t,e),c=es(n,hs(e),null,e.onPush?64:16,n[20],a,i,u,null,null);return o.firstCreatePass&&(kn(xn(a,n),o,e.type),vs(o,a),_s(a,n.length,1)),Ms(n,c),n[20]=c}(u,this.componentDef,f,s,a);if(u)if(n)hn(a,u,["ng-version",Wa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!Vr(r))break;r=s}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&hn(a,u,t),e&&e.length>0&&Or(a,u,e.join(" "))}if(g=ve(d,Wt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}p=function(t,e,n,i,r){const s=n[1],o=function(t,e,n){const i=Ie();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ws(t,i,e,is(t,e,1,null),n));const r=Pn(e,t,i.directiveStart,i);nr(r,e);const s=ye(i,e);return s&&nr(s,e),r}(s,n,e);if(i.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries){const t=Ie();e.contentQueries(1,o,t.directiveStart)}const a=Ie();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(tn(a.index),ms(n[1],a,0,a.directiveStart,a.directiveEnd,e),ys(e,o)),o}(t,this.componentDef,f,h,[io]),rs(d,f,null)}finally{Xe()}return new Pl(this.componentType,p,La(g,f),f,g)}}class Pl extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new ul(i),this.componentType=t}get injector(){return new Ln(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Rl=new Map;class Hl extends _l{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Nl(this);const n=$t(t),i=t[Dt]||null;i&&Sa(i),this._bootstrapComponents=sr(n.bootstrap),this._r3Injector=Gs(t,e,[{provide:_l,useValue:this},{provide:Ra,useValue:this.componentFactoryResolver}],tt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=no.THROW_IF_NOT_FOUND,n=gt.Default){return t===no||t===_l||t===js?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ll extends wl{constructor(t){super(),this.moduleType=t,null!==$t(t)&&function(t){const e=new Set;!function t(n){const i=$t(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${tt(e)} vs ${tt(e.name)}`)}(r,Rl.get(r),n),Rl.set(r,n));const s=sr(i.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Hl(this.moduleType,t)}}function Fl(t,e,n){const i=Fe()+t,r=Ae();return r[i]===$r?po(r,i,n?e.call(n):e()):function(t,e){return t[e]}(r,i)}function Vl(t,e,n,i){return function(t,e,n,i,r,s){const o=e+n;return go(t,o,r)?po(t,o+1,s?i.call(s,r):i(r)):Bl(t,o+1)}(Ae(),Fe(),t,e,n,i)}function jl(t,e,n,i,r){return function(t,e,n,i,r,s,o){const a=e+n;return mo(t,a,r,s)?po(t,a+2,o?i.call(o,r,s):i(r,s)):Bl(t,a+2)}(Ae(),Fe(),t,e,n,i,r)}function zl(t,e,n,i,r,s,o){return function(t,e,n,i,r,s,o,a,l){const u=e+n;return function(t,e,n,i,r,s){const o=mo(t,e,n,i);return mo(t,e+2,r,s)||o}(t,u,r,s,o,a)?po(t,u+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):Bl(t,u+4)}(Ae(),Fe(),t,e,n,i,r,s,o)}function Bl(t,e){const n=t[e];return n===$r?void 0:n}const Ul=class extends C{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,r=t=>null,s=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(i,r,s);return t instanceof h&&t.add(o),o}};function ql(){return this._results[co()]()}class $l{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=co(),n=$l.prototype;n[e]||(n[e]=ql)}get changes(){return this._changes||(this._changes=new Ul)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const i=$n(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(n._results,i,e))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Wl{constructor(t){this.queryList=t,this.matches=null}clone(){return new Wl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Yl{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new Yl(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==au(t,e).matches&&this.queries[e].setDirty()}}class Gl{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Kl{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new Kl(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ql{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ql(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(t,e,Zl(e,r)),this.matchTNodeWithReadOption(t,e,Dn(e,t,r,!1,!1))}else n===ml?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Dn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Va||i===Cl||i===ml&&4&e.type)this.addMatch(e.index,-2);else{const n=Dn(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Zl(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function Xl(t,e,n,i){return-1===n?function(t,e){return 11&t.type?La(t,e):4&t.type?bl(t,e):null}(e,t):-2===n?function(t,e,n){return n===Va?La(e,t):n===ml?bl(e,t):n===Cl?Al(e,t):void 0}(t,e,i):Pn(t,t[1],n,e)}function Jl(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const r=s[t];o.push(r<0?null:Xl(e,i[r],s[t+1],n.metadata.read))}r.matches=o}return r.matches}function tu(t,e,n,i){const r=t.queries.getByIndex(n),s=r.matches;if(null!==s){const o=Jl(t,e,r,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)i.push(o[t/2]);else{const r=s[t+1],o=e[-n];for(let t=Yt;t<o.length;t++){const e=o[t];e[17]===e[3]&&tu(e[1],e,r,i)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];tu(n[1],n,r,i)}}}}}return i}function eu(t){const e=Ae(),n=Me(),i=Ue();qe(i+1);const r=au(n,i);if(t.dirty&&we(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?tu(n,e,i,[]):Jl(n,e,r,i);t.reset(s,ja),t.notifyOnChanges()}return!0}return!1}function nu(t,e,n){const i=Me();i.firstCreatePass&&(ou(i,new Gl(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),su(i,Ae(),e)}function iu(t,e,n,i){const r=Me();if(r.firstCreatePass){const s=Ie();ou(r,new Gl(e,n,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(r,t),2==(2&n)&&(r.staticContentQueries=!0)}su(r,Ae(),n)}function ru(){return t=Ae(),e=Ue(),t[19].queries[e].queryList;var t,e}function su(t,e,n){const i=new $l(4==(4&n));fs(t,e,i,i.destroy),null===e[19]&&(e[19]=new Yl),e[19].queries.push(new Wl(i))}function ou(t,e,n){null===t.queries&&(t.queries=new Kl),t.queries.track(new Ql(e,n))}function au(t,e){return t.queries.getByIndex(e)}function lu(t,e){return bl(t,e)}const uu=new Bn("Application Initializer");let cu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ha,this.reject=Ha,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();No(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(oi(uu,8))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();const hu=new Bn("AppId"),du={provide:hu,useFactory:function(){return`${fu()}${fu()}${fu()}`},deps:[]};function fu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pu=new Bn("Platform Initializer"),gu=new Bn("Platform ID"),mu=new Bn("appBootstrapListener");let yu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();const vu=new Bn("LocaleId"),bu=new Bn("DefaultCurrencyCode");class _u{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const wu=function(t){return new Ll(t)},xu=wu,Cu=function(t){return Promise.resolve(wu(t))},Su=function(t){const e=wu(t),n=sr($t(t).declarations).reduce((t,e)=>{const n=qt(e);return n&&t.push(new Dl(n)),t},[]);return new _u(e,n)},Eu=Su,ku=function(t){return Promise.resolve(Su(t))};let Tu=(()=>{class t{constructor(){this.compileModuleSync=xu,this.compileModuleAsync=Cu,this.compileModuleAndAllComponentsSync=Eu,this.compileModuleAndAllComponentsAsync=ku}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();const Au=(()=>Promise.resolve(0))();function Mu(t){"undefined"==typeof Zone?Au.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Nu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ul(!1),this.onMicrotaskEmpty=new Ul(!1),this.onStable=new Ul(!1),this.onError=new Ul(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&e,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=kt.requestAnimationFrame,e=kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(kt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Du(t),Ou(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Du(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{try{return Pu(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Ru(t)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return Pu(t),n.invoke(r,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ru(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,Du(t),Ou(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Nu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,Iu,Ha,Ha);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Iu={};function Ou(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Du(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Pu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ru(t){t._nesting--,Ou(t)}class Hu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ul,this.onMicrotaskEmpty=new Ul,this.onStable=new Ul,this.onError=new Ul}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let Lu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nu.assertNotInAngularZone(),Mu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(oi(Nu))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})(),Fu=(()=>{class t{constructor(){this._applications=new Map,zu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return zu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();class Vu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let ju,zu=new Vu,Bu=!0,Uu=!1;function qu(){return Uu=!0,Bu}const $u=new Bn("AllowMultipleToken");class Wu{constructor(t,e){this.name=t,this.token=e}}function Yu(t,e,n=[]){const i=`Platform: ${e}`,r=new Bn(i);return(e=[])=>{let s=Gu();if(!s||s.injector.get($u,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:Bs,useValue:"platform"});!function(t){if(ju&&!ju.destroyed&&!ju.injector.get($u,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ju=t.get(Ku);const e=t.get(pu,null);e&&e.forEach(t=>t())}(no.create({providers:t,name:i}))}return function(t){const e=Gu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Gu(){return ju&&!ju.destroyed?ju:null}let Ku=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Hu:("zone.js"===t?void 0:t)||new Nu({enableLongStackTrace:qu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),i=[{provide:Nu,useValue:n}];return n.run(()=>{const e=no.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(er,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});r.onDestroy(()=>{Xu(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const i=n();return No(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(cu);return t.runInitializers(),t.donePromise.then(()=>(Sa(r.injector.get(vu,xa)||xa),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=Qu({},e);return function(t,e,n){const i=new Ll(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Zu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${tt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(oi(no))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();function Qu(t,e){return Array.isArray(e)?e.reduce(Qu,t):Object.assign(Object.assign({},t),e)}let Zu=(()=>{class t{constructor(t,e,n,i,r,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new v(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new v(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Nu.assertNotInAngularZone(),Mu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Nu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return E(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof v?t[0]:U(e)(q(t,n))}(o,a.pipe(t=>{return $()((e=Z,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,K);return i.source=t,i.subjectFactory=n,i})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Da?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(_l),r=n.create(no.NULL,[],e||n.selector,i),s=r.location.nativeElement,o=r.injector.get(Lu,null),a=o&&r.injector.get(Fu);return o&&a&&a.registerApplication(s,o),r.onDestroy(()=>{this.detachView(r.hostView),Xu(this.components,r),a&&a.unregisterApplication(s)}),this._loadComponent(r),qu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Xu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(mu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(oi(Nu),oi(yu),oi(no),oi(er),oi(Ra),oi(cu))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();function Xu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ju{}class tc{}const ec={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let nc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||ec}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>ic(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>ic(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(oi(Tu),oi(tc,8))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();function ic(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const rc=Yu(null,"core",[{provide:gu,useValue:"unknown"},{provide:Ku,deps:[no]},{provide:Fu,deps:[]},{provide:yu,deps:[]}]),sc=[{provide:Zu,useClass:Zu,deps:[Nu,yu,no,er,Ra,cu]},{provide:Ol,deps:[Nu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:cu,useClass:cu,deps:[[new ci,uu]]},{provide:Tu,useClass:Tu,deps:[]},du,{provide:rl,useFactory:function(){return fl},deps:[]},{provide:ol,useFactory:function(){return pl},deps:[]},{provide:vu,useFactory:function(t){return Sa(t=t||"undefined"!=typeof $localize&&$localize.locale||xa),t},deps:[[new ui(vu),new ci,new hi]]},{provide:bu,useValue:"USD"}];let oc=(()=>{class t{constructor(t){}}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)(oi(Zu))},providers:sc}),t})(),ac=null;function lc(){return ac}const uc=new Bn("DocumentToken");let cc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({factory:hc,token:t,providedIn:"platform"}),t})();function hc(){return oi(fc)}const dc=new Bn("Location Initialized");let fc=(()=>{class t extends cc{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=lc().getLocation(),this._history=lc().getHistory()}getBaseHrefFromDOM(){return lc().getBaseHref(this._doc)}onPopState(t){lc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){lc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){pc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){pc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(oi(uc))},t.\u0275prov=ot({factory:gc,token:t,providedIn:"platform"}),t})();function pc(){return!!window.history.pushState}function gc(){return new fc(oi(uc))}function mc(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function yc(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function vc(t){return t&&"?"!==t[0]?"?"+t:t}let bc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({factory:_c,token:t,providedIn:"root"}),t})();function _c(t){const e=oi(uc).location;return new xc(oi(cc),e&&e.origin||"")}const wc=new Bn("appBaseHref");let xc=(()=>{class t extends bc{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return mc(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+vc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+vc(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+vc(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(oi(cc),oi(wc,8))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})(),Cc=(()=>{class t extends bc{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=mc(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+vc(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+vc(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(oi(cc),oi(wc,8))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})(),Sc=(()=>{class t{constructor(t,e){this._subject=new Ul,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=yc(kc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+vc(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,kc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vc(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vc(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(oi(bc),oi(cc))},t.normalizeQueryParams=vc,t.joinWithSlash=mc,t.stripTrailingSlash=yc,t.\u0275prov=ot({factory:Ec,token:t,providedIn:"root"}),t})();function Ec(){return new Sc(oi(bc),oi(cc))}function kc(t){return t.replace(/\/index.html$/,"")}var Tc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class Ac{}let Mc=(()=>{class t extends Ac{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=_a(e);if(n)return n;const i=e.split("-")[0];if(n=_a(i),n)return n;if("en"===i)return va;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[wa.PluralCase]}(e||this.locale)(t)){case Tc.Zero:return"zero";case Tc.One:return"one";case Tc.Two:return"two";case Tc.Few:return"few";case Tc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(oi(vu))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();function Nc(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}let Ic=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(ho(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${tt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(_o(rl),_o(ol),_o(Va),_o(Ba))},t.\u0275dir=Ut({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Oc{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dc=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Oc(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new Pc(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new Pc(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(_o(Cl),_o(ml),_o(rl))},t.\u0275dir=Ut({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Pc{constructor(t,e){this.record=t,this.view=e}}let Rc=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Hc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Lc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Lc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(_o(Cl),_o(ml))},t.\u0275dir=Ut({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Hc{constructor(){this.$implicit=null,this.ngIf=null}}function Lc(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${tt(e)}'.`)}let Fc=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(_o(Va),_o(ol),_o(Ba))},t.\u0275dir=Ut({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),Vc=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(_o(Cl))},t.\u0275dir=Ut({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[oe]}),t})(),jc=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},providers:[{provide:Ac,useClass:Mc}]}),t})(),zc=(()=>{class t{}return t.\u0275prov=ot({token:t,providedIn:"root",factory:()=>new Bc(oi(uc),window)}),t})();class Bc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Uc(this.window.history)||Uc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Uc(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class qc extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new qc,ac||(ac=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Wc||(Wc=document.querySelector("base"),Wc)?Wc.getAttribute("href"):null;return null==e?null:(n=e,$c||($c=document.createElement("a")),$c.setAttribute("href",n),"/"===$c.pathname.charAt(0)?$c.pathname:"/"+$c.pathname);var n}resetBaseElement(){Wc=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Nc(document.cookie,t)}}let $c,Wc=null;const Yc=new Bn("TRANSITION_ID"),Gc=[{provide:uu,useFactory:function(t,e,n){return()=>{n.get(cu).donePromise.then(()=>{const n=lc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Yc,uc,no],multi:!0}];class Kc{static init(){var t;t=new Kc,zu=t}addToWindow(t){kt.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},kt.getAllAngularTestabilities=()=>t.getAllTestabilities(),kt.getAllAngularRootElements=()=>t.getAllRootElements(),kt.frameworkStabilizers||(kt.frameworkStabilizers=[]),kt.frameworkStabilizers.push(t=>{const e=kt.getAllAngularTestabilities();let n=e.length,i=!1;const r=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(r)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?lc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Qc=new Bn("EventManagerPlugins");let Zc=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(oi(Qc),oi(Nu))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();class Xc{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=lc().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let Jc=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})(),th=(()=>{class t extends Jc{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>lc().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(oi(uc))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();const eh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nh=/%COMP%/g;function ih(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?ih(t,r,n):(r=r.replace(nh,t),n.push(r))}return n}function rh(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let sh=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new oh(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case wt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ah(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case wt.ShadowDom:return new lh(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ih(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(oi(Zc),oi(th),oi(hu))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();class oh{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(eh[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=eh[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=eh[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(or.DashCase|or.Important)?t.style.setProperty(e,n,i&or.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&or.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,rh(n)):this.eventManager.addEventListener(t,e,rh(n))}}class ah extends oh{constructor(t,e,n,i){super(t),this.component=n;const r=ih(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(nh,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(nh,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class lh extends oh{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=ih(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let uh=(()=>{class t extends Xc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(oi(uc))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();const ch=["alt","control","meta","shift"],hh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},fh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ph=(()=>{class t extends Xc{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),s=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lc().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let s="";if(ch.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&dh.hasOwnProperty(e)&&(e=dh[e]))}return hh[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ch.forEach(i=>{i!=n&&(0,fh[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(oi(uc))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})(),gh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({factory:function(){return oi(mh)},token:t,providedIn:"root"}),t})(),mh=(()=>{class t extends gh{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Gi.NONE:return e;case Gi.HTML:return Ci(e,"HTML")?xi(e):Wi(this._doc,String(e)).toString();case Gi.STYLE:return Ci(e,"Style")?xi(e):e;case Gi.SCRIPT:if(Ci(e,"Script"))return xi(e);throw new Error("unsafe value used in a script context");case Gi.URL:return Si(e),Ci(e,"URL")?xi(e):Mi(String(e));case Gi.RESOURCE_URL:if(Ci(e,"ResourceURL"))return xi(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new yi(t)}bypassSecurityTrustStyle(t){return new vi(t)}bypassSecurityTrustScript(t){return new bi(t)}bypassSecurityTrustUrl(t){return new _i(t)}bypassSecurityTrustResourceUrl(t){return new wi(t)}}return t.\u0275fac=function(e){return new(e||t)(oi(uc))},t.\u0275prov=ot({factory:function(){return t=oi(js),new mh(t.get(uc));var t},token:t,providedIn:"root"}),t})();const yh=Yu(rc,"browser",[{provide:gu,useValue:"browser"},{provide:pu,useValue:function(){qc.makeCurrent(),Kc.init()},multi:!0},{provide:uc,useFactory:function(){return function(t){he=t}(document),document},deps:[]}]),vh=[[],{provide:Bs,useValue:"root"},{provide:er,useFactory:function(){return new er},deps:[]},{provide:Qc,useClass:uh,multi:!0,deps:[uc,Nu,gu]},{provide:Qc,useClass:ph,multi:!0,deps:[uc]},[],{provide:sh,useClass:sh,deps:[Zc,th,hu]},{provide:za,useExisting:sh},{provide:Jc,useExisting:th},{provide:th,useClass:th,deps:[uc]},{provide:Lu,useClass:Lu,deps:[Nu]},{provide:Zc,useClass:Zc,deps:[Qc,Nu]},[]];let bh=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:hu,useValue:e.appId},{provide:Yc,useExisting:hu},Gc]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)(oi(t,12))},providers:vh,imports:[jc,oc]}),t})();"undefined"!=typeof window&&window;var _h=0;const wh=["*"];let xh=(()=>{class t{}return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.IN="in",t.LESS_THAN="lt",t.LESS_THAN_OR_EQUAL_TO="lte",t.GREATER_THAN="gt",t.GREATER_THAN_OR_EQUAL_TO="gte",t.BETWEEN="between",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.DATE_IS="dateIs",t.DATE_IS_NOT="dateIsNot",t.DATE_BEFORE="dateBefore",t.DATE_AFTER="dateAfter",t})(),Ch=(()=>{class t{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[xh.STARTS_WITH,xh.CONTAINS,xh.NOT_CONTAINS,xh.ENDS_WITH,xh.EQUALS,xh.NOT_EQUALS],numeric:[xh.EQUALS,xh.NOT_EQUALS,xh.LESS_THAN,xh.LESS_THAN_OR_EQUAL_TO,xh.GREATER_THAN,xh.GREATER_THAN_OR_EQUAL_TO],date:[xh.DATE_IS,xh.DATE_IS_NOT,xh.DATE_BEFORE,xh.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.translationSource=new C,this.translationObserver=this.translationSource.asObservable()}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=Object.assign(Object.assign({},this.translation),t),this.translationSource.next(this.translation)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Sh=(()=>{class t{constructor(){this.messageSource=new C,this.clearSource=new C,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(t){t&&this.messageSource.next(t)}addAll(t){t&&t.length&&this.messageSource.next(t)}clear(t){this.clearSource.next(t||null)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})(),Eh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Lt({type:t,selectors:[["p-header"]],ngContentSelectors:wh,decls:1,vars:0,template:function(t,e){1&t&&(Lo(),Fo(0))},encapsulation:2}),t})(),kh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Lt({type:t,selectors:[["p-footer"]],ngContentSelectors:wh,decls:1,vars:0,template:function(t,e){1&t&&(Lo(),Fo(0))},encapsulation:2}),t})(),Th=(()=>{class t{constructor(t){this.template=t}getType(){return this.name}}return t.\u0275fac=function(e){return new(e||t)(_o(ml))},t.\u0275dir=Ut({type:t,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),t})(),Ah=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},imports:[[jc]]}),t})(),Mh=(()=>{class t{static addClass(t,e){t.classList?t.classList.add(e):t.className+=" "+e}static addMultipleClasses(t,e){if(t.classList){let n=e.trim().split(" ");for(let e=0;e<n.length;e++)t.classList.add(n[e])}else{let n=e.split(" ");for(let e=0;e<n.length;e++)t.className+=" "+n[e]}}static removeClass(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(e){return e!==t})}static find(t,e){return Array.from(t.querySelectorAll(e))}static findSingle(t,e){return t?t.querySelector(e):null}static index(t){let e=t.parentNode.childNodes,n=0;for(var i=0;i<e.length;i++){if(e[i]==t)return n;1==e[i].nodeType&&n++}return-1}static indexWithinGroup(t,e){let n=t.parentNode?t.parentNode.childNodes:[],i=0;for(var r=0;r<n.length;r++){if(n[r]==t)return i;n[r].attributes&&n[r].attributes[e]&&1==n[r].nodeType&&i++}return-1}static relativePosition(t,e){let n=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const i=e.offsetHeight,r=e.getBoundingClientRect(),s=this.getViewport();let o,a;r.top+i+n.height>s.height?(o=-1*n.height,t.style.transformOrigin="bottom",r.top+o<0&&(o=-1*r.top)):(o=i,t.style.transformOrigin="top"),a=n.width>s.width?-1*r.left:r.left+n.width>s.width?-1*(r.left+n.width-s.width):0,t.style.top=o+"px",t.style.left=a+"px"}static absolutePosition(t,e){let n,i,r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=r.height,o=r.width,a=e.offsetHeight,l=e.offsetWidth,u=e.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),d=this.getViewport();u.top+a+s>d.height?(n=u.top+c-s,t.style.transformOrigin="bottom",n<0&&(n=c)):(n=a+u.top+c,t.style.transformOrigin="top"),i=u.left+o>d.width?Math.max(0,u.left+h+l-o):u.left+h,t.style.top=n+"px",t.style.left=i+"px"}static getParents(t,e=[]){return null===t.parentNode?e:this.getParents(t.parentNode,e.concat([t.parentNode]))}static getScrollableParents(t){let e=[];if(t){let n=this.getParents(t);const i=/(auto|scroll)/,r=t=>{let e=window.getComputedStyle(t,null);return i.test(e.getPropertyValue("overflow"))||i.test(e.getPropertyValue("overflowX"))||i.test(e.getPropertyValue("overflowY"))};for(let t of n){let n=1===t.nodeType&&t.dataset.scrollselectors;if(n){let i=n.split(",");for(let n of i){let i=this.findSingle(t,n);i&&r(i)&&e.push(i)}}9!==t.nodeType&&r(t)&&e.push(t)}}return e}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let e=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",e}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let e=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",e}static getHiddenElementDimensions(t){let e={};return t.style.visibility="hidden",t.style.display="block",e.width=t.offsetWidth,e.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",e}static scrollInView(t,e){let n=getComputedStyle(t).getPropertyValue("borderTopWidth"),i=n?parseFloat(n):0,r=getComputedStyle(t).getPropertyValue("paddingTop"),s=r?parseFloat(r):0,o=t.getBoundingClientRect(),a=e.getBoundingClientRect().top+document.body.scrollTop-(o.top+document.body.scrollTop)-i-s,l=t.scrollTop,u=t.clientHeight,c=this.getOuterHeight(e);a<0?t.scrollTop=l+a:a+c>u&&(t.scrollTop=l+a-u+c)}static fadeIn(t,e){t.style.opacity=0;let n=+new Date,i=0,r=function(){i=+t.style.opacity.replace(",",".")+((new Date).getTime()-n)/e,t.style.opacity=i,n=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(r)||setTimeout(r,16))};r()}static fadeOut(t,e){var n=1,i=50/e;let r=setInterval(()=>{(n-=i)<=0&&(n=0,clearInterval(r)),t.style.opacity=n},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,e){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(t){return-1!==[].indexOf.call(document.querySelectorAll(t),this)}).call(t,e)}static getOuterWidth(t,e){let n=t.offsetWidth;if(e){let e=getComputedStyle(t);n+=parseFloat(e.marginLeft)+parseFloat(e.marginRight)}return n}static getHorizontalPadding(t){let e=getComputedStyle(t);return parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)}static getHorizontalMargin(t){let e=getComputedStyle(t);return parseFloat(e.marginLeft)+parseFloat(e.marginRight)}static innerWidth(t){let e=t.offsetWidth,n=getComputedStyle(t);return e+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e}static width(t){let e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e}static getInnerHeight(t){let e=t.offsetHeight,n=getComputedStyle(t);return e+=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom),e}static getOuterHeight(t,e){let n=t.offsetHeight;if(e){let e=getComputedStyle(t);n+=parseFloat(e.marginTop)+parseFloat(e.marginBottom)}return n}static getHeight(t){let e=t.offsetHeight,n=getComputedStyle(t);return e-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),e}static getWidth(t){let e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),e}static getViewport(){let t=window,e=document,n=e.documentElement,i=e.getElementsByTagName("body")[0];return{width:t.innerWidth||n.clientWidth||i.clientWidth,height:t.innerHeight||n.clientHeight||i.clientHeight}}static getOffset(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,e){let n=t.parentNode;if(!n)throw"Can't replace element";return n.replaceChild(e,t)}static getUserAgent(){return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static appendChild(t,e){if(this.isElement(e))e.appendChild(t);else{if(!e.el||!e.el.nativeElement)throw"Cannot append "+e+" to "+t;e.el.nativeElement.appendChild(t)}}static removeChild(t,e){if(this.isElement(e))e.removeChild(t);else{if(!e.el||!e.el.nativeElement)throw"Cannot remove "+t+" from "+e;e.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let e=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=e,e}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let e=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=e,e}static invokeElementMethod(t,e,n){t[e].apply(t,n)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return null===t.offsetParent}static getFocusableElements(e){let n=t.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),i=[];for(let t of n)"none"!=getComputedStyle(t).display&&"hidden"!=getComputedStyle(t).visibility&&i.push(t);return i}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return t.zindex=1e3,t.calculatedScrollbarWidth=null,t.calculatedScrollbarHeight=null,t})();class Nh{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=Mh.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let Ih=(()=>{class t{constructor(t,e,n){this.el=t,this.zone=e,this.config=n}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(t){let e=this.getInk();if(!e||"none"===getComputedStyle(e,null).display)return;if(Mh.removeClass(e,"p-ink-active"),!Mh.getHeight(e)&&!Mh.getWidth(e)){let t=Math.max(Mh.getOuterWidth(this.el.nativeElement),Mh.getOuterHeight(this.el.nativeElement));e.style.height=t+"px",e.style.width=t+"px"}let n=Mh.getOffset(this.el.nativeElement),i=t.pageX-n.left+document.body.scrollTop-Mh.getWidth(e)/2,r=t.pageY-n.top+document.body.scrollLeft-Mh.getHeight(e)/2;e.style.top=r+"px",e.style.left=i+"px",Mh.addClass(e,"p-ink-active")}getInk(){for(let t=0;t<this.el.nativeElement.children.length;t++)if(-1!==this.el.nativeElement.children[t].className.indexOf("p-ink"))return this.el.nativeElement.children[t];return null}resetInk(){let t=this.getInk();t&&Mh.removeClass(t,"p-ink-active")}onAnimationEnd(t){Mh.removeClass(t.currentTarget,"p-ink-active")}create(){let t=document.createElement("span");t.className="p-ink",this.el.nativeElement.appendChild(t),this.animationListener=this.onAnimationEnd.bind(this),t.addEventListener("animationend",this.animationListener)}remove(){let t=this.getInk();t&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),t.removeEventListener("animationend",this.animationListener),Mh.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return t.\u0275fac=function(e){return new(e||t)(_o(Va),_o(Nu),_o(Ch,8))},t.\u0275dir=Ut({type:t,selectors:[["","pRipple",""]],hostVars:2,hostBindings:function(t,e){2&t&&Xo("p-ripple",!0)}}),t})(),Oh=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},imports:[[jc]]}),t})();class Dh{}const Ph="*";function Rh(t,e){return{type:7,name:t,definitions:e,options:{}}}function Hh(t,e=null){return{type:4,styles:e,timings:t}}function Lh(t,e=null){return{type:2,steps:t,options:e}}function Fh(t){return{type:6,styles:t,offset:null}}function Vh(t,e,n){return{type:0,name:t,styles:e,options:n}}function jh(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function zh(t,e=null){return{type:8,animation:t,options:e}}function Bh(t=null){return{type:9,options:t}}function Uh(t,e=null){return{type:10,animation:t,options:e}}function qh(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function $h(t){Promise.resolve(null).then(t)}class Wh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$h(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Yh{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?$h(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const Gh=["container"],Kh=function(t,e,n,i){return{"pi-info-circle":t,"pi-exclamation-triangle":e,"pi-times-circle":n,"pi-check":i}};function Qh(t,e){if(1&t&&(ko(0),Eo(1,"span",6),Co(2,"div",7),Co(3,"div",8),pa(4),So(),Co(5,"div",9),pa(6),So(),So(),To()),2&t){const t=Ro();Wr(1),ea("p-toast-message-icon pi"+(t.message.icon?" "+t.message.icon:"")),wo("ngClass",zl(5,Kh,"info"==t.message.severity,"warn"==t.message.severity,"error"==t.message.severity,"success"==t.message.severity)),Wr(3),ga(t.message.summary),Wr(2),ga(t.message.detail)}}function Zh(t,e){1&t&&Ao(0)}function Xh(t,e){if(1&t){const t=Mo();Co(0,"button",10),Oo("click",function(e){return Ne(t),Ro().onCloseIconClick(e)})("keydown.enter",function(e){return Ne(t),Ro().onCloseIconClick(e)}),Eo(1,"span",11),So()}}const Jh=function(t){return[t,"p-toast-message"]},td=function(t,e,n,i){return{showTransformParams:t,hideTransformParams:e,showTransitionParams:n,hideTransitionParams:i}},ed=function(t){return{value:"visible",params:t}},nd=function(t){return{$implicit:t}};function id(t,e){if(1&t){const t=Mo();Co(0,"p-toastItem",3),Oo("onClose",function(e){return Ne(t),Ro().onMessageClose(e)})("@toastAnimation.start",function(e){return Ne(t),Ro().onAnimationStart(e)}),So()}if(2&t){const t=e.$implicit,n=e.index,i=Ro();wo("message",t)("index",n)("template",i.template)("@toastAnimation",void 0)("showTransformOptions",i.showTransformOptions)("hideTransformOptions",i.hideTransformOptions)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions)}}let rd=(()=>{class t{constructor(t){this.zone=t,this.onClose=new Ul}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(t){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),t.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return t.\u0275fac=function(e){return new(e||t)(_o(Nu))},t.\u0275cmp=Lt({type:t,selectors:[["p-toastItem"]],viewQuery:function(t,e){if(1&t&&nu(Gh,1),2&t){let t;eu(t=ru())&&(e.containerViewChild=t.first)}},inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(t,e){1&t&&(Co(0,"div",0,1),Oo("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()}),Co(2,"div",2),vo(3,Qh,7,10,"ng-container",3),vo(4,Zh,1,0,"ng-container",4),vo(5,Xh,2,0,"button",5),So(),So()),2&t&&(ea(e.message.styleClass),wo("ngClass",Vl(10,Jh,"p-toast-message-"+e.message.severity))("@messageState",Vl(17,ed,zl(12,td,e.showTransformOptions,e.hideTransformOptions,e.showTransitionOptions,e.hideTransitionOptions))),yo("id",e.message.id),Wr(2),wo("ngClass",e.message.contentStyleClass),Wr(1),wo("ngIf",!e.template),Wr(1),wo("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Vl(19,nd,e.message)),Wr(1),wo("ngIf",!1!==e.message.closable))},directives:[Ic,Rc,Vc,Ih],encapsulation:2,data:{animation:[Rh("messageState",[Vh("visible",Fh({transform:"translateY(0)",opacity:1})),jh("void => *",[Fh({transform:"{{showTransformParams}}",opacity:0}),Hh("{{showTransitionParams}}")]),jh("* => void",[Hh("{{hideTransitionParams}}",Fh({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),t})(),sd=(()=>{class t{constructor(t,e){this.messageService=t,this.cd=e,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new Ul,this.id="pr_id_"+ ++_h}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(t=>{if(t)if(t instanceof Array){const e=t.filter(t=>this.canAdd(t));this.add(e)}else this.canAdd(t)&&this.add([t])}),this.clearSubscription=this.messageService.clearObserver.subscribe(t=>{t?this.key===t&&(this.messages=null):this.messages=null,this.cd.markForCheck()}),this.breakpoints&&this.createStyle()}add(t){this.messages=this.messages?[...this.messages,...t]:[...t],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...t]:[...t]),this.cd.markForCheck()}canAdd(t){let e=this.key===t.key;return e&&this.preventOpenDuplicates&&(e=!this.containsMessage(this.messages,t)),e&&this.preventDuplicates&&(e=!this.containsMessage(this.messagesArchieve,t)),e}containsMessage(t,e){return!!t&&null!=t.find(t=>t.summary===e.summary&&t.detail==e.detail&&t.severity===e.severity)}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"message":default:this.template=t.template}})}onMessageClose(t){this.messages.splice(t.index,1),this.onClose.emit({message:t.message}),this.cd.detectChanges()}onAnimationStart(t){"void"===t.fromState&&this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++Mh.zindex),this.containerViewChild.nativeElement.setAttribute(this.id,""))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let e in this.breakpoints){let n="";for(let t in this.breakpoints[e])n+=t+":"+this.breakpoints[e][t]+" !important;";t+=`\n                    @media screen and (max-width: ${e}) {\n                        .p-toast[${this.id}] {\n                           ${n}\n                        }\n                    }\n                `}this.styleElement.innerHTML=t}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return t.\u0275fac=function(e){return new(e||t)(_o(Sh),_o(hl))},t.\u0275cmp=Lt({type:t,selectors:[["p-toast"]],contentQueries:function(t,e,n){if(1&t&&iu(n,Th,0),2&t){let t;eu(t=ru())&&(e.templates=t)}},viewQuery:function(t,e){if(1&t&&nu(Gh,1),2&t){let t;eu(t=ru())&&(e.containerViewChild=t.first)}},inputs:{autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",key:"key",style:"style",styleClass:"styleClass",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(t,e){1&t&&(Co(0,"div",0,1),vo(2,id,1,8,"p-toastItem",2),So()),2&t&&(ea(e.styleClass),wo("ngClass","p-toast p-component p-toast-"+e.position)("ngStyle",e.style),Wr(2),wo("ngForOf",e.messages))},directives:[Ic,Fc,Dc,rd],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{align-items:flex-start;display:flex}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{right:20px;top:20px}.p-toast-top-left{left:20px;top:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{left:50%;top:20px;transform:translateX(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translateX(-50%)}.p-toast-center{left:50%;min-width:20vw;top:50%;transform:translate(-50%,-50%)}.p-toast-icon-close{align-items:center;display:flex;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}"],encapsulation:2,data:{animation:[Rh("toastAnimation",[jh(":enter, :leave",[qh("@*",Bh())])])]},changeDetection:0}),t})(),od=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},imports:[[jc,Oh],Ah]}),t})();function ad(...t){let e=t[t.length-1];return E(e)?(t.pop(),R(t,e)):q(t)}class ld extends C{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _;return this._value}next(t){super.next(this._value=t)}}class ud extends p{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class cd extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function hd(t,e,n,i,r=new cd(t,n,i)){if(!r.closed)return e instanceof v?e.subscribe(r):P(e)(r)}const dd={};class fd{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new pd(t,this.resultSelector))}}class pd extends ud{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(dd),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(hd(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const i=this.values,r=this.toRespond?i[n]===dd?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const gd=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function md(...t){return U(1)(ad(...t))}const yd=new v(t=>t.complete());function vd(t){return t?function(t){return new v(e=>t.schedule(()=>e.complete()))}(t):yd}function bd(t){return new v(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?H(n):vd()).subscribe(e)})}function _d(t,e){return"function"==typeof e?n=>n.pipe(_d((n,i)=>H(t(n,i)).pipe(k((t,r)=>e(n,t,i,r))))):e=>e.lift(new wd(t))}class wd{constructor(t){this.project=t}call(t,e){return e.subscribe(new xd(t,this.project))}}class xd extends F{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new L(this),i=this.destination;i.add(n),this.innerSubscription=V(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Cd=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Sd(t){return e=>0===t?vd():e.lift(new Ed(t))}class Ed{constructor(t){if(this.total=t,this.total<0)throw new Cd}call(t,e){return e.subscribe(new kd(t,this.total))}}class kd extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Td(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Ad(t,e,n))}}class Ad{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Md(t,this.accumulator,this.seed,this.hasSeed))}}class Md extends p{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function Nd(t,e){return function(n){return n.lift(new Id(t,e))}}class Id{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Od(t,this.predicate,this.thisArg))}}class Od extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Dd(t){return function(e){const n=new Pd(t),i=e.lift(n);return n.caught=i}}class Pd{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Rd(t,this.selector,this.caught))}}class Rd extends F{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new L(this);this.add(i);const r=V(n,i);r!==i&&this.add(r)}}}function Hd(t,e){return j(t,e,1)}function Ld(t){return function(e){return 0===t?vd():e.lift(new Fd(t))}}class Fd{constructor(t){if(this.total=t,this.total<0)throw new Cd}call(t,e){return e.subscribe(new Vd(t,this.total))}}class Vd extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function jd(t=Ud){return e=>e.lift(new zd(t))}class zd{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Bd(t,this.errorFactory))}}class Bd extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Ud(){return new gd}function qd(t=null){return e=>e.lift(new $d(t))}class $d{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Wd(t,this.defaultValue))}}class Wd extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Yd(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Nd((e,n)=>t(e,n,i)):y,Sd(1),n?qd(e):jd(()=>new gd))}function Gd(){}function Kd(t,e,n){return function(i){return i.lift(new Qd(t,e,n))}}class Qd{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Zd(t,this.nextOrObserver,this.error,this.complete))}}class Zd extends p{constructor(t,e,n,r){super(t),this._tapNext=Gd,this._tapError=Gd,this._tapComplete=Gd,this._tapError=n||Gd,this._tapComplete=r||Gd,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Gd,this._tapError=e.error||Gd,this._tapComplete=e.complete||Gd)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Xd{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Jd(t,this.callback))}}class Jd extends p{constructor(t,e){super(t),this.add(new h(e))}}class tf{constructor(t,e){this.id=t,this.url=e}}class ef extends tf{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nf extends tf{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rf extends tf{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sf extends tf{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class of extends tf{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class af extends tf{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lf extends tf{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uf extends tf{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cf extends tf{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hf{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class df{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ff{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pf{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gf{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mf{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yf{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vf="primary";class bf{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function _f(t){return new bf(t)}function wf(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function xf(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Cf(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!Sf(t[r],e[r]))return!1;return!0}function Sf(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function Ef(t){return Array.prototype.concat.apply([],t)}function kf(t){return t.length>0?t[t.length-1]:null}function Tf(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Af(t){return Io(t)?t:No(t)?H(Promise.resolve(t)):ad(t)}function Mf(t,e,n){return n?function(t,e){return Cf(t,e)}(t.queryParams,e.queryParams)&&Nf(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Sf(t[n],e[n]))}(t.queryParams,e.queryParams)&&If(t.root,e.root)}function Nf(t,e){if(!Hf(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Nf(t.children[n],e.children[n]))return!1}return!0}function If(t,e){return Of(t,e,e.segments)}function Of(t,e,n){if(t.segments.length>n.length)return!!Hf(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Hf(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!If(t.children[n],e.children[n]))return!1}return!0}{const i=n.slice(0,t.segments.length),r=n.slice(t.segments.length);return!!Hf(t.segments,i)&&!!t.children.primary&&Of(t.children.primary,e,r)}}class Df{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_f(this.queryParams)),this._queryParamMap}toString(){return Vf.serialize(this)}}class Pf{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Tf(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jf(this)}}class Rf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=_f(this.parameters)),this._parameterMap}toString(){return Yf(this)}}function Hf(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Lf{}class Ff{parse(t){const e=new Xf(t);return new Df(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${zf(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Uf(e)}=${Uf(t)}`).join("&"):`${Uf(e)}=${Uf(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Vf=new Ff;function jf(t){return t.segments.map(t=>Yf(t)).join("/")}function zf(t,e){if(!t.hasChildren())return jf(t);if(e){const e=t.children.primary?zf(t.children.primary,!1):"",n=[];return Tf(t.children,(t,e)=>{e!==vf&&n.push(`${e}:${zf(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Tf(t.children,(t,i)=>{i===vf&&(n=n.concat(e(t,i)))}),Tf(t.children,(t,i)=>{i!==vf&&(n=n.concat(e(t,i)))}),n}(t,(e,n)=>n===vf?[zf(t.children.primary,!1)]:[`${n}:${zf(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${jf(t)}/${e[0]}`:`${jf(t)}/(${e.join("//")})`}}function Bf(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uf(t){return Bf(t).replace(/%3B/gi,";")}function qf(t){return Bf(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $f(t){return decodeURIComponent(t)}function Wf(t){return $f(t.replace(/\+/g,"%20"))}function Yf(t){return`${qf(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${qf(t)}=${qf(e[t])}`).join("")}`;var e}const Gf=/^[^\/()?;=#]+/;function Kf(t){const e=t.match(Gf);return e?e[0]:""}const Qf=/^[^=?&#]+/,Zf=/^[^?&#]+/;class Xf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pf([],{}):new Pf([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Pf(t,e)),n}parseSegment(){const t=Kf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Rf($f(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Kf(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Kf(this.remaining);t&&(n=t,this.capture(n))}t[$f(e)]=$f(n)}parseQueryParam(t){const e=function(t){const e=t.match(Qf);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Zf);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=Wf(e),r=Wf(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Kf(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=vf);const s=this.parseChildren();e[r]=1===Object.keys(s).length?s.primary:new Pf([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Jf{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=tp(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=tp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ep(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return ep(t,this._root).map(t=>t.value)}}function tp(t,e){if(t===e.value)return e;for(const n of e.children){const e=tp(t,n);if(e)return e}return null}function ep(t,e){if(t===e.value)return[e];for(const n of e.children){const i=ep(t,n);if(i.length)return i.unshift(e),i}return[]}class np{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ip(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class rp extends Jf{constructor(t,e){super(t),this.snapshot=e,cp(this,t)}toString(){return this.snapshot.toString()}}function sp(t,e){const n=function(t,e){const n=new lp([],{},{},"",{},vf,e,null,t.root,-1,{});return new up("",new np(n,[]))}(t,e),i=new ld([new Rf("",{})]),r=new ld({}),s=new ld({}),o=new ld({}),a=new ld(""),l=new op(i,r,o,a,s,vf,e,n.root);return l.snapshot=n.root,new rp(new np(l,[]),n)}class op{constructor(t,e,n,i,r,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(k(t=>_f(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(k(t=>_f(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ap(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class lp{constructor(t,e,n,i,r,s,o,a,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_f(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_f(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class up extends Jf{constructor(t,e){super(e),this.url=t,cp(this,e)}toString(){return hp(this._root)}}function cp(t,e){e.value._routerState=t,e.children.forEach(e=>cp(t,e))}function hp(t){const e=t.children.length>0?` { ${t.children.map(hp).join(", ")} } `:"";return`${t.value}${e}`}function dp(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Cf(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Cf(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Cf(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Cf(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function fp(t,e){var n,i;return Cf(t.params,e.params)&&Hf(n=t.url,i=e.url)&&n.every((t,e)=>Cf(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||fp(t.parent,e.parent))}function pp(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return pp(t,e,i);return pp(t,e)})}(t,e,n);return new np(i,r)}{const n=t.retrieve(e.value);if(n){const t=n.route;return gp(e,t),t}{const n=new op(new ld((i=e.value).url),new ld(i.params),new ld(i.queryParams),new ld(i.fragment),new ld(i.data),i.outlet,i.component,i),r=e.children.map(e=>pp(t,e));return new np(n,r)}}var i}function gp(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)gp(t.children[n],e.children[n])}function mp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function yp(t){return"object"==typeof t&&null!=t&&t.outlets}function vp(t,e,n,i,r){let s={};return i&&Tf(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Df(n.root===t?e:bp(n.root,t,e),s,r)}function bp(t,e,n){const i={};return Tf(t.children,(t,r)=>{i[r]=t===e?n:bp(t,e,n)}),new Pf(t.segments,i)}class _p{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&mp(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(yp);if(i&&i!==kf(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wp{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function xp(t,e,n){if(t||(t=new Pf([],{})),0===t.segments.length&&t.hasChildren())return Cp(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const e=t.segments[r],o=n[i];if(yp(o))break;const a=`${o}`,l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!Tp(a,l,e))return s;i+=2}else{if(!Tp(a,{},e))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new Pf(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new Pf(t.segments.slice(i.pathIndex),t.children),Cp(e,0,r)}return i.match&&0===r.length?new Pf(t.segments,{}):i.match&&!t.hasChildren()?Sp(t,e,n):i.match?Cp(t,0,r):Sp(t,e,n)}function Cp(t,e,n){if(0===n.length)return new Pf(t.segments,{});{const i=function(t){return yp(t[0])?t[0].outlets:{[vf]:t}}(n),r={};return Tf(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=xp(t.children[i],e,n))}),Tf(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new Pf(t.segments,r)}}function Sp(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const s=n[r];if(yp(s)){const t=Ep(s.outlets);return new Pf(i,t)}if(0===r&&mp(n[0])){i.push(new Rf(t.segments[e].path,kp(n[0]))),r++;continue}const o=yp(s)?s.outlets.primary:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&mp(a)?(i.push(new Rf(o,kp(a))),r+=2):(i.push(new Rf(o,{})),r++)}return new Pf(i,{})}function Ep(t){const e={};return Tf(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Sp(new Pf([],{}),0,t))}),e}function kp(t){const e={};return Tf(t,(t,n)=>e[n]=`${t}`),e}function Tp(t,e,n){return t==n.path&&Cf(e,n.parameters)}class Ap{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),dp(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=ip(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),Tf(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=ip(t);for(const s of Object.keys(r))this.deactivateRouteAndItsChildren(r[s],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const i=ip(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new mf(t.value.snapshot))}),t.children.length&&this.forwardEvent(new pf(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(dp(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Mp(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Mp(t){dp(t.value),t.children.forEach(Mp)}class Np{constructor(t,e){this.routes=t,this.module=e}}function Ip(t){return"function"==typeof t}function Op(t){return t instanceof Df}const Dp=Symbol("INITIAL_VALUE");function Pp(){return _d(t=>function(...t){let e,n;return E(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),q(t,n).lift(new fd(e))}(t.map(t=>t.pipe(Sd(1),function(...t){const e=t[t.length-1];return E(e)?(t.pop(),n=>md(t,n,e)):e=>md(t,e)}(Dp)))).pipe(Td((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==Dp)return t;if(i===Dp&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||Op(i))return i}return t},t)},Dp),Nd(t=>t!==Dp),k(t=>Op(t)?t:!0===t),Sd(1)))}let Rp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Lt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Eo(0,"router-outlet")},directives:function(){return[kg]},encapsulation:2}),t})();function Hp(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];Lp(i,Fp(e,i))}}function Lp(t,e){t.children&&Hp(t.children,e)}function Fp(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Vp(t){const e=t.children&&t.children.map(Vp),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==vf&&(n.component=Rp),n}function jp(t){return t.outlet||vf}function zp(t,e){const n=t.filter(t=>jp(t)===e);return n.push(...t.filter(t=>jp(t)!==e)),n}const Bp={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Up(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Bp):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||xf)(n,t,e);if(!r)return Object.assign({},Bp);const s={};Tf(r.posParams,(t,e)=>{s[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function qp(t,e,n,i,r="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>$p(t,e,n)&&jp(n)!==vf)}(t,n,i)){const r=new Pf(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&jp(s)!==vf){const n=new Pf([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[jp(s)]=n}return r}(t,e,i,new Pf(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>$p(t,e,n))}(t,n,i)){const s=new Pf(t.segments,function(t,e,n,i,r,s){const o={};for(const a of i)if($p(t,n,a)&&!r[jp(a)]){const n=new Pf([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[jp(a)]=n}return Object.assign(Object.assign({},r),o)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Pf(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function $p(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Wp(t,e,n,i){return!!(jp(t)===i||i!==vf&&$p(e,n,t))&&("**"===t.path||Up(e,t,n).matched)}function Yp(t,e,n){return 0===e.length&&!t.children[n]}class Gp{constructor(t){this.segmentGroup=t||null}}class Kp{constructor(t){this.urlTree=t}}function Qp(t){return new v(e=>e.error(new Gp(t)))}function Zp(t){return new v(e=>e.error(new Kp(t)))}function Xp(t){return new v(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Jp{constructor(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(_l)}apply(){const t=qp(this.urlTree.root,[],[],this.config).segmentGroup,e=new Pf(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,vf).pipe(k(t=>this.createUrlTree(tg(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Dd(t=>{if(t instanceof Kp)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Gp)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,vf).pipe(k(e=>this.createUrlTree(tg(e),t.queryParams,t.fragment))).pipe(Dd(t=>{if(t instanceof Gp)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new Pf([],{[vf]:t}):t;return new Df(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(k(t=>new Pf([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const r of Object.keys(n.children))"primary"===r?i.unshift(r):i.push(r);return H(i).pipe(Hd(i=>{const r=n.children[i],s=zp(e,i);return this.expandSegmentGroup(t,s,r,i).pipe(k(t=>({segment:t,outlet:i})))}),Td((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Nd((e,n)=>t(e,n,i)):y,Ld(1),n?qd(e):jd(()=>new gd))}())}expandSegment(t,e,n,i,r,s){return H(n).pipe(Hd(o=>this.expandSegmentAgainstRoute(t,e,n,o,i,r,s).pipe(Dd(t=>{if(t instanceof Gp)return ad(null);throw t}))),Yd(t=>!!t),Dd((t,n)=>{if(t instanceof gd||"EmptyError"===t.name){if(Yp(e,i,r))return ad(new Pf([],{}));throw new Gp(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,i,r,s,o){return Wp(i,e,r,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s):Qp(e):Qp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Zp(r):this.lineralizeSegments(n,r).pipe(j(n=>{const r=new Pf(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:u}=Up(e,i,r);if(!o)return Qp(e);const c=this.applyRedirectCommands(a,i.redirectTo,u);return i.redirectTo.startsWith("/")?Zp(c):this.lineralizeSegments(i,c).pipe(j(i=>this.expandSegment(t,e,n,i.concat(r.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(k(t=>(n._loadedConfig=t,new Pf(i,{})))):ad(new Pf(i,{}));const{matched:s,consumedSegments:o,lastChild:a}=Up(e,n,i);if(!s)return Qp(e);const l=i.slice(a);return this.getChildConfig(t,n,i).pipe(j(t=>{const i=t.module,s=t.routes,{segmentGroup:a,slicedSegments:u}=qp(e,o,l,s),c=new Pf(a.segments,a.children);if(0===u.length&&c.hasChildren())return this.expandChildren(i,s,c).pipe(k(t=>new Pf(o,t)));if(0===s.length&&0===u.length)return ad(new Pf(o,{}));const h=jp(n)===r;return this.expandSegment(i,c,s,u,h?vf:r,!0).pipe(k(t=>new Pf(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?ad(new Np(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ad(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(j(n=>n?this.configLoader.load(t.injector,e).pipe(k(t=>(e._loadedConfig=t,t))):function(t){return new v(e=>e.error(wf(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):ad(new Np([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;return i&&0!==i.length?ad(i.map(i=>{const r=t.get(i);let s;if(function(t){return t&&Ip(t.canLoad)}(r))s=r.canLoad(e,n);else{if(!Ip(r))throw new Error("Invalid CanLoad guard");s=r(e,n)}return Af(s)})).pipe(Pp(),Kd(t=>{if(!Op(t))return;const e=wf(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),k(t=>!0===t)):ad(!0)}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return ad(n);if(i.numberOfChildren>1||!i.children.primary)return Xp(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new Df(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Tf(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let s={};return Tf(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,n,i)}),new Pf(r,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function tg(t){const e={};for(const n of Object.keys(t.children)){const i=tg(t.children[n]);(i.segments.length>0||i.hasChildren())&&(e[n]=i)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Pf(t.segments.concat(e.segments),e.children)}return t}(new Pf(t.segments,e))}class eg{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ng{constructor(t,e){this.component=t,this.route=e}}function ig(t,e,n){const i=t._root;return sg(i,e?e._root:null,n,[i.value])}function rg(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function sg(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=ip(e);return t.children.forEach(t=>{!function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Hf(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Hf(t.url,e.url)||!Cf(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fp(t,e)||!Cf(t.queryParams,e.queryParams);case"paramsChange":default:return!fp(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new eg(i)):(s.data=o.data,s._resolvedData=o._resolvedData),sg(t,e,s.component?a?a.children:null:n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ng(a.outlet.component,o))}else o&&og(e,a,r),r.canActivateChecks.push(new eg(i)),sg(t,null,s.component?a?a.children:null:n,i,r)}(t,s[t.value.outlet],n,i.concat([t.value]),r),delete s[t.value.outlet]}),Tf(s,(t,e)=>og(t,n.getContext(e),r)),r}function og(t,e,n){const i=ip(t),r=t.value;Tf(i,(t,i)=>{og(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new ng(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class ag{}function lg(t){return new v(e=>e.error(t))}class ug{constructor(t,e,n,i,r,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){const t=qp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,vf);if(null===e)return null;const n=new lp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vf,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new np(n,e),r=new up(this.url,i);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,n=ap(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const r of Object.keys(e.children)){const i=e.children[r],s=zp(t,r),o=this.processSegmentGroup(s,i,r);if(null===o)return null;n.push(...o)}const i=function(t){const e=[];for(const n of t){if(!cg(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return i.sort((t,e)=>t.value.outlet===vf?-1:e.value.outlet===vf?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,n,i){for(const r of t){const t=this.processSegmentAgainstRoute(r,e,n,i);if(null!==t)return t}return Yp(e,n,i)?[]:null}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo||!Wp(t,e,n,i))return null;let r,s=[],o=[];if("**"===t.path){const i=n.length>0?kf(n).parameters:{};r=new lp(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fg(t),jp(t),t.component,t,hg(e),dg(e)+n.length,pg(t))}else{const i=Up(e,t,n);if(!i.matched)return null;s=i.consumedSegments,o=n.slice(i.lastChild),r=new lp(s,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fg(t),jp(t),t.component,t,hg(e),dg(e)+s.length,pg(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:u}=qp(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const t=this.processChildren(a,l);return null===t?null:[new np(r,t)]}if(0===a.length&&0===u.length)return[new np(r,[])];const c=jp(t)===i,h=this.processSegment(a,l,u,c?vf:i);return null===h?null:[new np(r,h)]}}function cg(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function hg(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function dg(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function fg(t){return t.data||{}}function pg(t){return t.resolve||{}}function gg(t){return _d(e=>{const n=t(e);return n?H(n).pipe(k(()=>e)):ad(e)})}class mg extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const yg=new Bn("ROUTES");class vg{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(k(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Np(Ef(i.injector.get(yg,void 0,gt.Self|gt.Optional)).map(Vp),i)}))}loadModuleFactory(t){return"string"==typeof t?H(this.loader.load(t)):Af(t()).pipe(j(t=>t instanceof wl?ad(t):H(this.compiler.compileModuleAsync(t))))}}class bg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _g,this.attachRef=null}}class _g{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new bg,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class wg{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function xg(t){throw t}function Cg(t,e,n){return e.parse("/")}function Sg(t,e){return ad(null)}let Eg=(()=>{class t{constructor(t,e,n,i,r,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new C,this.errorHandler=xg,this.malformedUriErrorHandler=Cg,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Sg,afterPreactivation:Sg},this.urlHandlingStrategy=new wg,this.routeReuseStrategy=new mg,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=r.get(_l),this.console=r.get(yu);const l=r.get(Nu);this.isNgZoneEnabled=l instanceof Nu&&Nu.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new Df(new Pf([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vg(s,o,t=>this.triggerEvent(new hf(t)),t=>this.triggerEvent(new df(t))),this.routerState=sp(this.currentUrlTree,this.rootComponentType),this.transitions=new ld({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Nd(t=>0!==t.id),k(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),_d(t=>{let n=!1,i=!1;return ad(t).pipe(Kd(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_d(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return ad(t).pipe(_d(t=>{const n=this.transitions.getValue();return e.next(new ef(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?yd:Promise.resolve(t)}),(i=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,o=this.config,_d(t=>function(t,e,n,i,r){return new Jp(t,e,n,i,r).apply()}(i,r,s,t.extractedUrl,o).pipe(k(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Kd(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return j(s=>function(t,e,n,i,r="emptyOnly",s="legacy"){try{const o=new ug(t,e,n,i,r,s).recognize();return null===o?lg(new ag):ad(o)}catch(o){return lg(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(k(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Kd(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new of(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:o}=t,a=new ef(n,this.serializeUrl(i),r,s);e.next(a);const l=sp(i,this.rootComponentType).snapshot;return ad(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),yd}),gg(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Kd(t=>{const e=new af(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),k(t=>Object.assign(Object.assign({},t),{guards:ig(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return j(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ad(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return H(t).pipe(j(t=>function(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ad(s.map(s=>{const o=rg(s,e,r);let a;if(function(t){return t&&Ip(t.canDeactivate)}(o))a=Af(o.canDeactivate(t,e,n,i));else{if(!Ip(o))throw new Error("Invalid CanDeactivate guard");a=Af(o(t,e,n,i))}return a.pipe(Yd())})).pipe(Pp()):ad(!0)}(t.component,t.route,n,e,i)),Yd(t=>!0!==t,!0))}(o,i,r,t).pipe(j(n=>n&&"boolean"==typeof n?function(t,e,n,i){return H(e).pipe(Hd(e=>md(function(t,e){return null!==t&&e&&e(new ff(t)),ad(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new gf(t)),ad(!0)}(e.route,i),function(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>bd(()=>ad(e.guards.map(r=>{const s=rg(r,e.node,n);let o;if(function(t){return t&&Ip(t.canActivateChild)}(s))o=Af(s.canActivateChild(i,t));else{if(!Ip(s))throw new Error("Invalid CanActivateChild guard");o=Af(s(i,t))}return o.pipe(Yd())})).pipe(Pp())));return ad(r).pipe(Pp())}(t,e.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?ad(i.map(i=>bd(()=>{const r=rg(i,e,n);let s;if(function(t){return t&&Ip(t.canActivate)}(r))s=Af(r.canActivate(e,t));else{if(!Ip(r))throw new Error("Invalid CanActivate guard");s=Af(r(e,t))}return s.pipe(Yd())}))).pipe(Pp()):ad(!0)}(t,e.route,n))),Yd(t=>!0!==t,!0))}(i,s,t,e):ad(n)),k(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Kd(t=>{if(Op(t.guardsResult)){const e=wf(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new lf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Nd(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new rf(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),gg(t=>{if(t.guards.canActivateChecks.length)return ad(t).pipe(Kd(t=>{const e=new uf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),_d(t=>{let n=!1;return ad(t).pipe((i=this.paramsInheritanceStrategy,r=this.ngModule.injector,j(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return ad(t);let s=0;return H(n).pipe(Hd(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return ad({});const s={};return H(r).pipe(j(r=>function(t,e,n,i){const r=rg(t,e,i);return Af(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe(Kd(t=>{s[r]=t}))),Ld(1),j(()=>Object.keys(s).length===r.length?ad(s):yd))}(t._resolve,t,e,i).pipe(k(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ap(t,n).resolve),null)))}(t.route,e,i,r)),Kd(()=>s++),Ld(1),j(e=>s===n.length?ad(t):yd))})),Kd({next:()=>n=!0,complete:()=>{if(!n){const n=new rf(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var i,r}),Kd(t=>{const e=new cf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),gg(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),k(t=>{const e=function(t,e,n){const i=pp(t,e._root,n?n._root:void 0);return new rp(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Kd(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),k(t=>(new Ap(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Kd({next(){n=!0},complete(){n=!0}}),(r=()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new rf(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Xd(r))),Dd(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=Op(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new rf(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new sf(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var r;return yd}));var r,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,r={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(i,t,n,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Hp(t),this.config=t.map(Vp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,l=o?this.currentUrlTree.fragment:r;let u=null;switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,i,r){if(0===n.length)return vp(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new _p(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return Tf(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new _p(n,e,i)}(n);if(s.toRoot())return vp(e.root,new Pf([],{}),e,i,r);const o=function(t,e,n){if(t.isAbsolute)return new wp(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new wp(t,t===e.root,0)}const i=mp(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new wp(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Cp(o.segmentGroup,o.index,s.commands):xp(o.segmentGroup,o.index,s.commands);return vp(o.segmentGroup,a,e,i,r)}(a,this.currentUrlTree,t,u,l)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Op(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Op(t))return Mf(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Mf(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new nf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let l,u,c;r?(l=r.resolve,u=r.reject,c=r.promise):c=new Promise((t,e)=>{l=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:l,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(oi(qn),oi(Lf),oi(_g),oi(Sc),oi(no),oi(Ju),oi(Tu),oi(void 0))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})(),kg=(()=>{class t{constructor(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ul,this.deactivateEvents=new Ul,this.name=i||vf,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Tg(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(_o(_g),_o(Cl),_o(Ra),("name",function(t,e){const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(dn(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(Ie(),"name")),_o(hl))},t.\u0275dir=Ut({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Tg{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===op?this.route:t===_g?this.childContexts:this.parent.get(t,e)}}class Ag{}class Mg{preload(t,e){return ad(null)}}let Ng=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new vg(e,n,e=>t.triggerEvent(new hf(e)),e=>t.triggerEvent(new df(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Nd(t=>t instanceof nf),Hd(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(_l);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return H(n).pipe(U(),k(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(j(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(oi(Eg),oi(Ju),oi(Tu),oi(no),oi(Ag))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})(),Ig=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ef?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new yf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(oi(Eg),oi(zc),oi(void 0))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();const Og=new Bn("ROUTER_CONFIGURATION"),Dg=new Bn("ROUTER_FORROOT_GUARD"),Pg=[Sc,{provide:Lf,useClass:Ff},{provide:Eg,useFactory:function(t,e,n,i,r,s,o,a={},l,u){const c=new Eg(null,t,e,n,i,r,s,Ef(o));if(l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,c),a.enableTracing){const t=lc();c.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c},deps:[Lf,_g,Sc,no,Ju,Tu,yg,Og,[class{},new ci],[class{},new ci]]},_g,{provide:op,useFactory:function(t){return t.routerState.root},deps:[Eg]},{provide:Ju,useClass:nc},Ng,Mg,class{preload(t,e){return e().pipe(Dd(()=>ad(null)))}},{provide:Og,useValue:{enableTracing:!1}}];function Rg(){return new Wu("Router",Eg)}let Hg=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Pg,jg(e),{provide:Dg,useFactory:Vg,deps:[[Eg,new ci,new hi]]},{provide:Og,useValue:n||{}},{provide:bc,useFactory:Fg,deps:[cc,[new ui(wc),new ci],Og]},{provide:Ig,useFactory:Lg,deps:[Eg,zc,Og]},{provide:Ag,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Mg},{provide:Wu,multi:!0,useFactory:Rg},[zg,{provide:uu,multi:!0,useFactory:Bg,deps:[zg]},{provide:qg,useFactory:Ug,deps:[zg]},{provide:mu,multi:!0,useExisting:qg}]]}}static forChild(e){return{ngModule:t,providers:[jg(e)]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)(oi(Dg,8),oi(Eg,8))}}),t})();function Lg(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ig(t,e,n)}function Fg(t,e,n={}){return n.useHash?new Cc(t,e):new xc(t,e)}function Vg(t){return"guarded"}function jg(t){return[{provide:Un,multi:!0,useValue:t},{provide:yg,multi:!0,useValue:t}]}let zg=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new C}appInitializer(){return this.injector.get(dc,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Eg),i=this.injector.get(Og);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?ad(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Og),n=this.injector.get(Ng),i=this.injector.get(Ig),r=this.injector.get(Eg),s=this.injector.get(Zu);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||r.initialNavigation(),n.setUpPreloading(),i.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(oi(no))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();function Bg(t){return t.appInitializer.bind(t)}function Ug(t){return t.bootstrapListener.bind(t)}const qg=new Bn("Router Initializer");let $g=(()=>{class t{constructor(t){this.primeNgConfig=t,this.title="Alharismi"}ngOnInit(){this.primeNgConfig.ripple=!0}}return t.\u0275fac=function(e){return new(e||t)(_o(Ch))},t.\u0275cmp=Lt({type:t,selectors:[["app-root"]],decls:3,vars:1,consts:[[3,"baseZIndex"]],template:function(t,e){1&t&&(Co(0,"div"),Eo(1,"p-toast",0),Eo(2,"router-outlet"),So()),2&t&&(Wr(1),wo("baseZIndex",1e4))},directives:[sd,kg],styles:[""]}),t})(),Wg=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},imports:[[jc,Hg,Oh],Hg]}),t})();function Yg(t,e){return new v(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const l=H(t[a]);let u=!1;n.add(l.subscribe({next:t=>{u||(u=!0,o++),r[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==i&&u||(o===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}const Gg=new Bn("NgValueAccessor"),Kg={provide:Gg,useExisting:it(()=>Qg),multi:!0};let Qg=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(_o(Ba),_o(Va))},t.\u0275dir=Ut({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Oo("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[Oa([Kg])]}),t})();const Zg={provide:Gg,useExisting:it(()=>Jg),multi:!0},Xg=new Bn("CompositionEventMode");let Jg=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=lc()?lc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(_o(Ba),_o(Va),_o(Xg,8))},t.\u0275dir=Ut({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Oo("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[Oa([Zg])]}),t})();function tm(t){return null==t||0===t.length}function em(t){return null!=t&&"number"==typeof t.length}const nm=new Bn("NgValidators"),im=new Bn("NgAsyncValidators"),rm=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class sm{static min(t){return e=>{if(tm(e.value)||tm(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(tm(e.value)||tm(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return tm(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return tm(t.value)||rm.test(t.value)?null:{email:!0}}static minLength(t){return e=>tm(e.value)||!em(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>em(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return sm.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(tm(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(om);return 0==e.length?null:function(t){return lm(um(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(om);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(l(e))return Yg(e,null);if(u(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Yg(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Yg(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(k(t=>e(...t)))}return Yg(t,null)}(um(t,e).map(am)).pipe(k(lm))}}}function om(t){return null!=t}function am(t){const e=No(t)?H(t):t;return Io(e),e}function lm(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function um(t,e){return e.map(e=>e(t))}function cm(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function hm(t){return null!=t?sm.compose(cm(t)):null}function dm(t){return null!=t?sm.composeAsync(cm(t)):null}function fm(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function pm(t){return t._rawValidators}function gm(t){return t._rawAsyncValidators}let mm=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=hm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=dm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ut({type:t}),t})(),ym=(()=>{class t extends mm{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return vm(e||t)},t.\u0275dir=Ut({type:t,features:[ro]}),t})();const vm=Vn(ym);class bm extends mm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _m{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let wm=(()=>{class t extends _m{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(_o(bm,2))},t.\u0275dir=Ut({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Xo("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[ro]}),t})(),xm=(()=>{class t extends _m{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(_o(ym,10))},t.\u0275dir=Ut({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&Xo("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[ro]}),t})();const Cm={provide:Gg,useExisting:it(()=>Sm),multi:!0};let Sm=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(_o(Ba),_o(Va))},t.\u0275dir=Ut({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Oo("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[Oa([Cm])]}),t})();const Em={provide:Gg,useExisting:it(()=>Tm),multi:!0};let km=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})(),Tm=(()=>{class t{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(bm),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(_o(Ba),_o(Va),_o(km),_o(no))},t.\u0275dir=Ut({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Oo("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Oa([Em])]}),t})();const Am={provide:Gg,useExisting:it(()=>Mm),multi:!0};let Mm=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(_o(Ba),_o(Va))},t.\u0275dir=Ut({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Oo("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[Oa([Am])]}),t})();const Nm={provide:Gg,useExisting:it(()=>Im),multi:!0};let Im=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(_o(Ba),_o(Va))},t.\u0275dir=Ut({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Oo("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[Oa([Nm])]}),t})();const Om={provide:Gg,useExisting:it(()=>Dm),multi:!0};let Dm=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(_o(Ba),_o(Va))},t.\u0275dir=Ut({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Oo("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[Oa([Om])]}),t})();function Pm(t,e){return[...e.path,t]}function Rm(t,e){Fm(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&jm(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&jm(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Hm(t,e,n=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Vm(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Lm(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Fm(t,e,n){const i=pm(t);null!==e.validator?t.setValidators(fm(i,e.validator)):"function"==typeof i&&t.setValidators([i]);const r=gm(t);if(null!==e.asyncValidator?t.setAsyncValidators(fm(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]),n){const n=()=>t.updateValueAndValidity();Lm(e._rawValidators,n),Lm(e._rawAsyncValidators,n)}}function Vm(t,e,n){let i=!1;if(null!==t){if(null!==e.validator){const n=pm(t);if(Array.isArray(n)&&n.length>0){const r=n.filter(t=>t!==e.validator);r.length!==n.length&&(i=!0,t.setValidators(r))}}if(null!==e.asyncValidator){const n=gm(t);if(Array.isArray(n)&&n.length>0){const r=n.filter(t=>t!==e.asyncValidator);r.length!==n.length&&(i=!0,t.setAsyncValidators(r))}}}if(n){const t=()=>{};Lm(e._rawValidators,t),Lm(e._rawAsyncValidators,t)}return i}function jm(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function zm(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const Bm=[Qg,Mm,Sm,Im,Dm,Tm];function Um(t,e){if(!e)return null;let n,i,r;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===Jg?n=t:(e=t,Bm.some(t=>e.constructor===t)?i=t:r=t)}),r||i||n||null}function qm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $m="VALID",Wm="INVALID",Ym="PENDING",Gm="DISABLED";function Km(t){return(Jm(t)?t.validators:t)||null}function Qm(t){return Array.isArray(t)?hm(t):t||null}function Zm(t,e){return(Jm(e)?e.asyncValidators:t)||null}function Xm(t){return Array.isArray(t)?dm(t):t||null}function Jm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class ty{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Qm(this._rawValidators),this._composedAsyncValidatorFn=Xm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===$m}get invalid(){return this.status===Wm}get pending(){return this.status==Ym}get disabled(){return this.status===Gm}get enabled(){return this.status!==Gm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Qm(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Xm(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ym,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Gm,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=$m,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==$m&&this.status!==Ym||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gm:$m}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ym,this._hasOwnPendingAsyncValidator=!0;const e=am(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof ny?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof iy&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ul,this.statusChanges=new Ul}_calculateStatus(){return this._allControlsDisabled()?Gm:this.errors?Wm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ym)?Ym:this._anyControlsHaveStatus(Wm)?Wm:$m}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Jm(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ey extends ty{constructor(t=null,e,n){super(Km(e),Zm(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){qm(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){qm(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ny extends ty{constructor(t,e,n){super(Km(e),Zm(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ey?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class iy extends ty{constructor(t,e,n){super(Km(e),Zm(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ey?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const ry={provide:bm,useExisting:it(()=>oy)},sy=(()=>Promise.resolve(null))();let oy=(()=>{class t extends bm{constructor(t,e,n,i){super(),this.control=new ey,this._registered=!1,this.update=new Ul,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=Um(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),zm(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Pm(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rm(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){sy.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;sy.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(_o(ym,9),_o(nm,10),_o(im,10),_o(Gg,10))},t.\u0275dir=Ut({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Oa([ry]),ro,oe]}),t})(),ay=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ut({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const ly=new Bn("NgModelWithFormControlWarning"),uy={provide:ym,useExisting:it(()=>cy)};let cy=(()=>{class t extends ym{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ul,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vm(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Rm(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Hm(t.control||null,t,!1),qm(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(Hm(t.control||null,t),e&&Rm(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){Fm(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return Vm(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fm(this.form,this,!1),this._oldForm&&Vm(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(_o(nm,10),_o(im,10))},t.\u0275dir=Ut({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Oo("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oa([uy]),ro,oe]}),t})();const hy={provide:bm,useExisting:it(()=>dy)};let dy=(()=>{class t extends bm{constructor(t,e,n,i,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new Ul,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=Um(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),zm(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Pm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(_o(ym,13),_o(nm,10),_o(im,10),_o(Gg,10),_o(ly,8))},t.\u0275dir=Ut({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Oa([hy]),ro,oe]}),t._ngModelWarningSentOnce=!1,t})(),fy=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)}}),t})(),py=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let i,r=null,s=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,s=null!=e.asyncValidators?e.asyncValidators:null,i=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,s=null!=e.asyncValidator?e.asyncValidator:null)),new ny(n,{asyncValidators:s,updateOn:i,validators:r})}control(t,e,n){return new ey(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new iy(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ey||t instanceof ny||t instanceof iy?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})(),gy=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},providers:[km],imports:[fy]}),t})(),my=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:ly,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},providers:[py,km],imports:[fy]}),t})(),yy=(()=>{class t{constructor(t){this.el=t,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,Mh.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon&&this.createIconEl();let t=document.createElement("span");this.icon&&!this.label&&t.setAttribute("aria-hidden","true"),t.className="p-button-label",this.label?t.appendChild(document.createTextNode(this.label)):t.innerHTML="&nbsp;",this.el.nativeElement.appendChild(t),this.initialized=!0}getStyleClass(){let t="p-button p-component";return this.icon&&!this.label&&(t+=" p-button-icon-only"),this.loading&&(t+=" p-disabled p-button-loading",!this.icon&&this.label&&(t+=" p-button-loading-label-only")),t}setStyleClass(){let t=this.getStyleClass();this.el.nativeElement.className=t+" "+this._initialStyleClass}createIconEl(){let t=document.createElement("span");t.className="p-button-icon",t.setAttribute("aria-hidden","true");let e=this.label?"p-button-icon-"+this.iconPos:null;e&&Mh.addClass(t,e),Mh.addMultipleClasses(t,this.getIconClass());let n=Mh.findSingle(this.el.nativeElement,".p-button-label");n?this.el.nativeElement.insertBefore(t,n):this.el.nativeElement.appendChild(t)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let t=Mh.findSingle(this.el.nativeElement,".p-button-icon");t?t.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let t=Mh.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(t)}get label(){return this._label}set label(t){this._label=t,this.initialized&&(Mh.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return t.\u0275fac=function(e){return new(e||t)(_o(Va))},t.\u0275dir=Ut({type:t,selectors:[["","pButton",""]],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),t})(),vy=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},imports:[[jc,Oh]]}),t})(),by=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}toHomePage(){this.router.navigate([""])}}return t.\u0275fac=function(e){return new(e||t)(_o(Eg))},t.\u0275cmp=Lt({type:t,selectors:[["app-navbar"]],decls:6,vars:0,consts:[[1,"navbar","p-d-flex"],[1,"title",3,"click"],[1,"p-text-bold","p-ml-5"],[1,"buttons","p-ml-auto","p-mr-4"],["label","About","pButton","",1,"p-button-text"]],template:function(t,e){1&t&&(Co(0,"div",0),Co(1,"div",1),Oo("click",function(){return e.toHomePage()}),Co(2,"h3",2),pa(3,"alharismi"),So(),So(),Co(4,"div",3),Eo(5,"button",4),So(),So())},directives:[yy],styles:[".navbar[_ngcontent-%COMP%]{background-color:#1e1e1e;height:7vh;align-items:center}.title[_ngcontent-%COMP%]{cursor:pointer;color:#fff}"]}),t})(),_y=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Lt({type:t,selectors:[["app-main-frame"]],decls:2,vars:0,template:function(t,e){1&t&&(Eo(0,"app-navbar"),Eo(1,"router-outlet"))},directives:[by,kg],styles:[""]}),t})();class wy{constructor(t,e,n,i){this.radius=40,this.isValueVisible=!0,this.isInteractable=!0,this.drawArrow=!1,this.highlighted=!1,this.nodeOrder=1,this.noCollision=!1,this.pointerEvents=!0,this.isPlaceholder=!1,this.value=t,this.id=e,this.cx=n,this.cy=i,this.x=n,this.y=i}setTarget(t,e){this.cx=t,this.cy=e}move(t,e){this.noCollision?(this.x=t,this.y=e):(this.cx=t,this.cy=e)}}class xy{constructor(t,e,n,i,r,s){this.maxId=0,this.data=[],this.drawingHelper=t,this.dragHelper=e,this.mouseHelper=n,this.canvas=i,this.simulation=r,this.colorProvider=s}add(t){let e,n;return e=t instanceof wy?t:Array.isArray(t)?t.map(t=>t):void 0,Array.isArray(e)?(n=e.map(t=>t.value),e.forEach(t=>{t.id=this.maxId++,this.data.push(t)})):(e||(e=new wy(this.generateRandomValue(),-1,0,0)),n=[e.value],e.id=this.maxId++,this.data.push(e)),this.colorProvider.setColorScheme(n),e}generateRandomValue(t=100,e=1){return parseFloat((Math.random()*t-t/2).toFixed(e))}draw(){this.data.sort((t,e)=>e.nodeOrder-t.nodeOrder),this.canvas.selectAll(".node").data(this.data,t=>t.id).join(t=>this.enter(t),t=>this.update(t),t=>this.exit(t))}enter(t){const e=this.drawingHelper.enter(t);return this.mouseHelper.addMouseInteraction(e.select(".node-circle")),this.dragHelper.addDragInteraction(e),e}update(t){return this.drawingHelper.update(t),t}exit(t){return this.drawingHelper.exit(t),t}remove(t){Array.isArray(t)?t.forEach(t=>this.removeNode(t)):this.removeNode(t),this.draw()}removeNode(t){const e=this.data.indexOf(t);-1!==e&&this.data.splice(e,1)}generateNodes(t,e=10,n=0,i=0){const r=[];for(let s=0;s<t;++s){let t=this.generateRandomValue(e);for(;r.some(e=>e.value===t);)t=this.generateRandomValue(e*e);const s=new wy(t,-1,n,i);r.push(s)}return r}reset(){this.maxId=0,this.data=[]}}function Cy(t,e,n,i){return new(n||(n=Promise))(function(r,s){function o(t){try{l(i.next(t))}catch(e){s(e)}}function a(t){try{l(i.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}l((i=i.apply(t,e||[])).next())})}class Sy{constructor(t,e,n,i,r,s){this.isMouseOver=!1,this.defaultColor="#E2E8CE",this.color="#E2E8CE",this.rx=25,this.ry=25,this.parent=t,this.x=e,this.y=n,this.width=i,this.height=r,this.id=s}addNode(t){this.node=t,this.hoveringNode=t,t.lockedGrid=this,t.hoveringGrid=this,t.fx=this.parent.x+this.x+this.width/2,t.fy=this.height/2+this.parent.y,t.pointerEvents=!0,t.noCollision=!0,t.nodeOrder=2,t.x=this.parent.x+this.x+this.width/2,t.y=this.height/2+this.parent.y,this.parent.sorted=!1,this.parent.size++}removeNode(){if(!this.node)return null;const t=this.node;return t.lockedGrid=void 0,t.hoveringGrid=void 0,this.node=void 0,this.hoveringNode=void 0,t.fx=void 0,t.fy=void 0,t.nodeOrder=1,t.noCollision=!1,this.parent.sorted=!1,this.parent.size--,t}toString(){return`[${this.id}]`}setDefaultColor(t){this.defaultColor=t}highlight(t){this.color=t}resetColor(){return this.color=this.defaultColor,this.color}get absoluteX(){return this.parent.x+this.x+this.width/2}get absoluteY(){return this.parent.y+this.y+this.height/2}}class Ey{constructor(t,e,n,i){this.cellWidth=100,this.cellHeight=100,this.size=0,this.sorted=!1,this.busy=!1,this.id=t,this.cellWidth=100,this.cellWidth=100,this.data=[],this.z=-2,this.color="black",this.x=e,this.y=n,this.descriptor=null!=i?i:`array${t}`}add(t){t.forEach((t,e)=>this.data[e].addNode(t))}nodeAt(t){return t===this.data.length?null:this.data[t].node?this.data[t].node:this.nodeAt(t+1)}setTransform(t,e){this.x=t,this.y=e,this.data.filter(t=>t.node).forEach(t=>{t.node.move(this.x+t.x+t.width/2,t.height/2+this.y)})}makeGrid(t){let e=(this.cellWidth+this.cellWidth/20)*this.data.length;const n=this.data.length+t;for(let i=this.data.length;i<n;i++)this.data.push(new Sy(this,e,0,this.cellWidth,this.cellHeight,i)),e+=this.cellWidth+this.cellWidth/20}setCapacity(t){if(this.capacity=t,t<this.data.length){for(let e=t;e<this.data.length;e++)this.data[e].node&&this.data[e].removeNode();this.data=this.data.splice(0,t)}else this.makeGrid(t-this.data.length)}linearSearch(t){return Cy(this,void 0,void 0,function*(){for(let e=0;e<this.capacity;++e){const n=this.data[e];if(n.node&&(n.highlight("#fdd828"),yield new Promise(t=>setTimeout(t,600)),n.resetColor(),n.node.value===t))return n.highlight("#28fd5d"),n.node.highlighted=!0,yield new Promise(t=>setTimeout(t,1e3)),n.resetColor(),void(n.node.highlighted=!1)}throw yield new Promise(t=>setTimeout(t,300)),new Error("Element not found")})}binarySearch(t){return Cy(this,void 0,void 0,function*(){if(!this.sorted)throw new Error("Array is not sorted");let e=0,n=this.size-1;for(;e<=n;){const i=Math.floor((e+n)/2),r=this.data[i],s=this.data[e],o=this.data[n];if(r.highlight("#fdd828"),e!==n&&(s.highlight("#48fd28"),o.highlight("#fd2828")),yield new Promise(t=>setTimeout(t,1e3)),r.resetColor(),s.resetColor(),o.resetColor(),t===r.node.value)return r.highlight("#fdd828"),r.node.highlighted=!0,yield new Promise(t=>setTimeout(t,1e3)),r.resetColor(),void(r.node.highlighted=!1);t>r.node.value?e=i+1:n=i-1}throw yield new Promise(t=>setTimeout(t,300)),new Error("Element not found")})}deleteAt(t){return Cy(this,void 0,void 0,function*(){if(t>=this.data.length||!this.data[t].node)throw new Error("Incorrect index");const e=this.data[t].removeNode();return e.setTarget(this.x-100,this.y-100),yield this.move(t,!1),e})}insertAt(t,e,n=!0){return Cy(this,void 0,void 0,function*(){if(e>=this.data.length)throw new Error("Incorrect index");this.data[e].node&&(yield this.move(e,!0,n)),t.cx=this.data[e].x+this.x+this.cellWidth/2,t.cy=this.data[e].y+this.y+this.cellHeight/2,n&&(yield new Promise(t=>setTimeout(t,600))),this.data[e].addNode(t),n&&(yield new Promise(t=>setTimeout(t,300)))})}move(t,e,n=!0){return Cy(this,void 0,void 0,function*(){let i=e?this.data.length-1:t+1;const r=e?1:-1;for(;e&&i>=t||!e&&i<this.data.length;){if(!this.data[i].node){i-=r;continue}const t=this.data[i].removeNode();i+r>this.data.length||i+r<0||(t.cx=this.data[i+r].x+this.x+this.cellWidth/2,t.cy=this.data[i+r].y+this.y+this.cellHeight/2,n&&(yield new Promise(t=>setTimeout(t,600))),this.data[i+r].addNode(t),n&&(yield new Promise(t=>setTimeout(t,300))))}})}removeEmptySpaces(){return Cy(this,void 0,void 0,function*(){for(let t=0;t<this.size;++t)if(!this.data[t].node){const e=this.data[t],n=yield this.findFirstTaken(t+1);if(!n)return;const i=n.removeNode();i.setTarget(e.absoluteX,e.absoluteY-100),yield new Promise(t=>setTimeout(t,600)),i.setTarget(e.absoluteX,e.absoluteY),yield new Promise(t=>setTimeout(t,600)),e.addNode(i)}})}findFirstTaken(t){return Cy(this,void 0,void 0,function*(){for(;t<this.capacity;++t){if(this.data[t].node)return this.data[t].highlight("#08ff00"),yield new Promise(t=>setTimeout(t,600)),this.data[t].resetColor(),this.data[t];this.data[t].highlight("#98dc73"),yield new Promise(t=>setTimeout(t,600)),this.data[t].resetColor()}})}sort(){return Cy(this,void 0,void 0,function*(){this.sorting&&(yield this.removeEmptySpaces(),yield this.sorting.sort(this),this.sorted=!0,yield new Promise(t=>setTimeout(t,1800)),this.data.filter(t=>!!t.node).forEach(t=>t.resetColor()))})}swapNodes(t,e){return Cy(this,void 0,void 0,function*(){if(!t.node||!e.node)return;const n=t.removeNode(),i=e.removeNode(),r=(e.absoluteX+t.absoluteX)/2;n.setTarget(r,e.absoluteY-75),i.setTarget(r,t.absoluteY+75),yield new Promise(t=>setTimeout(t,600)),n.setTarget(e.absoluteX,e.absoluteY),i.setTarget(t.absoluteX,t.absoluteY),yield new Promise(t=>setTimeout(t,600)),t.addNode(i),e.addNode(n)})}moveNode(t,e){return Cy(this,void 0,void 0,function*(){if(!t.node||e.node)return;const n=(e.absoluteX+t.absoluteX)/2,i=t.removeNode();i.setTarget(n,e.absoluteY-100),yield new Promise(t=>setTimeout(t,600)),i.setTarget(e.absoluteX,e.absoluteY),yield new Promise(t=>setTimeout(t,600)),e.addNode(i)})}}class ky{constructor(t,e,n,i,r,s,o){this.maxId=0,this.data=[],this.drawingHelper=e,this.arrayCellDrawingHelper=n,this.dragHelper=i,this.mouseHelper=r,this.arrayCellMouseHelper=s,this.simulation=t,this.canvas=o}add(t){if(!(t instanceof Ey))return;const e=t;e.id=this.maxId++,this.data.push(e)}draw(){this.canvas.selectAll(".array").data(this.data,t=>t.id).join(t=>this.enter(t),t=>this.update(t),t=>this.exit(t)).lower()}enter(t){const e=this.drawingHelper.enter(t);return this.mouseHelper.addMouseInteraction(e),this.dragHelper.addDragInteraction(e),e.selectAll(".array-cell").data(t=>t.data,t=>t.id).join(t=>{const e=this.arrayCellDrawingHelper.enter(t);return this.arrayCellMouseHelper.addMouseInteraction(e),e}),e}update(t){return this.drawingHelper.update(t),t.selectAll(".array-cell").data(t=>t.data,t=>t.id).join(t=>{const e=this.arrayCellDrawingHelper.enter(t);return this.arrayCellMouseHelper.addMouseInteraction(e),e},t=>this.arrayCellDrawingHelper.update(t),t=>this.arrayCellDrawingHelper.exit(t)),t}exit(t){return this.drawingHelper.exit(t)}reset(){this.maxId=0,this.data=[]}}var Ty=n("VphZ");class Ay{constructor(t,e,n){this.transitionDuration=2e3,this.widthHeight=new ld([0,0]),this.svg=t,this.canvas=e,this.widthHeight.next(n)}setZoom(){this.zoom||(this.zoom=Ty.zoom().translateExtent([[-1e4,-1e4],[1e4,1e4]]).scaleExtent([.3,3]).on("zoom",()=>{const t=Ty.event;t&&this.canvas.attr("transform",t.transform)})),this.svg.call(this.zoom)}focusSvg(){const[t,e]=this.widthHeight.getValue();this.svg.transition().duration(this.transitionDuration).call(this.zoom.transform,Ty.zoomIdentity.translate(t/2,e/2).scale(.4))}focus(t){const e=t.node().getBBox(),[n,i]=this.widthHeight.getValue(),r=(2*e.x+e.width)/2,s=(2*e.y+e.height)/2,o=.9/Math.max(e.width/n,e.height/i),a=[n/2-o*r,i/2-o*s];if(console.log(e),console.log(o),console.log(a),o>3)return console.log("DAVIDJU"),console.log(a),console.log(o),void console.log(t);this.svg.transition().duration(this.transitionDuration).call(this.zoom.transform,Ty.zoomIdentity.translate(a[0],a[1]).scale(o))}}class My{constructor(){this.nodes=[],this.drawableHandlers=[]}setupForce(){this.force=Ty.forceSimulation([]).force("x",Ty.forceX().x(t=>t.cx).strength(.2)).force("y",Ty.forceY().y(t=>t.cy).strength(.2)).force("link",Ty.forceLink([]).distance(100).strength(.2)).force("collision",Ty.forceCollide().strength(1).radius(t=>t.radius)).alphaTarget(.5).velocityDecay(.6).on("tick",this.ticked(30))}ticked(t){let e=Date.now();return()=>{var n,i,r,s,o,a,l;const u=Date.now(),c=u-e,h=1e3/t;if(c>h){e=u-c/h;const t=Ty.select("svg");t.lower(),this.nodeElements=t.selectAll(".node"),this.arrayElements=t.selectAll(".array"),this.bstCellElements=t.selectAll(".bst-cell"),this.nodes=this.bstCellElements.data().concat(this.nodeElements.data().filter(t=>!t.noCollision)),this.force.nodes(this.nodes),this.links=t.selectAll(".link"),this.force.force("link").links(this.links),this.drawableHandlers.forEach(t=>t.draw()),null===(n=this.nodeElements)||void 0===n||n.attr("transform",t=>`translate(${t.x}, ${t.y})`),null===(i=this.arrayElements)||void 0===i||i.attr("transform",t=>`translate(${t.x}, ${t.y})`),null===(r=this.bstCellElements)||void 0===r||r.attr("transform",t=>`translate(${t.x}, ${t.y})`),null===(l=null===(a=null===(o=null===(s=this.links)||void 0===s?void 0:s.attr("x1",t=>t.source.x))||void 0===o?void 0:o.attr("y1",t=>t.source.y+t.yDisplacement))||void 0===a?void 0:a.attr("x2",t=>t.target.x))||void 0===l||l.attr("y2",t=>t.target.y+t.yDisplacement)}}}setHandlers(...t){this.drawableHandlers=t}}class Ny{constructor(t){this.radius=40,this.colorProvider=t}enter(t){const e=t.append("g").attr("class","node").attr("transform",t=>`translate(${t.x}, ${t.y})`).attr("pointer-events",t=>t.pointerEvents?"auto":"none");return e.append("circle").attr("class","node-circle").attr("r",0).attr("fill",t=>this.colorProvider.getNodeColor(t)).style("stroke-width",t=>t.highlighted?5:0).style("stroke-dasharray","5,3").style("stroke","pink").style("stroke-opacity",t=>t.isPlaceholder?.4:0).style("stroke-width",t=>t.isPlaceholder?5:0).style("stroke-dasharray",t=>t.isPlaceholder?"10,3":"0,0").style("stroke","black").style("opacity",t=>t.isPlaceholder?.8:1).style("cursor",t=>t.isInteractable?"pointer":"not-allowed").transition().duration(500).attr("r",this.radius),e.append("text").attr("class","circle-value").attr("dy",this.radius/4).text(t=>t.isValueVisible?t.value:"").style("text-anchor","middle").attr("dx",this.radius/2.3).style("fill","#E2E8CE").attr("pointer-events","none").attr("font-size",t=>this.calculateFontSize(t.value.toString())).style("opacity",0).transition().duration(500).style("opacity",1),e.append("text").attr("class","circle-name").style("fill","black").attr("dx",t=>t.isPlaceholder?0:-20).attr("dy",t=>t.isPlaceholder?5:10).style("text-anchor","middle").attr("pointer-events","none").attr("font-size",0).raise().text(t=>t.isPlaceholder?"null":`#${t.id}`).transition().duration(500).attr("font-size",16),e.append("line").attr("class","circle-arrow").attr("x1",0).attr("y1",-150).attr("x2",0).attr("y2",-100).attr("stroke","white").attr("stroke-width",5).attr("opacity",t=>t.drawArrow?.8:0).attr("marker-end","url(#arrowhead)"),e}update(t){return t.attr("class","node").attr("pointer-events",t=>t.pointerEvents?"auto":"none"),t.select(".node-circle").attr("fill",t=>this.colorProvider.getNodeColor(t)).style("stroke-width",t=>t.highlighted?10:t.isPlaceholder?5:0).style("stroke-opacity",t=>t.isPlaceholder||t.highlighted?.4:0).style("stroke-dasharray",t=>t.highlighted?"5,3":"0,0").style("stroke",t=>t.isPlaceholder?"black":t.highlighted?"green":void 0).raise().filter(t=>t.highlighted).transition().duration(400).attr("r",1.5*this.radius).transition().duration(500).attr("r",this.radius),t.select(".circle-value").text(t=>t.isValueVisible?t.value:"").attr("font-size",t=>this.calculateFontSize(t.value.toString())).raise(),t.select(".circle-name").text(t=>t.isPlaceholder?"null":`#${t.id}`).raise(),t.select(".circle-arrow").attr("x1",0).attr("y1",-150).attr("x2",0).attr("y2",-100).attr("opacity",t=>t.drawArrow?.8:0).raise(),t}exit(t){return t.remove()}calculateFontSize(t){let e;return e=t?t.length:1,1===e?this.radius:this.radius/e*1.5}}class Iy{constructor(){this.colorScheme=Ty.scaleLinear().domain([0,0]).range(["#5d89a8","#63ad82","#a3699b"])}setColorScheme(t){const e=Math.min(...t),n=Math.max(...t);let[i,r]=this.colorScheme.domain();e<i&&(i=e),n>r&&(r=n),this.colorScheme=Ty.scaleLinear().domain([i,r]).range(["#5d89a8","#63ad82","#a3699b"])}getNodeColor(t){return t.isPlaceholder?"#E2E8CE":t.isValueVisible?Ty.color(this.colorScheme(t.value)).formatHex():"grey"}}class Oy{constructor(t){this.previouslyHoveredPlaceholders=[],this.simulation=t}dragStart(t,e,n){Ty.select("*").style("cursor","grabbing"),Ty.select(n[e]).raise(),Ty.selectAll("line").attr("pointer-events","none"),t.noCollision=!0,t.pointerEvents=!1,t.nodeOrder=0,t.dragStartX=t.x,t.dragStartY=t.y,t.move(Ty.event.x,Ty.event.y)}dragging(t,e,n){t.move(Ty.event.x,Ty.event.y),this.simulation.loop.draggedNode=t}dragEnd(t,e,n){if(Ty.select("*").style("cursor",null),Ty.selectAll("line").attr("pointer-events","auto"),Ty.selectAll(".node").attr("pointer-events","auto"),Math.sqrt(Math.pow(Ty.event.x-t.dragStartX,2)+Math.pow(Ty.event.y-t.dragStartY,2))<30&&!t.lockedGrid&&!t.lockedPlaceholder)return this.freeUpNode(t),void(this.simulation.loop.draggedNode=null);if(this.simulation.loop.draggedNode){const e=Ty.selectAll(".array-cell-container").data().filter(t=>t.isMouseOver)[0];e?e.node||(t.lockedGrid&&t.lockedGrid.removeNode(),e.addNode(t)):(t.lockedGrid&&t.lockedGrid.removeNode(),t.fx=void 0,t.fy=void 0);const n=Ty.selectAll(".bst-cell-circle").data().filter(t=>t.isMouseOver)[0];!n||n.node||!n.graph.isValid||t.lockedPlaceholder&&n.graph===t.lockedPlaceholder.graph||n.graph.add(t,n)}t.setTarget(Ty.event.x,Ty.event.y),Ty.selectAll("line").attr("pointer-events","auto"),Ty.selectAll(".node").attr("pointer-events","auto"),this.freeUpNode(t),this.simulation.loop.draggedNode=null}addDragInteraction(t){if(!this.simulation.interactable)return t;const e=Ty.drag().on("start",(t,e,n)=>this.dragStart(t,e,n)).on("drag",(t,e,n)=>this.dragging(t,e,n)).on("end",(t,e,n)=>this.dragEnd(t,e,n));return t.call(e),t}freeUpNode(t){t.lockedGrid||t.lockedPlaceholder?t.lockedGrid?(t.noCollision=!0,t.pointerEvents=!0,t.nodeOrder=2,t.move(t.lockedGrid.parent.x+t.lockedGrid.x+t.lockedGrid.width/2,t.lockedGrid.height/2+t.lockedGrid.parent.y)):t.lockedPlaceholder&&(t.noCollision=!0,t.pointerEvents=!1,t.nodeOrder=2):(t.noCollision=!1,t.pointerEvents=!0,t.nodeOrder=1,t.fx=void 0,t.fy=void 0)}}var Dy=n("Ttfg"),Py=n.n(Dy);class Ry{constructor(t){this.simulation=t}mouseOver(t,e,n){const i=Ty.select(n[e]);t.isInteractable&&i.transition().duration(600).ease(Ty.easeElastic).attr("r",50)}mouseOut(t,e,n){const i=Ty.select(n[e]);t.isInteractable&&i.transition().duration(600).ease(Ty.easeElastic).attr("r",40)}contextMenu(t,e,n){const i=[{title:"Set value",action:t=>Cy(this,void 0,void 0,function*(){const e=yield this.simulation.prompt("Set value to");let n=parseFloat(e);isNaN(n)&&(n=69),t.value=n,t.highlighted=!0,yield new Promise(t=>setTimeout(t,1e3)),t.highlighted=!1})},{title:"Info log",action:t=>Cy(this,void 0,void 0,function*(){console.log(t)})},{title:"Delete",action:t=>Cy(this,void 0,void 0,function*(){this.simulation.nodeHandler.remove(t)})}];Py()(i)(t,e)}addMouseInteraction(t){return this.simulation.interactable?(t.on("mouseover",(t,e,n)=>this.mouseOver(t,e,n)).on("mouseout",(t,e,n)=>this.mouseOut(t,e,n)).on("contextmenu",(t,e,n)=>this.contextMenu(t,e,n)),t):t}}class Hy{enter(t){const e=t.append("g").attr("class","array").attr("transform",t=>`translate(${t.x}, ${t.y})`).style("cursor","pointer");return e.append("rect").attr("class","array-bg").attr("x",-25).attr("y",-60).attr("width",t=>t.capacity*(t.cellWidth+t.cellWidth/20)+45).attr("height",200).attr("rx",25).attr("ry",25).style("stroke","white").style("stroke-width",2).attr("fill",t=>t.color).style("opacity",.8).lower(),e.append("text").attr("class","array-title").attr("dx",t=>t.capacity*t.cellWidth/2).attr("dy",-25).text(t=>`${t.descriptor}${t.sorted?" (sorted)":""}`).attr("font-size",30).style("fill","white").style("text-anchor","middle").attr("pointer-events","none"),e}update(t){return t.select(".array-bg").attr("width",t=>t.capacity*(t.cellWidth+t.cellWidth/20)+45).lower(),t.select(".array-title").attr("dx",t=>t.capacity*t.cellWidth/2).text(t=>`${t.descriptor}${t.sorted?" (sorted)":""}`),t}exit(t){return t.remove()}}class Ly{enter(t){const e=t.append("g").attr("class","array-cell");return e.append("text").attr("class","array-cell-name").attr("dx",t=>t.x+t.width/2).attr("dy",125).text(t=>t.toString()).attr("font-size",25).style("fill","white").style("text-anchor","middle"),e.append("rect").attr("class","array-cell-container").attr("x",t=>t.x).attr("y",t=>t.y).attr("rx",t=>t.rx).attr("ry",t=>t.ry).attr("width",t=>t.width).attr("height",t=>t.height).style("fill",t=>t.color).style("opacity",.9).style("stroke-width",5),e}update(t){return t.select(".array-cell-name").attr("dx",t=>t.x+t.width/2).text(t=>t.toString()),t.select(".array-cell-container").attr("x",t=>t.x).attr("y",t=>t.y).attr("width",t=>t.width).attr("height",t=>t.height),t.select(".array-cell-container").style("fill",t=>t.defaultColor).transition().duration(600).ease(Ty.easeExpOut).attr("rx",t=>t.rx).attr("ry",t=>t.ry).style("fill",t=>t.color),t}exit(t){return t.remove()}}class Fy{constructor(t){this.simulation=t}dragStart(t,e,n){Ty.select(n[e]).style("cursor","grabbing")}dragging(t,e,n){t.setTransform(Ty.event.x,Ty.event.y)}dragEnd(t,e,n){Ty.select(n[e]).style("cursor",null)}addDragInteraction(t){if(!this.simulation.interactable)return t;const e=Ty.drag().on("start",(t,e,n)=>this.dragStart(t,e,n)).on("drag",(t,e,n)=>this.dragging(t,e,n)).on("end",(t,e,n)=>this.dragEnd(t,e,n));return t.call(e),t}}class Vy{constructor(t){this.simulation=t}mouseOver(t,e,n){t.isMouseOver=!0,this.simulation.loop.draggedNode&&!t.node&&(t.rx=50,t.ry=50,this.simulation.loop.draggedNode.hoveringGrid=t,t.hoveringNode=this.simulation.loop.draggedNode,this.simulation.loop.draggedNode.move(t.parent.x+t.x+t.width/2,t.height/2+t.parent.y))}mouseOut(t,e,n){t.isMouseOver=!1,t.rx=25,t.ry=25,this.simulation.loop.draggedNode&&!t.node&&(t.hoveringNode=t.hoveringNode!==t.node?t.node:void 0,this.simulation.loop.draggedNode.hoveringGrid=null)}addMouseInteraction(t){return this.simulation.interactable?(t.on("mouseover",(t,e,n)=>this.mouseOver(t,e,n)).on("mouseout",(t,e,n)=>this.mouseOut(t,e,n)),t):t}}class jy extends Ey{constructor(t,e,n,i){super(t,e,n,i)}push(t,e=!0){return Cy(this,void 0,void 0,function*(){if(this.capacity===this.size)throw new Error("Stack overflow");yield this.insertAt(t,this.size,e),yield this.setTop(e)})}pop(t=!0){return Cy(this,void 0,void 0,function*(){if(0===this.size)throw new Error("No elements in the stack");yield this.deleteAt(this.size-1),yield this.setTop(t)})}setTop(t=!0){return Cy(this,void 0,void 0,function*(){this.top&&this.top.resetColor(),this.size-1<0||(t&&(yield new Promise(t=>setTimeout(t,600))),this.top=this.data[this.size-1],this.top.highlight("#fdd828"))})}}class zy extends Ey{enqueue(t,e=!0){return Cy(this,void 0,void 0,function*(){if(this.capacity===this.size)throw new Error("Queue is full");let n;n=this.right?(this.right.id+1)%this.capacity:0,yield this.insertAt(t,n,e),yield this.setRight(n,e),this.left||(yield this.setLeft(n,e))})}setRight(t,e=!0){return Cy(this,void 0,void 0,function*(){this.right&&this.right!==this.left?this.right.resetColor():this.right&&this.right.highlight("#a0ff6f"),this.size-1<0||(e&&(yield new Promise(t=>setTimeout(t,600))),this.right=this.data[t],this.right.highlight("#ff9494"))})}dequeue(t=!0){return Cy(this,void 0,void 0,function*(){if(0===this.size)throw new Error("Queue is empty");const e=this.left.removeNode();--this.size,e.setTarget(this.x,this.y-200);const n=(this.left.id+1)%this.capacity;yield this.setLeft(n,t)})}setLeft(t,e=!0){return Cy(this,void 0,void 0,function*(){this.left&&this.left.resetColor(),this.size-1<0||(e&&(yield new Promise(t=>setTimeout(t,600))),this.left=this.data[t],this.left.highlight("#a0ff6f"))})}}class By{sort(t){return Cy(this,void 0,void 0,function*(){t.data[0].highlight("#98dc73");for(let e=1;e<t.size;++e){const n=t.data[e].removeNode();n.setTarget(t.data[e].absoluteX,t.data[e].absoluteY-150),yield new Promise(t=>setTimeout(t,1200));let i=e-1;for(;i>=0&&(t.data[i].highlight("#fdd828"),yield new Promise(t=>setTimeout(t,1200)),n.setTarget(t.data[i].absoluteX,t.data[i].absoluteY-150),t.data[i].highlight("#98dc73"),!(n.value>=t.data[i].node.value));)yield t.moveNode(t.data[i],t.data[i+1]),--i;n.setTarget(t.data[i+1].absoluteX,t.data[i+1].absoluteY),yield new Promise(t=>setTimeout(t,1200)),t.data[i+1].addNode(n),t.data[e].highlight("#98dc73")}})}}class Uy{sort(t){return Cy(this,void 0,void 0,function*(){for(let e=0;e<t.size;++e){let n=e;t.data[n].highlight("#08ff00"),yield new Promise(t=>setTimeout(t,600));for(let i=e+1;i<t.size;++i)t.data[i].highlight("#fdd828"),yield new Promise(t=>setTimeout(t,600)),t.data[i].resetColor(),t.data[i].node.value<t.data[n].node.value&&(t.data[n].resetColor(),n=i,t.data[n].highlight("#08ff00"),yield new Promise(t=>setTimeout(t,600)));t.data[n].resetColor(),e!==n&&(yield t.swapNodes(t.data[e],t.data[n])),t.data[e].highlight("#98dc73")}})}}class qy{sort(t){return Cy(this,void 0,void 0,function*(){for(let e=0;e<t.size;++e){for(let n=0;n<t.size-e-1;++n)t.data[n].highlight("#fdd828"),t.data[n+1].highlight("#fdd828"),yield new Promise(t=>setTimeout(t,600)),t.data[n].resetColor(),t.data[n+1].resetColor(),t.data[n].node.value>t.data[n+1].node.value&&(yield t.swapNodes(t.data[n],t.data[n+1]));t.data[t.size-e-1].highlight("#98dc73")}})}}class $y{sort(t){return Cy(this,void 0,void 0,function*(){yield this.mergeSort(t,t.data.slice(0,t.size))})}mergeSort(t,e){return Cy(this,void 0,void 0,function*(){if(e.length>1){const n=Math.floor(e.length/2);e.forEach(t=>t.highlight("#fd8b28")),yield new Promise(t=>setTimeout(t,1200)),e.forEach(t=>t.resetColor()),yield new Promise(t=>setTimeout(t,600));const i=e.slice(0,n),r=e.slice(n);yield this.mergeSort(t,i),yield this.mergeSort(t,r);let s=0,o=0,a=0;i.forEach(t=>t.highlight("#fde828")),r.forEach(t=>t.highlight("#ff5858"));const l=i.map(t=>{const e=t.removeNode();return e.setTarget(t.absoluteX-50,t.absoluteY+100),e}),u=r.map(t=>{const e=t.removeNode();return e.setTarget(t.absoluteX+50,t.absoluteY+100),e});for(yield new Promise(t=>setTimeout(t,1200));s<l.length&&o<u.length;)l[s].value<u[o].value?(l[s].setTarget(e[a].absoluteX,e[a].absoluteY),e[a].highlight("#98dc73"),yield new Promise(t=>setTimeout(t,1200)),e[a].addNode(l[s]),++s):(u[o].setTarget(e[a].absoluteX,e[a].absoluteY),e[a].highlight("#98dc73"),yield new Promise(t=>setTimeout(t,1200)),e[a].addNode(u[o]),++o),++a;for(;s<i.length;)l[s].setTarget(e[a].absoluteX,e[a].absoluteY),e[a].highlight("#98dc73"),yield new Promise(t=>setTimeout(t,1200)),e[a].addNode(l[s]),++s,++a;for(;o<r.length;)u[o].setTarget(e[a].absoluteX,e[a].absoluteY),e[a].highlight("#98dc73"),yield new Promise(t=>setTimeout(t,1200)),e[a].addNode(u[o]),++o,++a}})}}class Wy{sort(t){return Cy(this,void 0,void 0,function*(){yield this.quickSort(t,t.data.slice(0,t.size),0,t.size-1)})}quickSort(t,e,n,i){return Cy(this,void 0,void 0,function*(){if(n<i){e.slice(n,i+1).forEach(t=>t.highlight("#ff6257")),yield new Promise(t=>setTimeout(t,1200)),e.slice(n,i+1).forEach(t=>t.resetColor()),yield new Promise(t=>setTimeout(t,600));const r=yield this.partition(t,e,n,i);yield this.quickSort(t,e,n,r-1),yield this.quickSort(t,e,r,i)}})}partition(t,e,n,i){return Cy(this,void 0,void 0,function*(){const r=e[i],s=r.removeNode();s.setTarget(r.absoluteX,r.absoluteY+100),r.highlight("#ff8441"),yield new Promise(t=>setTimeout(t,600));let o=n-1;for(let a=n;a<i;++a)e[a].highlight("#fdd828"),yield new Promise(t=>setTimeout(t,600)),e[a].node.value<=s.value&&(o>=0&&e[o].resetColor(),++o,e[o].highlight("#41d9ff"),yield new Promise(t=>setTimeout(t,600)),o!==a&&(yield t.swapNodes(e[o],e[a]))),o!==a?e[a].resetColor():e[a].highlight("#41d9ff");return o>=0&&e[o].resetColor(),r.resetColor(),o+1!==i&&(yield t.moveNode(e[o+1],e[i])),s.setTarget(e[o+1].absoluteX,e[o+1].absoluteY),yield new Promise(t=>setTimeout(t,600)),e[o+1].addNode(s),o+1})}}class Yy{constructor(t){this.simulation=t}contextMenu(t,e,n){let i;var r;t instanceof jy?(r=this.simulation,i=[{title:"Change name",action:t=>Cy(void 0,void 0,void 0,function*(){t.descriptor=yield r.prompt("New name")})},{divider:!0},{title:"Push",action:t=>Cy(void 0,void 0,void 0,function*(){const e=parseFloat(yield r.prompt("Which value to insert"));if(isNaN(e))return void alert("Value invalid");const n=new wy(e,-1,t.x,t.y-200);r.nodeHandler.add(n),yield t.push(n)})},{title:"Pop",action:t=>Cy(void 0,void 0,void 0,function*(){yield t.pop()})}]):i=t instanceof zy?(t=>[{title:"Change name",action:e=>Cy(void 0,void 0,void 0,function*(){e.descriptor=yield t.prompt("New name")})},{divider:!0},{title:"Enqueue",action:e=>Cy(void 0,void 0,void 0,function*(){const n=parseFloat(yield t.prompt("Which value to enqueue"));if(isNaN(n))return void alert("Value invalid");const i=new wy(n,-1,e.x,e.y-200);t.nodeHandler.add(i),yield e.enqueue(i)})},{title:"Dequeue",action:t=>Cy(void 0,void 0,void 0,function*(){yield t.dequeue()})}])(this.simulation):(t=>[{title:"Set size",action:e=>Cy(void 0,void 0,void 0,function*(){const n=yield t.prompt("New size");let i=parseFloat(n);isNaN(i)&&(i=10),e.setCapacity(i)})},{title:"Change name",action:e=>Cy(void 0,void 0,void 0,function*(){e.descriptor=yield t.prompt("New name")})},{divider:!0},{title:"Find",action:e=>Cy(void 0,void 0,void 0,function*(){const n=yield t.prompt("Which value to find"),i=parseFloat(n);isNaN(i)?alert("Value invalid"):yield e.linearSearch(i)})},{title:"Insert",action:e=>Cy(void 0,void 0,void 0,function*(){const n=parseFloat(yield t.prompt("Which value to insert")),i=parseFloat(yield t.prompt("Dje bate?"));if(isNaN(n)||isNaN(i))return void alert("Value invalid");const r=new wy(n,-1,e.x,e.y-200);t.nodeHandler.add(r),yield e.insertAt(r,i)})},{title:"Delete",action:e=>Cy(void 0,void 0,void 0,function*(){const n=parseFloat(yield t.prompt("Which index would you like to remove?"));isNaN(n)?alert("Value invalid"):yield e.deleteAt(n)})},{divider:!0},{title:"Sort",children:[{title:"Insertion",action:t=>Cy(void 0,void 0,void 0,function*(){t.sorting=new By,yield t.sort()})},{title:"Selection",action:t=>Cy(void 0,void 0,void 0,function*(){t.sorting=new Uy,yield t.sort()})},{title:"Bubble",action:t=>Cy(void 0,void 0,void 0,function*(){t.sorting=new qy,yield t.sort()})},{title:"Merge",action:t=>Cy(void 0,void 0,void 0,function*(){t.sorting=new $y,yield t.sort()})},{title:"Quick",action:t=>Cy(void 0,void 0,void 0,function*(){t.sorting=new Wy,yield t.sort()})}]}])(this.simulation),Py()(i)(t,e)}addMouseInteraction(t){return this.simulation.interactable?(t.on("contextmenu",(t,e,n)=>this.contextMenu(t,e,n)),t):t}}class Gy{constructor(t,e,n,i,r,s,o,a,l){this.data=[],this.maxId=0,this.simulation=t,this.dragHelper=e,this.drawingHelper=n,this.mouseHelper=i,this.bstCellDrawingHelper=r,this.bstCellDragHelper=s,this.bstCellMouseHelper=o,this.linkDrawingHelper=a,this.canvas=l}add(t){t.id=this.maxId++,t.setRoot(),this.data.push(t)}draw(){this.canvas.selectAll(".bst").data(this.data,t=>t.id).join(t=>this.enter(t),t=>this.update(t),t=>this.exit(t)).lower()}enter(t){const e=this.drawingHelper.enter(t);return this.mouseHelper.addMouseInteraction(e),e.selectAll(".bst-cell").data(t=>t.getData(),t=>t.id).join(t=>{const e=this.bstCellDrawingHelper.enter(t);return this.bstCellDragHelper.addDragInteraction(e),this.bstCellMouseHelper.addMouseInteraction(e),e}),e.selectAll(".link").data(t=>t.getLinks(),t=>`${t.source.id}_${t.target.id}`).join(t=>{const e=this.linkDrawingHelper.enter(t);return e.lower(),e}),e}update(t){return this.drawingHelper.update(t),t.selectAll(".bst-cell").data(t=>t.getData(),t=>t.id).join(t=>{const e=this.bstCellDrawingHelper.enter(t);return this.bstCellDragHelper.addDragInteraction(e),this.bstCellMouseHelper.addMouseInteraction(e),e},t=>this.bstCellDrawingHelper.update(t),t=>this.bstCellDrawingHelper.exit(t)),t.selectAll(".link").data(t=>t.getLinks(),t=>`${t.target.id}_${t.target.id}`).join(t=>{const e=this.linkDrawingHelper.enter(t);return e.lower(),e},t=>this.linkDrawingHelper.update(t).lower(),t=>this.linkDrawingHelper.exit(t)),t}exit(t){return this.drawingHelper.exit(t)}reset(){this.maxId=0,this.data=[]}}class Ky{enter(t){return t.append("g").attr("class","bst")}update(t){return t}exit(t){return t.remove()}}class Qy{enter(t){const e=t.append("g").attr("class","bst-cell").attr("transform",t=>`translate(${t.x}, ${t.y})`);return e.append("circle").attr("class","bst-cell-circle").attr("fill",t=>t.isValid?"#E2E8CE":"#e8cece").style("opacity",.9).style("cursor","pointer").attr("r",t=>t.radius).style("stroke-opacity",1).style("stroke-width",0).style("stroke","#9381FF"),e.append("text").attr("class","bst-cell-empty").attr("dx",0).attr("dy",5).style("text-anchor","middle").attr("pointer-events","none").attr("font-size",0).raise().style("fill",t=>t.graph.isValid?t.descriptorColor:"#860000").text(t=>t.graph.isValid?"empty":"invalid").transition().duration(500).attr("font-size",16),e.append("text").style("fill","white").attr("class","bst-cell-name").attr("dx",0).attr("dy",t=>1.2*-t.radius).style("text-anchor","middle").attr("pointer-events","none").attr("font-size",32).style("opacity",t=>t.descriptor?1:0).text(t=>t.descriptor?t.descriptor:""),e}update(t){return t.select(".bst-cell-circle").attr("fill",t=>t.graph.isValid?t.color:"#e8cece"),t.select(".bst-cell-name").style("opacity",t=>t.descriptor?1:0).text(t=>t.descriptor?t.descriptor:""),t.select(".bst-cell-empty").style("fill",t=>t.graph.isValid?t.descriptorColor:"#860000").text(t=>t.graph.isValid?"empty":"invalid"),t}exit(t){return t.remove()}}class Zy{constructor(t){this.simulation=t}dragStart(t,e,n){t.fixedMove(Ty.event.x,Ty.event.y),Ty.select(n[e]).style("cursor","grabbing"),Ty.select(n[e]).raise()}dragging(t,e,n){t.fixedMove(Ty.event.x,Ty.event.y)}dragEnd(t,e,n){t.fx=void 0,t.fy=void 0,t.graph.moveCell(t,Ty.event.x,Ty.event.y),Ty.select(n[e]).style("cursor",null)}addDragInteraction(t){if(!this.simulation.interactable)return t;const e=Ty.drag().on("start",(t,e,n)=>this.dragStart(t,e,n)).on("drag",(t,e,n)=>this.dragging(t,e,n)).on("end",(t,e,n)=>this.dragEnd(t,e,n));return t.call(e),t}}class Xy{constructor(t,e){this.simulation=t,this.colorProvider=e}mouseOver(t,e,n){t.isMouseOver=!0;const i=this.simulation.loop.draggedNode,r=t.node,s=t.graph.isValid;let o;o=s?r?this.colorProvider.getNodeColor(r):i?this.colorProvider.getNodeColor(i):"#ACBFA4":"#8d1a1a",Ty.select(n[e]).select(".bst-cell-circle").style("stroke",o).transition().duration(600).ease(Ty.easeElastic).style("stroke-width",7),i&&!r&&s&&(this.simulation.loop.draggedNode.hoveringPlaceholder=t,t.hoveringNode=this.simulation.loop.draggedNode)}mouseOut(t,e,n){t.isMouseOver=!1,Ty.select(n[e]).select(".bst-cell-circle").transition().duration(600).ease(Ty.easeElastic).style("stroke-width",0),this.simulation.loop.draggedNode&&!t.node&&t.graph.isValid&&(t.hoveringNode=t.hoveringNode!==t.node?t.node:void 0,this.simulation.loop.draggedNode.hoveringPlaceholder=null)}addMouseInteraction(t){return this.simulation.interactable?(t.on("mouseover",(t,e,n)=>this.mouseOver(t,e,n)).on("mouseout",(t,e,n)=>this.mouseOut(t,e,n)),t):t}}class Jy{enter(t){return t.append("line").attr("class","link").attr("stroke","white").attr("stroke-width",10).attr("stroke-linecap","round").attr("stroke-opacity",.6)}update(t){return t}exit(t){return t.remove()}}class tv{constructor(t){this.simulation=t}contextMenu(t,e,n){const i=[{title:"Change name",action:t=>Cy(this,void 0,void 0,function*(){t.getRoot().setDefaultDescriptor(yield this.simulation.prompt("New name"))})},{divider:!0},{title:"Find",disabled:!t.isValid,action:t=>Cy(this,void 0,void 0,function*(){const e=yield this.simulation.prompt("Which value to find"),n=parseFloat(e);isNaN(n)?alert("Value invalid"):yield t.find(n)})},{title:"Insert",disabled:!t.isValid,action:t=>Cy(this,void 0,void 0,function*(){const e=parseFloat(yield this.simulation.prompt("Which value to insert"));if(isNaN(e))return void alert("Value invalid");const n=new wy(e,-1,t.x,t.y-150);this.simulation.nodeHandler.add(n),yield t.insert(n)})},{title:"Delete",disabled:!t.isValid,action:t=>Cy(this,void 0,void 0,function*(){const e=parseFloat(yield this.simulation.prompt("Which value to delete"));isNaN(e)?alert("Value invalid"):yield t.delete(e)})},{title:"Info log",action:t=>Cy(this,void 0,void 0,function*(){console.log(t)})}];t.isValid||i.push({divider:!0},{title:"Fix tree",action:t=>Cy(this,void 0,void 0,function*(){yield t.fix()})}),Py()(i)(t,e)}addMouseInteraction(t){return this.simulation.interactable?(t.on("contextmenu",(t,e,n)=>this.contextMenu(t,e,n)),t):t}}class ev{constructor(t,e,n,i,r,s,o,a,l){this.data=[],this.maxId=0,this.simulation=t,this.dragHelper=e,this.drawingHelper=n,this.mouseHelper=i,this.bstCellDrawingHelper=r,this.bstCellDragHelper=s,this.bstCellMouseHelper=o,this.linkDrawingHelper=a,this.canvas=l}add(t){t.id=this.maxId++,t.setRoot(),this.data.push(t)}draw(){this.canvas.selectAll(".heap").data(this.data,t=>t.id).join(t=>this.enter(t),t=>this.update(t),t=>this.exit(t)).lower()}enter(t){const e=this.drawingHelper.enter(t);return this.mouseHelper.addMouseInteraction(e),e.selectAll(".bst-cell").data(t=>t.getData(),t=>t.id).join(t=>{const e=this.bstCellDrawingHelper.enter(t);return this.bstCellDragHelper.addDragInteraction(e),this.bstCellMouseHelper.addMouseInteraction(e),e}),e.selectAll(".link").data(t=>t.getLinks(),t=>`${t.source.id}_${t.target.id}`).join(t=>{const e=this.linkDrawingHelper.enter(t);return e.lower(),e}),e}update(t){return this.drawingHelper.update(t),t.selectAll(".bst-cell").data(t=>t.getData(),t=>t.id).join(t=>{const e=this.bstCellDrawingHelper.enter(t);return this.bstCellDragHelper.addDragInteraction(e),this.bstCellMouseHelper.addMouseInteraction(e),e},t=>this.bstCellDrawingHelper.update(t),t=>this.bstCellDrawingHelper.exit(t)),t.selectAll(".link").data(t=>t.getLinks(),t=>`${t.target.id}_${t.target.id}`).join(t=>{const e=this.linkDrawingHelper.enter(t);return e.lower(),e},t=>this.linkDrawingHelper.update(t).lower(),t=>this.linkDrawingHelper.exit(t)),t}exit(t){return this.drawingHelper.exit(t)}reset(){this.maxId=0,this.data=[]}}class nv{enter(t){return t.append("g").attr("class","heap")}update(t){return t}exit(t){return t.remove()}}class iv{constructor(t){this.simulation=t}contextMenu(t,e,n){const i=[{title:"Change name",action:t=>Cy(this,void 0,void 0,function*(){t.getRoot().setDefaultDescriptor(yield this.simulation.prompt("New name"))})},{divider:!0},{title:"Get minimum",disabled:!t.isValid,action:t=>Cy(this,void 0,void 0,function*(){})},{title:"Insert",disabled:!t.isValid,action:t=>Cy(this,void 0,void 0,function*(){const e=parseFloat(yield this.simulation.prompt("Which value to insert"));if(isNaN(e))return void alert("Value invalid");const n=t.getEmptyCell(),i=new wy(e,-1,n.x,n.y-150);this.simulation.nodeHandler.add(i),yield t.insert(i)})},{title:"Delete",disabled:!t.isValid,action:t=>Cy(this,void 0,void 0,function*(){const e=parseFloat(yield this.simulation.prompt("Which value to delete"));isNaN(e)?alert("Value invalid"):yield t.delete(e)})},{title:"Delete min",disabled:!t.isValid,action:t=>Cy(this,void 0,void 0,function*(){yield t.deleteMin()})},{title:"Info log",action:t=>Cy(this,void 0,void 0,function*(){console.log(t)})}];Py()(i)(t,e)}addMouseInteraction(t){return this.simulation.interactable?(t.on("contextmenu",(t,e,n)=>this.contextMenu(t,e,n)),t):t}}class rv{constructor(t,e,n,i,r,s,o,a,l){this.data=[],this.maxId=0,this.simulation=t,this.dragHelper=e,this.drawingHelper=n,this.mouseHelper=i,this.bstCellDrawingHelper=r,this.bstCellDragHelper=s,this.bstCellMouseHelper=o,this.linkDrawingHelper=a,this.canvas=l}add(t){t.id=this.maxId++,t.init(),this.data.push(t)}draw(){this.canvas.selectAll(".linked-list").data(this.data,t=>t.id).join(t=>this.enter(t),t=>this.update(t),t=>this.exit(t)).lower()}enter(t){const e=this.drawingHelper.enter(t);return this.mouseHelper.addMouseInteraction(e),e.selectAll(".bst-cell").data(t=>t.getData(),t=>t.id).join(t=>{const e=this.bstCellDrawingHelper.enter(t);return this.bstCellDragHelper.addDragInteraction(e),this.bstCellMouseHelper.addMouseInteraction(e),e}),e.selectAll(".link").data(t=>t.getLinks(),t=>`${t.target.id}_${t.target.id}`).join(t=>{const e=this.linkDrawingHelper.enter(t);return e.lower(),e}),e}update(t){return this.drawingHelper.update(t),t.selectAll(".bst-cell").data(t=>t.getData(),t=>t.id).join(t=>{const e=this.bstCellDrawingHelper.enter(t);return this.bstCellDragHelper.addDragInteraction(e),this.bstCellMouseHelper.addMouseInteraction(e),e},t=>this.bstCellDrawingHelper.update(t),t=>this.bstCellDrawingHelper.exit(t)),t.selectAll(".link").data(t=>t.getLinks(),t=>`${t.source.id}_${t.target.id}`).join(t=>{const e=this.linkDrawingHelper.enter(t);return e.lower(),e},t=>this.linkDrawingHelper.update(t).lower(),t=>this.linkDrawingHelper.exit(t)),t}exit(t){return this.drawingHelper.exit(t)}reset(){this.maxId=0,this.data=[]}}class sv{enter(t){return t.append("g").attr("class","linked-list")}update(t){return t}exit(t){return t.remove()}}class ov{constructor(t){this.simulation=t}contextMenu(t,e,n){const i=[{title:"Prepend",disabled:!t.isValid,action:t=>Cy(this,void 0,void 0,function*(){const e=parseFloat(yield this.simulation.prompt("Which value to prepend"));if(isNaN(e))return void alert("Value invalid");const n=new wy(e,-1,t.x,t.y-150);this.simulation.nodeHandler.add(n),yield t.prepend(n)})},{title:"Append",disabled:!t.isValid,action:t=>Cy(this,void 0,void 0,function*(){const e=parseFloat(yield this.simulation.prompt("Which value to append"));if(isNaN(e))return void alert("Value invalid");const n=new wy(e,-1,t.x,t.y-150);this.simulation.nodeHandler.add(n),yield t.append(n)})},{title:"Insert",disabled:!t.isValid,action:t=>Cy(this,void 0,void 0,function*(){const e=parseFloat(yield this.simulation.prompt("Which value to insert")),n=parseFloat(yield this.simulation.prompt("At which index to insert?"));if(isNaN(e)||isNaN(n))return void alert("Value invalid");const i=new wy(e,-1,t.x,t.y-150);this.simulation.nodeHandler.add(i),yield t.insert(i,n)})},{divider:!0},{title:"Pop first",disabled:t.getData().length<=2,action:t=>Cy(this,void 0,void 0,function*(){yield t.popFirst()})},{title:"Pop last",disabled:t.getData().length<=2,action:t=>Cy(this,void 0,void 0,function*(){yield t.popLast()})},{title:"Delete",disabled:t.getData().length<=2,action:t=>Cy(this,void 0,void 0,function*(){const e=parseFloat(yield this.simulation.prompt("From which index to delete"));isNaN(e)?alert("Value invalid"):yield t.delete(e)})},{title:"Info log",action:t=>Cy(this,void 0,void 0,function*(){console.log(t)})}];Py()(i)(t,e)}addMouseInteraction(t){return this.simulation.interactable?(t.on("contextmenu",(t,e,n)=>this.contextMenu(t,e,n)),t):t}}class av{constructor(t,e,n,i,r){this.radius=50,this.defaultColor="#E2E8CE",this.color="#E2E8CE",this.descriptorColor="#000000",this.isRoot=!1,this.noCollision=!1,this.isMouseOver=!1,this.isValid=!0,this.graph=t,this.cx=n,this.cy=i,this.x=n,this.y=i,this.graphX=n,this.graphY=i,this.id=e,this.setDefaultDescriptor(r)}setTarget(t,e){this.cx=t,this.cy=e}graphMoved(t,e){this.setTarget(t,e),this.graphX=t,this.graphY=e}fixedMove(t,e){this.fx=t,this.fy=e}setNode(t){this.node=t,this.node.fx=this.x,this.node.fy=this.y,this.node.noCollision=!0,this.node.pointerEvents=!1,this.node.nodeOrder=2,t.lockedPlaceholder=this}removeNode(){const t=this.node;return t?(this.node=void 0,t.fx=void 0,t.fy=void 0,t.noCollision=!1,t.pointerEvents=!0,t.hoveringPlaceholder=void 0,t.lockedPlaceholder=void 0,t.nodeOrder=1,t):null}setDefaultColor(t){this.defaultColor=t,this.color=t}setDefaultDescriptor(t){var e,n;this.defaultDescriptor=t,this.descriptor=`${null!==(e=this.defaultDescriptor)&&void 0!==e?e:""} ${null!==(n=this.additionalDescriptor)&&void 0!==n?n:""}`}addToDescriptor(t){var e,n;this.additionalDescriptor=t,this.descriptor=`${null!==(e=this.defaultDescriptor)&&void 0!==e?e:""} ${null!==(n=this.additionalDescriptor)&&void 0!==n?n:""}`}highlight(t){this.color=t}resetColor(){return this.color=this.defaultColor,this.color}get x(){return this._x}set x(t){this._x=t,this.node&&(this.node.x=t)}get y(){return this._y}set y(t){this._y=t,this.node&&(this.node.y=t)}}class lv{constructor(t,e,n=0){this.strokeWidth=10,this.z=-1,this.source=t,this.target=e,this.yDisplacement=n}}class uv{constructor(){this.links=[]}addLink(t,e,n=0){const i=new lv(t,e,n);return this.links.push(i),i}removeLink(t,e){if(!t||!e)return;const n=this.links.findIndex(n=>n.source.id===t.id&&n.target.id===e.id);-1!==n&&this.links.splice(n,1)}detachCompletely(t){this.links=this.links.filter(e=>e.source!==t&&e.target!==t)}}class cv{constructor(t,e,n){this.z=-1,this.isValid=!0,this.linkHelper=new uv,this.data=[],this.maxId=0,this.id=t,this.x=e,this.y=n}moveCell(t,e,n){t.setTarget(t.graphX,t.graphY)}add(t,e){return Cy(this,void 0,void 0,function*(){e.setNode(t),t.lockedPlaceholder=e})}getData(){return this.data}getLinks(){return this.linkHelper.links}}class hv extends cv{constructor(t,e,n){super(t,e,n)}setRoot(){const t=new av(this,this.maxId++,this.x,this.y);t.isRoot=!0,t.setDefaultDescriptor(`tree_${this.id}`),this.addCell(t,null,!0)}setPosition(t,e){this.x=t,this.y=e,this.alignForces()}alignForces(){this.treeHierarchy=Ty.hierarchy(this.getRoot(),t=>{const e=[],n=this.getLeftChild(t),i=this.getRightChild(t);return n&&e.push(n),i&&e.push(i),e}),Ty.tree().nodeSize([180,180])(this.treeHierarchy).descendants().forEach(t=>{t.x+=this.x,t.y+=this.y,t.data.graphMoved(t.x,t.y)})}moveCell(t,e,n){return t.isRoot?void this.setPosition(e,n):void t.setTarget(t.graphX,t.graphY)}fix(){return Cy(this,void 0,void 0,function*(){const t=this.data.find(t=>!!t&&!t.isValid);t.removeNode();const e=this.getLeftChild(t),n=this.getRightChild(t);this.deleteCell(e),this.deleteCell(n),this.isValid=!0,t.isValid=!0,this.alignForces()})}}class dv extends hv{constructor(t,e,n){super(t,e,n),this.children={},this.parents={}}addCell(t,e,n=!0){this.data.push(t),n?this.setLeftChild(e,t):this.setRightChild(e,t)}deleteCell(t){this.linkHelper.detachCompletely(t),this.data=this.data.filter(e=>e!==t),this.detachChildren(t),this.detachParent(t)}addChildCells(t){const e=new av(this,this.maxId++,t.x,t.y),n=new av(this,this.maxId++,t.x,t.y);this.addCell(e,t,!1),this.addCell(n,t,!0),this.linkHelper.addLink(t,e),this.linkHelper.addLink(t,n)}add(t,e,n=!0){return Cy(this,void 0,void 0,function*(){e.setNode(t),this.addChildCells(e),this.alignForces(),this.checkEntry(e)||(this.isValid=!1,e.isValid=!1)})}find(t,e=!0){return Cy(this,void 0,void 0,function*(){if(0===this.data.length)return null;let n=this.getRoot();for(;n;){if(!n.node)return null;const i=n.node;if(i.drawArrow=!0,e&&(yield new Promise(t=>setTimeout(t,600))),i.drawArrow=!1,i.value===t)return i.highlighted=!0,e&&(yield new Promise(t=>setTimeout(t,600))),i.highlighted=!1,n;n=t<i.value?this.getLeftChild(n):this.getRightChild(n)}})}delete(t,e=!0){return Cy(this,void 0,void 0,function*(){const n=yield this.find(t,e);if(!n)return null;const i=this.getLeftChild(n),r=this.getRightChild(n);let s;return s=i.node||r.node?i.node&&r.node?yield this.deleteTwoChildren(n,i):yield this.deleteOnlyChild(n,i,r):yield this.deleteLeaf(n,i,r),s[0].setTarget(this.x,this.y-200),s})}deleteLeaf(t,e,n,i=!0){return Cy(this,void 0,void 0,function*(){return this.deleteCell(e),this.deleteCell(n),this.alignForces(),[t.removeNode(),t,t]})}deleteOnlyChild(t,e,n,i=!0){return Cy(this,void 0,void 0,function*(){const[r,s]=this.getParent(t),o=e.node?e:n;this.deleteCell(e.node?n:e),this.deleteCell(t),0===s?this.setLeftChild(r,o):this.setRightChild(r,o);const a=t.removeNode();return i&&(a&&a.setTarget(this.x,this.y-100),yield new Promise(t=>setTimeout(t,600))),r?this.linkHelper.addLink(r,o):(this.setLeftChild(null,o),o.setDefaultDescriptor(t.defaultDescriptor),o.isRoot=!0),this.alignForces(),[a,o,t]})}deleteTwoChildren(t,e,n=!0){return Cy(this,void 0,void 0,function*(){const i=yield this.findMax(e),r=i.removeNode(),s=t.removeNode();n&&(s.setTarget(this.x,this.y-100),r.setTarget(t.x,t.y),yield new Promise(t=>setTimeout(t,600))),t.setNode(r);const o=this.getLeftChild(i),a=this.getRightChild(i);let l;return o.node||a.node?o.node&&a.node||(l=yield this.deleteOnlyChild(i,o,a,n)):l=yield this.deleteLeaf(i,o,a,n),[s,l[1],l[2]]})}findMax(t,e=!0){return Cy(this,void 0,void 0,function*(){let n=t;e&&(n.highlight("#5cff00"),yield new Promise(t=>setTimeout(t,600)),n.resetColor());let i=this.getRightChild(n);for(;i.node;)n=i,e&&(n.highlight("#5cff00"),yield new Promise(t=>setTimeout(t,600)),n.resetColor()),i=this.getRightChild(n);return n})}insert(t,e=!0){return Cy(this,void 0,void 0,function*(){let n=this.getRoot();for(;n;){let i=0;if(!n.node)return e&&(t.setTarget(n.x+i,n.y-100),yield new Promise(t=>setTimeout(t,600))),void(yield this.add(t,n,e));const r=n.node;if(r.drawArrow=!0,r.value===t.value)return void(r.drawArrow=!1);r.value>t.value?(i=-100,n=this.getLeftChild(n),e&&(t.setTarget(r.x+i,r.y),yield new Promise(t=>setTimeout(t,600)))):(i=100,n=this.getRightChild(n),e&&(t.setTarget(r.x+i,r.y),yield new Promise(t=>setTimeout(t,600)))),r.drawArrow=!1}})}checkEntry(t){let[e,n]=this.getParent(t);for(;e;){if(0===n){if(t.node.value>e.node.value)return!1}else if(t.node.value<e.node.value)return!1;[e,n]=this.getParent(e)}return!0}getLeftChild(t){if(!t)return;const e=this.children[t.id];return e?e[0]:void 0}setLeftChild(t,e){if(!e)return;this.detachParent(e);const n=t?t.id:-1;this.children[n]||(this.children[n]=[void 0,void 0]),this.children[n][0]=e,this.parents[e.id]=[t,0]}getRightChild(t){if(!t)return;const e=this.children[t.id];return e?e[1]:void 0}setRightChild(t,e){if(!e)return;this.detachParent(e);const n=t?t.id:-1;this.children[n]||(this.children[n]=[void 0,void 0]),this.children[n][1]=e,this.parents[e.id]=[t,1]}getParent(t){return t?(console.log(t.id),console.log(this.parents),this.parents[t.id]):[void 0,void 0]}detachChildren(t){if(t&&this.children[t.id]){for(const e of this.children[t.id])e&&this.parents[e.id][0]===t&&delete this.parents[e.id];delete this.children[t.id]}}detachParent(t){if(!t)return;if(!this.parents[t.id])return;const[e,n]=this.parents[t.id],i=e?e.id:-1;this.children[i][n]===t&&(this.children[i][n]=void 0),delete this.parents[t.id]}getRoot(){return this.children[-1][0]}}class fv extends dv{constructor(t,e,n){super(t,e,n),this.heights={}}add(t,e,n=!0){const i=Object.create(null,{add:{get:()=>super.add}});return Cy(this,void 0,void 0,function*(){yield i.add.call(this,t,e),this.isValid&&(yield this.checkBalance(e,n))})}delete(t,e=!0){const n=Object.create(null,{delete:{get:()=>super.delete}});return Cy(this,void 0,void 0,function*(){const[i,r,s]=yield n.delete.call(this,t);return yield this.checkBalance(r,e),[i,r,s]})}checkBalance(t,e=!0){return Cy(this,void 0,void 0,function*(){for(;t;){if(void 0===this.heights[t.id]){this.setHeight(t,0),[t]=this.getParent(t);continue}if(!t.node){delete this.heights[t.id],[t]=this.getParent(t);continue}const n=this.getLeftChild(t),i=this.getRightChild(t),r=this.getHeight(n),s=this.getHeight(i);this.setHeight(t,1+Math.max(r,s));const o=r-s;if(t.node){if(o>1){const i=this.getLeftChild(n),r=this.getRightChild(n);this.getHeight(i)-this.getHeight(r)<0?(yield this.leftRotation(n,e),yield this.rightRotation(t,e)):yield this.rightRotation(t,e)}else if(o<-1){const n=this.getLeftChild(i),r=this.getRightChild(i);this.getHeight(n)-this.getHeight(r)>0?(yield this.rightRotation(i,e),yield this.leftRotation(t,e)):yield this.leftRotation(t,e)}[t]=this.getParent(t)}else[t]=this.getParent(t)}})}leftRotation(t,e=!0){return Cy(this,void 0,void 0,function*(){const n=this.getRightChild(t),i=this.getLeftChild(n);this.linkHelper.removeLink(n,i),this.setRightChild(t,i),this.linkHelper.addLink(t,i),this.alignForces(),e&&(yield new Promise(t=>setTimeout(t,600)));const[r,s]=this.getParent(t);this.detachParent(t),this.linkHelper.removeLink(r,t),r||(n.isRoot=!0,n.setDefaultDescriptor(t.defaultDescriptor),t.setDefaultDescriptor(void 0),t.isRoot=!1),0===s?this.setLeftChild(r,n):this.setRightChild(r,n),r&&this.linkHelper.addLink(r,n),this.linkHelper.removeLink(t,n),this.setLeftChild(n,t),this.linkHelper.addLink(n,t),this.alignForces(),this.setHeight(t,this.getUpdatedHeight(t)),this.setHeight(n,this.getUpdatedHeight(n)),e&&(yield new Promise(t=>setTimeout(t,600)))})}rightRotation(t,e=!0){return Cy(this,void 0,void 0,function*(){const n=this.getLeftChild(t),i=this.getRightChild(n);this.linkHelper.removeLink(n,i),this.setLeftChild(t,i),this.linkHelper.addLink(t,i),this.alignForces(),e&&(yield new Promise(t=>setTimeout(t,600)));const[r,s]=this.getParent(t);this.detachParent(t),this.linkHelper.removeLink(r,t),r||(n.isRoot=!0,n.setDefaultDescriptor(t.defaultDescriptor),t.setDefaultDescriptor(void 0),t.isRoot=!1),0===s?this.setLeftChild(r,n):this.setRightChild(r,n),r&&this.linkHelper.addLink(r,n),this.linkHelper.removeLink(t,n),this.setRightChild(n,t),this.linkHelper.addLink(n,t),this.alignForces(),this.setHeight(t,this.getUpdatedHeight(t)),this.setHeight(n,this.getUpdatedHeight(n)),e&&(yield new Promise(t=>setTimeout(t,600)))})}getUpdatedHeight(t){const e=this.getLeftChild(t),n=this.getRightChild(t),i=this.getHeight(e),r=this.getHeight(n);return 1+Math.max(i,r)}getHeight(t){const e=t?this.heights[t.id]:-1;return null!=e?e:-1}setHeight(t,e){t&&(this.heights[t.id]=e,t.addToDescriptor(`h=${e}`))}}var pv=function(t){return t.RED="#FF5A5A94",t.BLACK="#636363FF",t}({});class gv extends dv{constructor(t,e,n){super(t,e,n),this.colors={}}addCell(t,e,n=!0){super.addCell(t,e,n),t.descriptorColor="#d2cdc8",this.setColor(t,pv.BLACK)}add(t,e,n=!0){const i=Object.create(null,{add:{get:()=>super.add}});return Cy(this,void 0,void 0,function*(){yield i.add.call(this,t,e),this.isValid&&(this.setColor(e,pv.RED),yield this.insertionCheckBalance(e,n))})}delete(t,e=!0){const n=Object.create(null,{delete:{get:()=>super.delete}});return Cy(this,void 0,void 0,function*(){const[i,r,s]=yield n.delete.call(this,t,e);return yield this.deletionCheckBalance(r,s,e),[i,r,s]})}insertionCheckBalance(t,e=!0){return Cy(this,void 0,void 0,function*(){let[n,i]=this.getParent(t);for(;this.getColor(n)===pv.RED;){let[r,s]=this.getParent(n);if(t.isRoot)break;if(0===s){const o=this.getRightChild(r);this.getColor(o)===pv.RED?(this.setColor(n,pv.BLACK),this.setColor(o,pv.BLACK),this.setColor(r,pv.RED),t=r,[n,i]=this.getParent(t)):(1===i&&(t=n,[n,i]=[r,s],[r,s]=this.getParent(n),yield this.leftRotation(t,e),[n,i]=this.getParent(t),[r,s]=this.getParent(n)),this.setColor(n,pv.BLACK),this.setColor(r,pv.RED),yield this.rightRotation(r,e),[n,i]=this.getParent(t),[r,s]=this.getParent(n))}else{const o=this.getLeftChild(r);this.getColor(o)===pv.RED?(this.setColor(n,pv.BLACK),this.setColor(o,pv.BLACK),this.setColor(r,pv.RED),t=r,[n,i]=this.getParent(t)):(0===i&&(t=n,[n,i]=[r,s],[r,s]=this.getParent(n),yield this.rightRotation(t,e),[n,i]=this.getParent(t),[r,s]=this.getParent(n)),[n,i]=this.getParent(t),[r,s]=this.getParent(n),this.setColor(n,pv.BLACK),this.setColor(r,pv.RED),yield this.leftRotation(r,e),[n,i]=this.getParent(t),[r,s]=this.getParent(n))}}const r=this.getRoot();this.setColor(r,pv.BLACK)})}deletionCheckBalance(t,e,n=!0){return Cy(this,void 0,void 0,function*(){let[i,r]=this.getParent(t),s=e;for(;!s.isRoot&&this.getColor(s)===pv.BLACK;)if(0===r){let t=this.getRightChild(i),e=this.getColor(t);e&&e===pv.RED&&(this.setColor(t,pv.BLACK),this.setColor(i,pv.RED),yield this.leftRotation(i,n),t=this.getRightChild(i),e=this.getColor(t));let o=this.getLeftChild(t),a=this.getRightChild(t),l=this.getColor(o),u=this.getColor(a);if(l&&l===pv.BLACK&&u&&u===pv.BLACK)this.setColor(t,pv.RED),s=i,[i,r]=this.getParent(s),t=this.getRightChild(i),e=this.getColor(t),o=this.getLeftChild(t),a=this.getRightChild(t),l=this.getColor(o),u=this.getColor(a);else{u===pv.BLACK&&(this.setColor(o,pv.BLACK),this.setColor(t,pv.RED),yield this.rightRotation(t,n),[i,r]=this.getParent(s),t=this.getRightChild(i),e=this.getColor(t),a=this.getRightChild(t));const l=this.getColor(i);this.setColor(t,l),this.setColor(i,pv.BLACK),this.setColor(a,pv.BLACK),yield this.leftRotation(i,n),s=this.getRoot()}}else{let t=this.getLeftChild(i),e=this.getColor(t);e&&e===pv.RED&&(this.setColor(t,pv.BLACK),this.setColor(i,pv.RED),yield this.rightRotation(i,n),t=this.getLeftChild(i),e=this.getColor(t));let o=this.getRightChild(t),a=this.getLeftChild(t),l=this.getColor(o),u=this.getColor(a);if(l&&l===pv.BLACK&&u&&u===pv.BLACK)this.setColor(t,pv.RED),s=i,[i,r]=this.getParent(s),t=this.getLeftChild(i),e=this.getColor(t),o=this.getRightChild(t),a=this.getLeftChild(t),l=this.getColor(o),u=this.getColor(a);else{u===pv.BLACK&&(this.setColor(o,pv.BLACK),this.setColor(t,pv.RED),yield this.leftRotation(t,n),t=this.getLeftChild(i),e=this.getColor(t),a=this.getLeftChild(t));const r=this.getColor(i);this.setColor(t,r),this.setColor(i,pv.BLACK),this.setColor(a,pv.BLACK),yield this.rightRotation(i,n),s=this.getRoot()}}this.setColor(s,pv.BLACK)})}leftRotation(t,e=!0){return Cy(this,void 0,void 0,function*(){const n=this.getRightChild(t),i=this.getLeftChild(n);this.linkHelper.removeLink(n,i),this.setRightChild(t,i),this.linkHelper.addLink(t,i),this.alignForces(),e&&(yield new Promise(t=>setTimeout(t,600)));const[r,s]=this.getParent(t);this.detachParent(t),this.linkHelper.removeLink(r,t),r||(n.isRoot=!0,n.setDefaultDescriptor(t.defaultDescriptor),t.setDefaultDescriptor(void 0),t.isRoot=!1),0===s?this.setLeftChild(r,n):this.setRightChild(r,n),r&&this.linkHelper.addLink(r,n),this.linkHelper.removeLink(t,n),this.setLeftChild(n,t),this.linkHelper.addLink(n,t),this.alignForces(),e&&(yield new Promise(t=>setTimeout(t,600)))})}rightRotation(t,e=!0){return Cy(this,void 0,void 0,function*(){const n=this.getLeftChild(t),i=this.getRightChild(n);this.linkHelper.removeLink(n,i),this.setLeftChild(t,i),this.linkHelper.addLink(t,i),this.alignForces(),e&&(yield new Promise(t=>setTimeout(t,600)));const[r,s]=this.getParent(t);this.detachParent(t),this.linkHelper.removeLink(r,t),r||(n.isRoot=!0,n.setDefaultDescriptor(t.defaultDescriptor),t.setDefaultDescriptor(void 0),t.isRoot=!1),0===s?this.setLeftChild(r,n):this.setRightChild(r,n),r&&this.linkHelper.addLink(r,n),this.linkHelper.removeLink(t,n),this.setRightChild(n,t),this.linkHelper.addLink(n,t),this.alignForces(),e&&(yield new Promise(t=>setTimeout(t,600)))})}getColor(t){if(t)return this.colors[t.id]?this.colors[t.id]:pv.BLACK}setColor(t,e){t&&(this.colors[t.id]=e,t.setDefaultColor(e))}deleteCell(t){super.deleteCell(t),this.setColor(t,pv.BLACK)}}class mv extends hv{constructor(t,e,n){super(t,e,n),this._data=[],this.size=0}addCell(t,e,n){this.setCell(t,++this.size)}add(t,e,n=!0){return Cy(this,void 0,void 0,function*(){e.setNode(t),t.lockedPlaceholder=e,this.addNextCell(e),this.alignForces(),n&&(yield new Promise(t=>setTimeout(t,600))),yield this.upHeap(e,this.size-2,n)})}addNextCell(t){const e=new av(this,this.maxId++,t.x,t.y);this.addCell(e);const[n]=this.getParent(e,this.size);n&&this.linkHelper.addLink(n,e)}upHeap(t,e,n=!0){return Cy(this,void 0,void 0,function*(){let[i]=this.getParent(t,e);const r=this.getRoot();for(;t!==r;)t.node.value<i.node.value&&(yield this.swapNodes(t,i,n)),t=i,e=Math.floor(e/2),[i]=this.getParent(t,e)})}deleteMin(){return Cy(this,void 0,void 0,function*(){const t=this.getRoot();return t.node?[t.node,t,yield this.deleteNodeFromCell(t)]:[null,null,null]})}delete(t,e=!0){return Cy(this,void 0,void 0,function*(){for(const n of this._data){if(!n.node)continue;const i=n.node;if(e&&(i.drawArrow=!0,yield new Promise(t=>setTimeout(t,600)),i.drawArrow=!1),i.value===t)return[i,n,yield this.deleteNodeFromCell(n)]}return[null,null,null]})}deleteNodeFromCell(t,e=!0){return Cy(this,void 0,void 0,function*(){if(!t.node)return null;const n=this.getLastTakenCell();if(n===t){const t=this.getEmptyCell();return n.removeNode().setTarget(this.x,this.y-200),this.deleteCell(t),t}yield this.swapNodes(t,n);const i=n.removeNode();e&&(i.setTarget(this.x,this.y-200),yield new Promise(t=>setTimeout(t,600)));const r=this.getEmptyCell();this.deleteCell(r),e&&(yield new Promise(t=>setTimeout(t,600))),yield this.downHeap(t)})}downHeap(t,e=!0){return Cy(this,void 0,void 0,function*(){for(;t&&t.node;){const n=this.getMinChild(t);if(!n)break;const i=t.node,r=n.node;if(!i||!r||r.value>=i.value)break;yield this.swapNodes(n,t,e),t=n}})}swapNodes(t,e,n=!0){return Cy(this,void 0,void 0,function*(){const i=t.removeNode(),r=e.removeNode(),s=t.color,o=e.color;n&&(t.color="#98dc73",e.color="#98dc73",i.setTarget(e.x-100,e.y),r.setTarget(t.x+100,t.y),yield new Promise(t=>setTimeout(t,600)),i.setTarget(e.x,e.y),r.setTarget(t.x,t.y),yield new Promise(t=>setTimeout(t,300))),e.setNode(i),t.setNode(r),t.color=s,e.color=o,n&&(yield new Promise(t=>setTimeout(t,600)))})}getMinChild(t){const e=this.getLeftChild(t),n=this.getRightChild(t);return e&&e.node||n&&n.node?e&&e.node||!n.node?n&&n.node||!e.node?e.node&&n?e.node.value<n.node.value?e:n:void 0:e:n:null}deleteCell(t){t===this.getEmptyCell()&&(this.linkHelper.detachCompletely(t),this.removeCell(this.size--))}insert(t,e=!0){return Cy(this,void 0,void 0,function*(){const n=this.getEmptyCell();e&&(t.setTarget(n.x,n.y),yield new Promise(t=>setTimeout(t,600))),yield this.add(t,n,e)})}getParent(t,e){if(!t)return[void 0,void 0];e&&(e=this.getTreeIndex(t));const n=Math.floor(e/2),i=e%2;return[this.getCell(n),i]}getLeftChild(t,e){if(t)return e||(e=this.getTreeIndex(t)),this.getCell(2*e)}getRightChild(t,e){if(t)return e||(e=this.getTreeIndex(t)),this.getCell(2*e+1)}getRoot(){return this._data[0]}setLeftChild(t,e,n){t&&(n||(n=this.getTreeIndex(t)),this.setCell(e,2*n))}setRightChild(t,e,n){t&&(n||(n=this.getTreeIndex(t)),this.setCell(e,2*n+1))}getTreeIndex(t){return t?this._data.findIndex(e=>e.id===t.id)+1:-1}setCell(t,e){this._data[e-1]=t}getCell(t){return this._data[t-1]}removeCell(t){delete this._data[t-1]}getData(){return this._data.filter(t=>!!t)}getEmptyCell(){return this.getCell(this.size)}getLastTakenCell(){return this.getCell(this.size-1)}detachChildren(t){}detachParent(t){}}class yv extends cv{constructor(t,e,n,i=!1){super(t,e,n),this.linkDistance=150,this.pointers={},this.double=i}init(){const t=new av(this,-1,this.x,this.y,"Head");t.isRoot=!0,this.addCell(t,null);const e=new av(this,-2,this.x,this.y,"Tail");this.addCell(e,t)}addCell(t,e){if(this.data.push(t),this.pointers[t.id]={next:void 0,prev:void 0},e){const n=this.getSuccessor(e);this.pointers[e.id].next=t.id,n&&(this.pointers[t.id].next=n.id,this.linkHelper.removeLink(e,n),this.linkHelper.addLink(t,n,this.double?-20:0)),this.linkHelper.addLink(e,t,this.double?-20:0),this.double?(this.pointers[t.id].prev=e.id,n&&(this.pointers[n.id].prev=t.id,this.linkHelper.removeLink(n,e),this.linkHelper.addLink(n,t,20)),this.linkHelper.addLink(t,e,20)):n&&-2===n.id?this.pointers[n.id].prev=t.id:-2===t.id&&(this.pointers[t.id].prev=e.id)}this.alignForces()}popFirst(t=!0){return Cy(this,void 0,void 0,function*(){const t=this.getHead(),e=this.getSuccessor(t);-2!==e.id&&(e.removeNode().setTarget(this.x,this.y-200),yield this.deleteCell(e,t),this.alignForces())})}popLast(t=!0){return Cy(this,void 0,void 0,function*(){const e=this.getTail(),n=this.getPredecessor(e);if(-2===n.id)return;n.removeNode().setTarget(this.x,this.y-200);const i=yield this.findPredecessor(n,t);yield this.deleteCell(n,i),this.alignForces()})}delete(t,e=!0){return Cy(this,void 0,void 0,function*(){if(t>this.data.length-2||t<0)throw new Error("Invalid index");let n=this.getHead(),i=this.getSuccessor(n);for(let r=0;r<t;++r)this.double&&n&&n.highlight("#98dc73"),i.highlight("#FF5A5A94"),e&&(yield new Promise(t=>setTimeout(t,600))),n&&n.resetColor(),i.resetColor(),n=i,i=this.getSuccessor(i);this.double&&(n=this.getPredecessor(i),n.highlight("#98dc73")),i.removeNode().setTarget(this.x,this.y-200),e&&(yield new Promise(t=>setTimeout(t,600))),n.resetColor(),yield this.deleteCell(i,n),this.alignForces()})}deleteCell(t,e){return Cy(this,void 0,void 0,function*(){const n=this.data.findIndex(e=>e.id===t.id);this.data.splice(n,1);const i=this.getSuccessor(t);this.pointers[e.id].next=i.id,this.linkHelper.removeLink(e,t),this.linkHelper.removeLink(t,i),this.linkHelper.addLink(e,i,this.double?-20:0),this.double?(this.pointers[i.id].prev=e.id,this.linkHelper.removeLink(t,e),this.linkHelper.removeLink(i,t),this.linkHelper.addLink(i,e,20)):-2===i.id&&(this.pointers[i.id].prev=e.id)})}alignForces(){const t=this.getHead();let e=t;e.graphMoved(this.x,this.y);let n=this.getSuccessor(t);for(;n;)n.graphMoved(e.graphX+this.linkDistance,e.graphY),e=n,n=this.getSuccessor(n)}prepend(t,e=!0){return Cy(this,void 0,void 0,function*(){const n=this.getHead();t.setTarget(n.x,n.y),e&&(yield new Promise(t=>setTimeout(t,600))),yield this.addToHead(t,n,e)})}append(t,e=!0){return Cy(this,void 0,void 0,function*(){const n=this.getTail();t.setTarget(n.x,n.y),e&&(yield new Promise(t=>setTimeout(t,600))),yield this.addToTail(t,n,e)})}insert(t,e,n=!0){return Cy(this,void 0,void 0,function*(){if(e>this.data.length-2||e<0)throw new Error("Invalid index");let i=this.getHead();for(let s=0;s<e;++s)i.highlight("#98dc73"),t.setTarget(i.x,i.y-200),n&&(yield new Promise(t=>setTimeout(t,600))),i.resetColor(),i=this.getSuccessor(i),n&&(yield new Promise(t=>setTimeout(t,600)));i.highlight("#98dc73"),t.setTarget(i.x+this.linkDistance/2,i.y-60),n&&(yield new Promise(t=>setTimeout(t,600))),i.resetColor();const r=new av(this,this.maxId++,i.x,i.y);n&&(yield new Promise(t=>setTimeout(t,300))),yield this.addCell(r,i),r.setNode(t)})}add(t,e){return Cy(this,void 0,void 0,function*(){-1===e.id?yield this.addToHead(t,e):-2===e.id&&(yield this.addToTail(t,e))})}addToHead(t,e,n=!0){return Cy(this,void 0,void 0,function*(){e.setNode(t),t.lockedPlaceholder=e;let i=new av(this,this.maxId++,e.x,e.y);this.addCell(i,e),this.alignForces(),n&&(yield new Promise(t=>setTimeout(t,300))),i=this.getSuccessor(e),yield this.passNode(t,e,i,n)})}addToTail(t,e,n=!0){return Cy(this,void 0,void 0,function*(){e.setNode(t),t.lockedPlaceholder=e;const i=this.getPredecessor(e);let r=new av(this,this.maxId++,e.x,e.y);this.addCell(r,i),this.alignForces(),n&&(yield new Promise(t=>setTimeout(t,300))),r=this.getPredecessor(e),yield this.passNode(t,e,r,n)})}passNode(t,e,n,i=!0){return Cy(this,void 0,void 0,function*(){(t=e.removeNode()).setTarget(e.x,e.y-100),t.setTarget(n.x,n.y),i&&(yield new Promise(t=>setTimeout(t,600))),n.setNode(t),t.lockedPlaceholder=n})}setPosition(t,e){this.x=t,this.y=e,this.alignForces()}moveCell(t,e,n){return t.isRoot?void this.setPosition(e,n):void t.setTarget(t.graphX,t.graphY)}getSuccessor(t){if(!t)return;const e=this.pointers[t.id].next;return void 0!==e?this.data.find(t=>t.id===e):void 0}findPredecessor(t,e=!0){return Cy(this,void 0,void 0,function*(){if(-1===t.id)return;if(this.double||-2===t.id){const n=this.getPredecessor(t);return n.highlight("#98dc73"),e&&(yield new Promise(t=>setTimeout(t,600))),n.resetColor(),n}let n=this.getHead();for(;n;){const i=this.getSuccessor(n);if(n.highlight("#98dc73"),e&&(yield new Promise(t=>setTimeout(t,600))),n.resetColor(),i.id===t.id)return n;n=i}})}getPredecessor(t){if(t&&(this.double||-2===t.id)){const e=this.pointers[t.id].prev;if(void 0===e)return;return this.data.find(t=>t.id===e)}}getHead(){return this.getCellById(-1)}getTail(){return this.getCellById(-2)}getCellById(t){return this.data.find(e=>e.id===t)}}class vv{create(t,e,n,i){switch(t.toLowerCase()){case"node":return this.createNode(e,n,i);case"array":return this.createArray(e,n,i);case"bst":return this.createBst(e,n);case"avl":return this.createAvl(e,n);case"rb":return this.createRb(e,n);case"heap":return this.createHeap(e,n);case"singlylinkedlist":return this.createSinglyLinkedList(e,n);case"stack":return this.createStack(e,n,i);case"queue":return this.createQueue(e,n,i)}}createNode(t,e,n){return new wy(null!=n?n:0,-1,t,e)}createArray(t,e,n){const i=new Ey(-1,t,e);return i.setCapacity(null!=n?n:10),i}createStack(t,e,n){const i=new jy(-1,t,e);return i.setCapacity(null!=n?n:10),i}createQueue(t,e,n){const i=new zy(-1,t,e);return i.setCapacity(null!=n?n:10),i}createBst(t,e){return new dv(-1,t,e)}createAvl(t,e,n){return new fv(-1,t,e)}createRb(t,e,n){return new gv(-1,t,e)}createHeap(t,e,n){return new mv(-1,t,e)}createSinglyLinkedList(t,e,n){return new yv(-1,t,e)}}class bv{constructor(t){this.simulation=t}contextMenu(){const t=Ty.event.x,e=Ty.event.y,n=[{title:"Node",action:()=>Cy(this,void 0,void 0,function*(){const n=yield this.simulation.prompt("Value?"),i=parseFloat(n);if(isNaN(i))return;const r=new wy(i,-1,t,e);this.simulation.nodeHandler.add(r)})},{title:"Array",action:()=>Cy(this,void 0,void 0,function*(){const n=yield this.simulation.prompt("Size?"),i=parseFloat(n);if(isNaN(i))return;const r=this.simulation.objectFactory.create("array",t,e,i);this.simulation.arrayHandler.add(r)})},{title:"Stack",action:()=>Cy(this,void 0,void 0,function*(){const n=yield this.simulation.prompt("Size?"),i=parseFloat(n);if(isNaN(i))return;const r=this.simulation.objectFactory.create("stack",t,e,i);r.descriptor=`stack ${this.simulation.arrayHandler.maxId}`,this.simulation.arrayHandler.add(r)})},{title:"Queue",action:()=>Cy(this,void 0,void 0,function*(){const n=yield this.simulation.prompt("Size?"),i=parseFloat(n);if(isNaN(i))return;const r=this.simulation.objectFactory.create("queue",t,e,i);r.descriptor=`queue ${this.simulation.arrayHandler.maxId}`,this.simulation.arrayHandler.add(r)})},{title:"Binary search tree",action:()=>Cy(this,void 0,void 0,function*(){const n=this.simulation.objectFactory.create("bst",t,e);this.simulation.bstHandler.add(n)})},{title:"Red-black tree",action:()=>Cy(this,void 0,void 0,function*(){const n=this.simulation.objectFactory.create("rb",t,e);this.simulation.bstHandler.add(n)})},{title:"AVL tree",action:()=>Cy(this,void 0,void 0,function*(){const n=this.simulation.objectFactory.create("avl",t,e);this.simulation.bstHandler.add(n)})}];this.simulation.interactable&&Py()(n)(void 0,void 0)}addMouseInteraction(t){return this.simulation.interactable?(t.on("contextmenu",()=>this.contextMenu()),t):t}}class _v{constructor(t,e){this.widthHeight=new ld([0,0]),this.interactable=!0,this.canvas=t,this.prompt=e}startSimulation(t){this.loop=new My,this.loop.setupForce(),this.svgMouse=new bv(this),this.svgMouse.addMouseInteraction(t),this.objectFactory=new vv,this.camera=new Ay(t,this.canvas,this.widthHeight.getValue()),this.widthHeight.subscribe(t=>{this.camera.widthHeight.next(t)}),this.camera.setZoom();const e=new Iy,n=new Ny(e),i=new Oy(this),r=new Ry(this);this.nodeHandler=new xy(n,i,r,this.canvas,this,e),this.arrayHandler=new ky(this,new Hy,new Ly,new Fy(this),new Yy(this),new Vy(this),this.canvas),this.bstHandler=new Gy(this,null,new Ky,new tv(this),new Qy,new Zy(this),new Xy(this,e),new Jy,this.canvas),this.heapHandler=new ev(this,null,new nv,new iv(this),new Qy,new Zy(this),new Xy(this,e),new Jy,this.canvas),this.linkedListHandler=new rv(this,null,new sv,new ov(this),new Qy,new Zy(this),new Xy(this,e),new Jy,this.canvas),this.loop.setHandlers(this.nodeHandler,this.bstHandler,this.heapHandler,this.linkedListHandler,this.arrayHandler)}reset(){this.loop.drawableHandlers.forEach(t=>t.reset())}}class wv{constructor(t,e,n){this.name=t,this.path=e,this.description=n,this.cover=`../../scenarios/${t}/cover.png`}}const xv=new wv("Array","array","Search, insertion, and deletion of elements of an array.");xv.cover="scenarios/arrays/cover.png",xv.scenes=[class{constructor(){this.id=0,this.played="unplayable"}setup(t){const e=t.objectFactory.create("array",0,0);t.arrayHandler.add(e)}play(t){}content(){return'\n  <h1 class="scene-title">Array visualization</h1>\n  <p>\n    Here, you will learn the fundamentals regarding arrays.\n  </p>\n  <p>\n    One such array is present on the right-hand-side of this visualization.\n    It consists of a collection of elements (values or variables),\n    each identified by at least one array index or key (denoted as<i>[index]</i>).\n  </p>\n  <p>\n    Try and interact with the array to familiarize yourself with the environment.\n    Array fundamentals which are covered in this section are as follows:\n  </p>\n  <ul>\n    <li>Linear search of elements;</li>\n    <li>Inserting elements;</li>\n    <li>Deleting elements;</li>\n    <li>Finding elements in a sorted array - <em>binary search</em>.</li>\n  </ul>\n  <p>\n    Let\'s get started :)\n  </p>\n  '}successContent(){return""}},class{constructor(){this.id=1,this.played="not_played",this.arrElement=-1,this.arrSize=-1,this.movedElements=""}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(10);t.nodeHandler.add(e),this.array=t.objectFactory.create("array",0,0,10),t.arrayHandler.add(this.array);for(let t=0;t<e.length;++t)yield this.array.insertAt(e[t],t,!1);this.arrElement=this.array&&this.array.data[6].node?this.array.data[6].node.value:-1,this.arrSize=this.array?this.array.size:10,this.movedElements=this.array.data.slice(0,6).map(t=>t.node.value).join(", ")})}play(t){return Cy(this,void 0,void 0,function*(){yield this.array.linearSearch(this.arrElement)})}content(){return`\n  <h1 class="scene-title">Linear search</h1>\n  <p>\n    Notice an array on the right-hand-side. It has ${this.arrSize} elements in an\n    arbitrary order.\n  </p>\n  <p>\n    What do you think would be the best method to find a node with value ${this.arrElement}?\n  </p>\n  <p>\n    Press play to find out :)\n  </p>\n`}successContent(){return`\n  <p>\n    If you guessed that you should check every element starting from the first one, then you guessed correctly.\n  </p>\n  <p>\n    The algorithm has checked every single element, [${this.movedElements}]\n    before it successfully found ${this.arrElement}.\n  </p>\n  <p>\n    How do we determine if element is not present in the array?\n  </p>\n`}},class{constructor(){this.id=2,this.played="not_played",this.arrElement=-1,this.arrSize=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(10);t.nodeHandler.add(e),this.array=t.objectFactory.create("array",0,0,10),t.arrayHandler.add(this.array);for(let t=0;t<e.length;++t)yield this.array.insertAt(e[t],t,!1);this.arrElement=23.11,this.arrSize=this.array?this.array.size:10})}play(t){return Cy(this,void 0,void 0,function*(){yield this.array.linearSearch(this.arrElement)})}content(){return`\n  <h1 class="scene-title">Linear search - unsuccessful</h1>\n  <p>\n    Notice an array on the right-hand-side. It has ${this.arrSize}\n    elements in an arbitrary order.\n  </p>\n  <p>\n    What is, in your opinion, the best way to deterine that ${this.arrElement} is not present in the array?\n  </p>\n  <p>\n    Press play to find out :)\n  </p>\n`}successContent(){return`\n  <p>\n    As you see, the algorithm had to check every single element of the array, from\n    [0] all the way up to [${this.array.size-1}], and only after finding out that\n    none of them was equal to ${this.arrElement}, could it be sure that ${this.arrElement}\n    was not in the array.\n  </p>\n  `}},class{constructor(){this.id=3,this.played="not_played",this.arrElement=-1,this.index=-1,this.arrSize=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.array=t.objectFactory.create("array",0,0,10),t.arrayHandler.add(this.array);for(let t=0;t<e.length;++t)yield this.array.insertAt(e[t],t,!1);this.arrElement=23.11,this.index=this.array.size,this.arrSize=this.array?this.array.size:10})}play(t){return Cy(this,void 0,void 0,function*(){const e=new wy(this.arrElement,-1,this.array.x,this.array.y-200);t.nodeHandler.add(e),yield this.array.insertAt(e,this.index)})}content(){return`\n  <h1 class="scene-title">Insertion at the end of an array</h1>\n  <p>\n    Notice an array on the right-hand-side. It has ${this.arrSize} elements in an\n    arbitrary order.\n  </p>\n  <p>\n    Now, let's append ${this.arrElement} to the array.\n  </p>\n  <p>\n    Are there any special steps that we need to perform prior to inserting this element at the index [${this.index}]?\n  </p>\n  <p>\n    Press play to find out :)\n  </p>\n`}successContent(){return`\n  <p>\n    Obviously, there weren't any necessary steps prior to this insertion.\n    The algorithm has simply determined that there were no elements at the index\n    [${this.index}], and thus only placed ${this.arrElement} there.\n  </p>\n  `}},class{constructor(){this.id=4,this.played="not_played",this.arrElement=-1,this.index=-1,this.arrSize=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.array=t.objectFactory.create("array",0,0,10),t.arrayHandler.add(this.array);for(let t=0;t<e.length;++t)yield this.array.insertAt(e[t],t,!1);this.arrElement=23.11,this.index=Math.floor(this.array.size/2),this.arrSize=this.array?this.array.size:10})}play(t){return Cy(this,void 0,void 0,function*(){const e=new wy(this.arrElement,-1,this.array.x,this.array.y-200);t.nodeHandler.add(e),yield this.array.insertAt(e,this.index)})}content(){return`\n  <h1 class="scene-title">Insertion at a given index</h1>\n  <p>\n    There's still that same array from before. It has ${this.arrSize} elements in an\n    arbitrary order.\n  </p>\n  <p>\n    Now, let's insert ${this.arrElement} at the index [${this.index}].\n  </p>\n  <p>\n    Are there any special steps in this new scenario that we need to perform prior to\n    inserting this element at the index [${this.index}]?\n  </p>\n  <p>\n    Press play to find out :)\n  </p>\n`}successContent(){return`\n  <p>\n    As you see, this was quite a complicated and timely process.\n  </p>\n  <p>\n    Firstly, all of the elements starting from index [${this.index}]\n    had to be moved one step to the right. And that was performed by\n    moving those elements with the higher index first.\n  </p>\n  <p>\n    Only after shifting all the elements to the right, were we sure\n    that the array didn't have any elements at index [${this.index}],\n    and we could simply insert ${this.arrElement} there.\n  </p>\n  `}},class{constructor(){this.id=4,this.played="not_played",this.arrElement=-1,this.index=-1,this.arrSize=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.array=t.objectFactory.create("array",0,0,10),t.arrayHandler.add(this.array);for(let t=0;t<e.length;++t)yield this.array.insertAt(e[t],t,!1);this.arrElement=23.11,this.index=0,this.arrSize=this.array?this.array.size:10})}play(t){return Cy(this,void 0,void 0,function*(){const e=new wy(this.arrElement,-1,this.array.x,this.array.y-200);t.nodeHandler.add(e),yield this.array.insertAt(e,this.index)})}content(){return`\n  <h1 class="scene-title">Insertion at the beginning</h1>\n  <p>\n    Still that same array :D It has ${this.arrSize} elements in an\n    arbitrary order.\n  </p>\n  <p>\n    Now, let's insert ${this.arrElement} at the the beginning (i.e. index [0]).\n  </p>\n  <p>\n    Doesn't this already look similar to the previous scenario when we were moving elements to the right?\n  </p>\n  <p>\n    Press play to find out :)\n  </p>\n`}successContent(){return`\n  <p>\n    Just like earlier, we head to move all the elements to the right of our new element's index.\n  </p>\n  <p>\n    Since we wanted to insert ${this.arrElement} at the beginning, and that means at the index [0],\n    we had to shift all existing elements to the right, starting from the index at which we wanted\n    to insert ${this.arrElement}.\n  </p>\n  <p>\n    Only after shifting all the elements to the right, were we sure\n    that the array didn't have any elements at index [0],\n    and we could simply insert ${this.arrElement} there.\n  </p>\n  `}},class{constructor(){this.id=5,this.played="not_played",this.arrElement=-1,this.index=-1,this.arrSize=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.array=t.objectFactory.create("array",0,0,10),t.arrayHandler.add(this.array);for(let t=0;t<e.length;++t)yield this.array.insertAt(e[t],t,!1);this.index=this.array.size-1,this.arrElement=this.array.data[this.array.size-1].node.value,this.arrSize=this.array?this.array.size:10})}play(t){return Cy(this,void 0,void 0,function*(){yield this.array.deleteAt(this.index)})}content(){return`\n  <h1 class="scene-title">Deletion from the end of an array</h1>\n  <p>\n    Notice an array on the right-hand-side. It has ${this.arrSize} elements in an\n    arbitrary order.\n  </p>\n  <p>\n    What would happen if we wanted to delete an element from the end, i.e. index [${this.index}] of this array.\n  </p>\n  <p>\n    Are there any special steps that we need to perform prior to its deletion?\n  </p>\n  <p>\n    Press play to find out :)\n  </p>\n`}successContent(){return`\n  <p>\n    Obviously, there weren't any necessary steps prior to this deletion.\n    We simply just removed ${this.arrElement} from the index [${this.index}],\n    so there are no more elements at that position.\n  </p>\n  `}},class{constructor(){this.id=6,this.played="not_played",this.arrElement=-1,this.index=-1,this.arrSize=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.array=t.objectFactory.create("array",0,0,10),t.arrayHandler.add(this.array);for(let t=0;t<e.length;++t)yield this.array.insertAt(e[t],t,!1);this.index=Math.floor(this.array.size/2),this.arrElement=this.array.data[this.index].node.value,this.arrSize=this.array?this.array.size:10})}play(t){return Cy(this,void 0,void 0,function*(){yield this.array.deleteAt(this.index)})}content(){return`\n  <h1 class="scene-title">Deletion from a given index of an array</h1>\n  <p>\n    Look at the array on the right-hand side. It has ${this.arrSize} elements in an\n    arbitrary order.\n  </p>\n  <p>\n    What would happen if we wanted to delete an element from the index [${this.index}] of this array.\n  </p>\n  <p>\n    What will happen to an empty space we're leaving after deletion of ${this.arrElement}?\n  </p>\n  <p>\n    Press play to find out :)\n  </p>\n`}successContent(){return`\n  <p>\n    After removing ${this.arrElement} from the array, that empty space from [${this.index}]\n    had to be gone.\n  </p>\n  <p>\n    That was managed by moving all the elements starting from [${this.index+1}]\n    one place to the left.\n  </p>\n  `}},class{constructor(){this.id=7,this.played="not_played",this.arrElement=-1,this.index=-1,this.arrSize=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.array=t.objectFactory.create("array",0,0,10),t.arrayHandler.add(this.array);for(let t=0;t<e.length;++t)yield this.array.insertAt(e[t],t,!1);this.index=0,this.arrElement=this.array.data[this.index].node.value,this.arrSize=this.array?this.array.size:10})}play(t){return Cy(this,void 0,void 0,function*(){yield this.array.deleteAt(this.index)})}content(){return`\n  <h1 class="scene-title">Deletion from a given index of an array</h1>\n  <p>\n    Glance at the array on the right-hand side. It has ${this.arrSize} elements in an\n    arbitrary order.\n  </p>\n  <p>\n    What would happen if we wanted to delete an element from the beginning, i.e. index [${this.index}] of this array.\n  </p>\n  <p>\n    You might think that every remaining element in the will be shifted to the left.\n  </p>\n  <small>\n    HINT: That's correct.\n  </small>\n  <p>\n    Press play to find out :)\n  </p>\n`}successContent(){return`\n  <p>\n    After removing ${this.arrElement} from the array, that empty space from the beginning, index [${this.index}]\n    had to be gone.\n  </p>\n  <p>\n    That was managed by moving all the remaining elements to the left.\n  </p>\n  `}},class{constructor(){this.id=1,this.played="not_played",this.arrElement=-1,this.arrSize=-1,this.movedElements=""}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(10);e.sort((t,e)=>t.value>e.value?1:t.value===e.value?0:-1),t.nodeHandler.add(e),this.array=t.objectFactory.create("array",0,0,10),t.arrayHandler.add(this.array);for(let t=0;t<e.length;++t)yield this.array.insertAt(e[t],t,!1);this.arrElement=this.array&&this.array.data[6].node?this.array.data[6].node.value:-1,this.array.sorted=!0,this.arrSize=this.array?this.array.size:10})}play(t){return Cy(this,void 0,void 0,function*(){yield this.array.binarySearch(this.arrElement)})}content(){return`\n  <h1 class="scene-title">Binary search</h1>\n  <p>\n    Notice an array on the right-hand-side. It has ${this.arrSize} sorted elements,\n    going from the lowest to the highest value.\n  </p>\n  <p>\n    What do you think would be the best method to find a node with value ${this.arrElement}?\n  </p>\n  <p>\n    Is there any advantage that sorted arrays have over unsorted ones?\n  </p>\n  <p>\n    Press play to find out :)\n  </p>\n`}successContent(){return"\n  <p>\n    This is called binary search. Binary Search is a searching algorithm for finding an element's position in a sorted array.\n  </p>\n  <p>\n    Knowing where the middle of the array is, we are checking from that element.\n    If our desired element happens to be lower than the middle element, we know that we only\n    have to check the left portion of the array.\n  </p>\n  <p>\n    Binary search begins by comparing an element in the middle of the array with the target value.\n    If the target value matches the element, its position in the array is returned.\n    If the target value is less than the element, the search continues in the lower half of the array.\n    If the target value is greater than the element, the search continues in the upper half of the array.\n    By doing this, the algorithm eliminates the half in which the target value cannot lie in each iteration.\n  </p>\n  <small>\n    Remember: Binary search can be implemented only on a sorted list of items.\n    If the elements are not sorted already, we need to sort them first.\n  </small>\n"}}];var Cv=xv;const Sv=new wv("Stack and queue","stack-queue","Array implementations of stack and queue.");Sv.cover="scenarios/stack-queue/cover.png",Sv.scenes=[class{constructor(){this.id=0,this.played="unplayable"}setup(t){}play(t){}content(){return"\n  <h1 class=\"scene-title\">Stack</h1>\n  <p>\n    Let's talk about <b>stacks</b>.\n  </p>\n  <p>\n    A stack is a data structure that follows the principle of Last-In-First-Out (LIFO).\n    This means the last element inserted inside the stack is removed first.\n  </p>\n  <p>\n    A stack can be imagined as a pile of CDs. A new CD may be put on top of the pile, and\n    thus it is the first one to be picked up later.\n  </p>\n  <p>\n    In order to access a CD from the middle of the CD stack, it is necessary\n    to pick all other discs that are placed over our target CD.\n  </p>\n  <p>\n    In this section, we'll see how stacks can be implemented using arrays.\n  </p>\n  <p>\n    Let's get started :)\n  </p>\n  "}successContent(){return""}},class{constructor(){this.id=1,this.played="not_played",this.index=-1,this.elements="",this.stackSize=-1,this.highlighedValue=-1,this.newElement=23.11}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.stack=t.objectFactory.create("stack",0,0,10),t.arrayHandler.add(this.stack);for(const t of e)yield this.stack.push(t,!1);this.stack.descriptor="stack",this.stackSize=this.stack?this.stack.size:10,this.elements=this.stack.data.slice(0,this.stack.size).map(t=>t.node.value).join(", "),this.highlighedValue=this.stack.top.node.value})}play(t){return Cy(this,void 0,void 0,function*(){const e=new wy(this.newElement,-1,this.stack.x,this.stack.y-200);t.nodeHandler.add(e),yield this.stack.push(e)})}content(){return`\n  <h1 class="scene-title">Stack - Push operation</h1>\n  <p>\n    Take a look at that array on the right-hand side. That's our stack with elements ${this.elements}.\n  </p>\n  <p>\n    There are ${this.stackSize} elements in the stack.\n    The highlighted element ${this.highlighedValue} is the <em>top element</em> of the stack.\n  </p>\n  <p>\n    The first operation we're going to look into is <b>push</b> operation. That simply\n    means appending an element to the end of this array.\n  </p>\n  <p>\n    Let's see how elements are pushed to this stack by pushing ${this.newElement}.\n  </p>\n  `}successContent(){return`\n  <p>\n    After successfully pushing ${this.newElement} to the stack, the <em>top</em> is now at the top of the stack.\n  </p>\n  <small>\n    If the stack were full, the push operation would lead to a condition called <em>stack overflow</em>.\n  </small>\n    `}},class{constructor(){this.id=2,this.played="not_played",this.index=-1,this.elements="",this.stackSize=-1,this.poppedValue=23.11}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.stack=t.objectFactory.create("stack",0,0,10),t.arrayHandler.add(this.stack);for(const t of e)yield this.stack.push(t,!1);this.stack.descriptor="stack",this.poppedValue=this.stack.top.node.value,this.stackSize=this.stack?this.stack.size:10,this.elements=this.stack.data.slice(0,this.stackSize).map(t=>t.node.value).join(", ")})}play(t){return Cy(this,void 0,void 0,function*(){yield this.stack.pop()})}content(){return`\n  <h1 class="scene-title">Stack - Pop operation</h1>\n  <p>\n    Take a look at that array on the right-hand side. That's our stack with elements ${this.elements}.\n  </p>\n  <p>\n    There are ${this.stackSize} elements in the stack.\n    The highlighted element ${this.poppedValue} is the <em>top element</em> of the stack.\n  </p>\n  <p>\n    The operation that will be performed now is the second crucial operation for stacks.\n    It is called <b>pop</b>.\n  </p>\n  <p>\n    Pop simply means the last element ${this.poppedValue} from the top\n    will be deleted from the array, and an element left to it will become the new <em>top</em>.\n  </p>\n  <p>\n    Let's see how elements are popped from this stack..\n  </p>\n  `}successContent(){return`\n  <p>\n    After successfully popping from the stack, we have received back the value ${this.poppedValue} from\n    the stack.\n  </p>\n    `}},class{constructor(){this.id=3,this.played="unplayable"}setup(t){}play(t){}content(){return"\n  <h1 class=\"scene-title\">Queue</h1>\n  <p>\n    Let's talk about <b>queues</b>.\n  </p>\n  <p>\n    A queue is a data structure that follows the principle of First-In-First-Out (FIFO).\n    This means the first element inserted inside the queue is removed first.\n  </p>\n  <p>\n    A queue can be imagined as a train going through a tunnel. The first car that\n    entered the tunnel is going to be the first one to exit it.\n  </p>\n  <p>\n    In order to see a train car from the middle of the train exit the tunnel, it is necessary\n    to observe all the cars that entered the tunnel prior to the target car.\n  </p>\n  <p>\n    In this section, we'll see how queues can be implemented using arrays.\n  </p>\n  <p>\n    Let's get started :)\n  </p>\n  "}successContent(){return""}},class{constructor(){this.id=4,this.played="not_played",this.elements="",this.queueSize=-1,this.firstValue=-1,this.lastValue=-1,this.toEnqueue=23.11}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.queue=t.objectFactory.create("queue",0,0,10),t.arrayHandler.add(this.queue);for(const t of e)yield this.queue.enqueue(t,!1);this.firstValue=this.queue.left.node.value,this.lastValue=this.queue.right.node.value})}play(t){return Cy(this,void 0,void 0,function*(){const e=new wy(this.toEnqueue,-1,this.queue.x,this.queue.y-200);t.nodeHandler.add(e),yield this.queue.enqueue(e)})}content(){return`\n  <h1 class="scene-title">Queue - Enqueue operation</h1>\n  <p>\n    Take a look at that array on the right-hand side. That's the queue implementation.\n  </p>\n  <p>\n    The first element of the queue is <span style="color: #a0ff6f; font-weight: bold">${this.firstValue}</span>,\n    and the last element is <span style="color: #ff9494; font-weight: bold">${this.lastValue}</span>.\n  </p>\n  <p>\n    The operation that will be performed now is the <em>enqueue</em> operation.\n  </p>\n  <p>\n    In this configuration, enqueue is done as simple insertion at the end of the implementation array.\n  </p>\n  <p>\n    Let's see how ${this.toEnqueue} is enqueued to this queue.\n  </p>\n  `}successContent(){return`\n  <p>\n    After successfully enqueueing the value ${this.toEnqueue}, it has became the new last element.\n  </p>\n  <small>More details about enqueue operation will be covered in the section following dequeue.</small>\n    `}},class{constructor(){this.id=5,this.played="not_played",this.index=-1,this.elements="",this.queueSize=-1,this.firstValue=-1,this.lastValue=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.queue=t.objectFactory.create("queue",0,0,10),t.arrayHandler.add(this.queue);for(const t of e)yield this.queue.enqueue(t,!1);this.firstValue=this.queue.left.node.value,this.lastValue=this.queue.right.node.value})}play(t){return Cy(this,void 0,void 0,function*(){yield this.queue.dequeue()})}content(){return`\n  <h1 class="scene-title">Queue - Dequeue operation</h1>\n  <p>\n    Take a look at that array on the right-hand side. That's the queue implementation.\n  </p>\n  <p>\n    The first element of the queue is <span style="color: #a0ff6f; font-weight: bold">${this.firstValue}</span>,\n    and the last element is <span style="color: #ff9494; font-weight: bold">${this.lastValue}</span>.\n  </p>\n  <p>\n    The operation that will be performed now is the <em>dequeue</em> operation,\n    which is another crucial operation used for queues.\n  </p>\n  <p>\n    In this configuration, dequeue is performed like a deletion of the first element from the array.\n    However, the difference between the default deletion for arrays and the dequeue operation\n    is that the empty space remains.\n  </p>\n  <p>\n    Let's see how an element is dequeued from this queue.\n  </p>\n  `}successContent(){return`\n  <p>\n    After successfully dequeueing the value ${this.firstValue}, the second element of the array\n    at the index [1] has became the first element of the queue.\n  </p>\n  <small>Notice that remaining elements were not moved to the left in order to fill the empty space.</small>\n    `}},class{constructor(){this.id=6,this.played="not_played",this.elements="",this.queueSize=-1,this.firstValue=-1,this.lastValue=-1,this.toEnqueue=23.11,this.capacity=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.queue=t.objectFactory.create("queue",0,0,10),t.arrayHandler.add(this.queue);for(let t=0;t<e.length;++t)yield this.queue.insertAt(e[t],t+this.queue.capacity-e.length,!1);yield this.queue.setLeft(this.queue.capacity-e.length,!1),this.capacity=this.queue.capacity,yield this.queue.setRight(this.queue.capacity-1,!1),this.firstValue=this.queue.left.node.value,this.lastValue=this.queue.right.node.value})}play(t){return Cy(this,void 0,void 0,function*(){const e=new wy(this.toEnqueue,-1,this.queue.x,this.queue.y-200);t.nodeHandler.add(e),yield this.queue.enqueue(e)})}content(){return`\n  <h1 class="scene-title">Queue - Circular queue</h1>\n  <p>\n    Take a look at that array on the right-hand side. That's the queue implementation.\n  </p>\n  <p>\n    The first element of the queue is <span style="color: #a0ff6f; font-weight: bold">${this.firstValue}</span>,\n    and the last element is <span style="color: #ff9494; font-weight: bold">${this.lastValue}</span>.\n  </p>\n  <p>\n    Current queue configuration was achieved using consecutive enqueue and dequeue operations,\n    without moving elements to the left when dequeueing.\n  </p>\n  <p>\n    Now, utilizing the previously learned way of appending element ${this.toEnqueue}\n    to the end of the array won't work. Even though the array itself isn't completely full,\n    we can't simply add an element to it.\n  </p>\n  <p>\n    That is why a circular variant of the queue is implemented. Now, we're not simply adding\n    an element to the end of array. Instead, imagine we're checking if the last element is at the last index\n    of the array. If it is, we'll check if there is empty space at the beginning of the array and out new last element\n    will be placed there this time.\n  </p>\n  <p>\n    Only, we can avoid that checking if the last element is at the last index, and simply insert\n    our new element (which will be denoted as the last element of the queue) at the index\n    [(i + 1) % N] where <em>i</em> is index of the last element of the queue and N is capacity of the array.\n  </p>\n  <p>\n    Moreover, we can avoid that checking process and simply insert\n    our new element (which will be denoted as the last element of the queue) at the index\n    [(i + 1) % N] where <em>i</em> is index of the last element of the queue and N is capacity of the array.\n  </p>\n  <p>\n    Let's see how this works by enqueueing ${this.toEnqueue}.\n  </p>\n  `}successContent(){return`\n  <p>\n    After successfully enqueueing the value ${this.toEnqueue}, it has became the new last element.\n  </p>\n  <small>\n    The same principle goes for dequeueing as well, where the first element would\n    be placed at the index [0] after dequeueing an element from the index [${this.capacity}].\n  </small>\n    `}}];var Ev=Sv;const kv=new wv("Linked list","linked-list","Prepending, appending, insertion and removing the elements");kv.cover="scenarios/linked-list/cover.png",kv.scenes=[class{constructor(){this.id=0,this.played="unplayable"}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e);const n=t.objectFactory.create("singlyLinkedList",0,0);t.linkedListHandler.add(n);for(const t of e)yield n.append(t,!1)})}play(t){}content(){return'\n  <h1 class="scene-title">Linked list</h1>\n  <p>\n    Liked list represents a sequence of connected elements in form of nodes.\n  </p>\n  <p>\n    Each node contains:\n  </p>\n  <ul>\n    <li>\n      Data (a value which it holds);\n    </li>\n    <li>\n      Link towards the next node in the sequence;\n    </li>\n    <li>\n      Link towards the previous node in the sequence\n      <small>If it\'s a doubly linked list</small>.\n    </li>\n  </ul>\n  <p>\n    There is one reference to the first node in the list, and it is called <em>head</em>,\n    as well as one reference to the last node in the list, and it is called <em>tail</em>.\n  </p>\n  <p>\n    Every node is referencing its only successor, and the last node\n    does not have a link to any node.\n  </p>\n  '}successContent(){return""}},class{constructor(){this.id=0,this.played="not_played",this.newElement=23.11}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.list=t.objectFactory.create("singlyLinkedList",0,0),t.linkedListHandler.add(this.list);for(const t of e)yield this.list.append(t,!1)})}play(t){return Cy(this,void 0,void 0,function*(){const e=new wy(this.newElement,-1,this.list.x,this.list.y-200);t.nodeHandler.add(e),yield this.list.prepend(e)})}content(){return`\n  <h1 class="scene-title">Linked list - prepend</h1>\n  <p>\n    One main advantage of linked lists over arrays is that it is possible to add an\n    element to the beginning of a list without moving any other node.\n  </p>\n  <p>\n    Since nodes might be scattered everywhere in the memory, a new node is added and:\n  </p>\n  <ul>\n    <li>\n      <em>Head</em> now references the new node;\n    </li>\n    <li>\n      The new node references previous first node.\n    </li>\n  </ul>\n  <p>\n    Now, let's add ${this.newElement} to the beginning of the linked list.\n  </p>\n  `}successContent(){return`\n  <p>\n    Node with value ${this.newElement} is now added to the linked list, it is referenced by <em>head</em> and it\n    references the same node <em>head</em> was referencing prior to this insertion.\n  </p>\n    `}},class{constructor(){this.id=0,this.played="not_played",this.currentLast=-1,this.newElement=23.11}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.list=t.objectFactory.create("singlyLinkedList",0,0),t.linkedListHandler.add(this.list);for(const t of e)yield this.list.append(t,!1);this.currentLast=e[e.length-1].value})}play(t){return Cy(this,void 0,void 0,function*(){const e=new wy(this.newElement,-1,this.list.x,this.list.y-200);t.nodeHandler.add(e),yield this.list.append(e)})}content(){return`\n  <h1 class="scene-title">Linked list - prepend</h1>\n  <p>\n    The data structure on the right-hand side is a singly linked list.\n  </p>\n  <p>\n    Now, let's see how to add an element with value ${this.newElement} to the end of a linked list.\n  </p>\n  <p>\n    Appending is performed as follows:\n  </p>\n  <ul>\n    <li>Get node referenced by <em>tail</em>;</li>\n    <li>Set the new node as its successor;</li>\n    <li>Set <em>tail's</em> reference to be the new node.</li>\n  </ul>\n  `}successContent(){return`\n  <p>\n    Node with value ${this.newElement} is now added to the linked list, it is referenced by and it\n    doesn't have a successor. However, it is referenced by both the node with value ${this.currentLast}\n    and <em>tail</em>.\n  </p>\n    `}},class{constructor(){this.id=3,this.played="not_played",this.insertionIndex=-1,this.newElement=23.11}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.list=t.objectFactory.create("singlyLinkedList",0,0),t.linkedListHandler.add(this.list);for(const t of e)yield this.list.append(t,!1);this.insertionIndex=Math.floor(e.length/2)})}play(t){return Cy(this,void 0,void 0,function*(){const e=new wy(this.newElement,-1,this.list.x,this.list.y-200);t.nodeHandler.add(e),yield this.list.insert(e,this.insertionIndex)})}content(){return'\n  <h1 class="scene-title">Linked list - insertion after a given index</h1>\n  <p>\n    Inserting an element to a linked list wouldn\'t be too complicated if\n    there were an easy way to find out where that index is.\n  </p>\n  <p>\n    That being said, finding an element at a given index has to be performed by\n    traversing successors and counting how many nodes were passed at every\n    given iteration.\n  </p>\n  <p>\n    After finding an element at a given index, insertion consists of a few steps which involve the\n    predecessor and the successor of the new node:\n  </p>\n  <ul>\n    <li>\n      New predecessor now references the new node.\n    </li>\n    <li>\n      The new node now references the new successor.\n    </li>\n  </ul>\n  '}successContent(){return`\n  <p>\n    Node with value ${this.newElement} is now inserted after the index ${this.insertionIndex} of the linked list.\n  </p>\n    `}},class{constructor(){this.id=0,this.played="not_played",this.toPop=-1,this.newFirst=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.list=t.objectFactory.create("singlyLinkedList",0,0),t.linkedListHandler.add(this.list);for(const t of e)yield this.list.append(t,!1);this.toPop=e[0].value,this.newFirst=e[1].value})}play(t){return Cy(this,void 0,void 0,function*(){yield this.list.popFirst()})}content(){return`\n  <h1 class="scene-title">Linked list - pop first node</h1>\n  <p>\n    In order to remove the element which is placed at the beginning of a linked list,\n    it is necessary to simply reverse steps from insertion at the beginning, that is:\n  </p>\n  <ul>\n    <li>\n      Get the node referenced by ${this.toPop}, which is ${this.newFirst};\n    </li>\n    <li>\n      Set <em>head</em> to reference the node with value ${this.newFirst}.\n    </li>\n  </ul>\n  <p>\n    Now, let's visualize that.\n  </p>\n  `}successContent(){return`\n  <p>\n    Node with value ${this.toPop} is now popped from the linked list and node with value\n    ${this.newFirst} is referenced by <em>head</em>.\n  </p>\n    `}},class{constructor(){this.id=0,this.played="not_played",this.toPop=-1,this.newLast=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.list=t.objectFactory.create("singlyLinkedList",0,0),t.linkedListHandler.add(this.list);for(const t of e)yield this.list.append(t,!1);this.toPop=e[e.length-1].value,this.newLast=e[e.length-2].value})}play(t){return Cy(this,void 0,void 0,function*(){yield this.list.popLast()})}content(){return`\n  <h1 class="scene-title">Linked list - pop the last node</h1>\n  <p>\n    In order to remove the element which is placed at the end of a linked list,\n    the process is quite complicated.\n  </p>\n  <p>\n    Since it is impossible to directly get the predecessor of ${this.toPop},\n    the entire linked list has to be traversed in order to find a node which\n    references ${this.toPop}. That node is its predecessor\n  </p>\n  <p>\n    The steps required in order to delete an element from the end of the linked list are:\n  </p>\n  <ul>\n    <li>\n      Get the node referenced by <em>tail</em>, which is ${this.toPop};\n    </li>\n    <li>\n      Iterate and find its predecessor, that is ${this.newLast};\n    </li>\n    <li>\n      Delete predecessor's reference and set <em>tail</em> to reference predecessor.\n    </li>\n  </ul>\n  <p>\n    Press play in order to see how all of that works in practice.\n  </p>\n  `}successContent(){return`\n  <p>\n    Node with value ${this.toPop} is now popped from the linked list and node with value\n    ${this.newLast} is referenced by <em>tail</em>, but it doesn't reference any node at all.\n  </p>\n    `}},class{constructor(){this.id=3,this.played="not_played",this.toDelete=-1,this.deletionIndex=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.list=t.objectFactory.create("singlyLinkedList",0,0),t.linkedListHandler.add(this.list);for(const t of e)yield this.list.append(t,!1);this.deletionIndex=Math.floor(e.length/2),this.toDelete=e[this.deletionIndex].value})}play(t){return Cy(this,void 0,void 0,function*(){yield this.list.delete(this.deletionIndex)})}content(){return`\n  <h1 class="scene-title">Linked list - deletion at a given index</h1>\n  <p>\n    Deleting an element from the linked list is performed similarly to deleting\n    from the beginning, with the exception that the element at the given index\n    must be found prior to that.\n  </p>\n  <p>\n    Finding an element at a given index has to be performed by\n    traversing successors and counting how many nodes were passed at every\n    given iteration.\n  </p>\n  <p>\n    After finding an element at a given index, deletion consists of one step where\n    predecessor of the <em>target</em> node now references <em>target</em> node's\n    successor.\n  </p>\n  <p>\n    Now, let's delete element at the index ${this.deletionIndex}.\n  </p>\n  `}successContent(){return`\n  <p>\n    Node with value ${this.toDelete} is now deleted from the index ${this.deletionIndex} of the linked list.\n  </p>\n    `}}];var Tv=kv;const Av=new wv("Heap","heap","Extracting the minimum value, insertion and deletion.");Av.cover="scenarios/heap/cover.png",Av.scenes=[class{constructor(){this.id=0,this.played="unplayable"}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e);const n=t.objectFactory.create("heap",0,0);t.heapHandler.add(n);for(const t of e)yield n.insert(t,!1)})}play(t){}content(){return"\n  <h1 class=\"scene-title\">Tree - Binary tree</h1>\n  <p>\n    A <em>tree</em> is a data structure consisting of nodes which are placed in a\n    hierarchical order.\n  </p>\n  <p>\n    In general, each node individually has a parent node and an arbitrary number of children nodes.\n    That means that every single node of a tree contains its own set of children nodes. Finding a\n    parent of some <b>target</b> node in the tree is only a matter of knowing which node contains\n    <b>target</b> node as an element in its children set.\n  </p>\n  <p>\n    The first node of a tree, the topmost one which doesn't have any parents is called the\n    <em>root</em> node.\n  </p>\n  <p>\n    Nodes which do not have any children are called <em>leaf</em> nodes, and they are\n    last nodes of every branch in a tree.\n  </p>\n  <p>\n    Looking at a particular <b>target</b> node in a tree and all of its descendants, that portion can\n    be considered as a <em>subtree</em>.\n  </p>\n  <p>\n    <em>Height</em> of a <b>target</b> node is the longest distance to a leaf in its subtree. That is, the highest number of nodes\n    which have to be passed on a path from the <b>target</b> node to any leaf which is a descendant of that <b>target</b> node.\n  </p>\n  <p>\n    Type of a tree covered here is called a <em>binary tree</em>. It's a tree where each node has two children nodes\n    at most\n  </p>\n\n  "}successContent(){return""}},class{constructor(){this.id=1,this.played="unplayable"}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e);const n=t.objectFactory.create("heap",0,0);t.heapHandler.add(n);for(const t of e)yield n.insert(t,!1)})}play(t){}content(){return"\n  <h1 class=\"scene-title\">Heap</h1>\n  <p>\n    Heap is a type of <em>complete binary tree</em>.\n  </p>\n  <p>\n    <em>Binary</em> means that each node has at most two children nodes, whereas\n    <em>complete</em> means that every node (except root and rightmost leaf) must have\n    a sibling.\n  </p>\n  <p>\n    The tree on the right-hand side is a such a complete binary tree. Besides being\n    complete and binary, heap has some other properties:\n  </p>\n  <ul>\n    <li>\n        In a max heap, children contain value which is lower than their parent's value.\n    </li>\n    <li>\n        In a <em>min heap</em>, children contain value which is higher than their parent's value.\n        That means the root is holding the minimum value in the heap.\n    </li>\n  </ul>\n  <small>Heap on the right side is a min-heap, right?</small>\n  <p>\n    Press next to see how that minimum value is extracted :D\n  </p>\n  "}successContent(){return""}},class{constructor(){this.id=2,this.played="not_played",this.minValue=-1,this.newRootValue=-1,this.newProperRootValue=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.heap=t.objectFactory.create("heap",0,0),t.heapHandler.add(this.heap);for(const t of e)yield this.heap.insert(t,!1);this.minValue=this.heap.getRoot().node.value,this.newRootValue=this.heap._data[this.heap.size-2].node.value})}play(t){return Cy(this,void 0,void 0,function*(){yield this.heap.deleteNodeFromCell(this.heap.getRoot()),this.newProperRootValue=this.heap.getRoot().node.value})}content(){return`\n  <h1 class="scene-title">Extract minimum</h1>\n  <p>\n    As the tree on the right-hand side is a min-heap, a node with the minimum value can\n    be found in the heap's root.\n  </p>\n  <p>\n    Extraction isn't that complicated:\n  </p>\n  <ol>\n    <li>\n      Swap the root node with the last leaf, which contains value ${this.newRootValue};\n    </li>\n    <li>\n      Extract value from the last leaf, which is now minimum ${this.minValue};\n    </li>\n    <li>\n      Propagate new root value down the heap, in order to restore heap order.\n    </li>\n  </ol>\n  <p>\n    Press play to see how that works in practice!\n  </p>\n  `}successContent(){return`\n  <p>\n    Order of the heap is successfully restored and ${this.newRootValue} was\n    propagated down the tree, so ${this.newProperRootValue} became the new root value by\n    swapping nodes all the way down the heap.\n  </p>\n    `}},class{constructor(){this.id=3,this.played="not_played",this.newElement=-9.31}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.heap=t.objectFactory.create("heap",0,0),t.heapHandler.add(this.heap);for(const t of e)yield this.heap.insert(t,!1)})}play(t){return Cy(this,void 0,void 0,function*(){const e=new wy(this.newElement,-1,this.heap.x,this.heap.y-200);t.nodeHandler.add(e),yield this.heap.insert(e)})}content(){return`\n  <h1 class="scene-title">Heap insertion</h1>\n  <p>\n    Inserting an element to a heap is done by simply inserting a\n    node as its last leaf and then propagating it up the heap\n    in order to find its correct position.\n  </p>\n  <ul>\n    <li>\n      Insert new node ${this.newElement} to the heap's last leaf;\n    </li>\n    <li>\n      Swap the node contatining ${this.newElement} and its parent as long as\n      the node's value is lower than its parent's value.\n    </li>\n  </ul>\n  `}successContent(){return`\n  <p>\n    Node with value ${this.newElement} is now inserted and the heap order is restored.\n  </p>\n    `}},class{constructor(){this.id=0,this.played="not_played",this.toDelete=-1,this.newRoot=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e),this.heap=t.objectFactory.create("heap",0,0),t.heapHandler.add(this.heap);for(const t of e)yield this.heap.insert(t,!1);this.toDelete=e[3]!==this.heap.getRoot().node?e[3].value:e[2].value})}play(t){return Cy(this,void 0,void 0,function*(){yield this.heap.delete(this.toDelete)})}content(){return`\n  <h1 class="scene-title">Heap - deletion</h1>\n  <p>\n    In order to remove an element with a given value, firstly the heap\n    from the right-hand side has to be searched using breadth-first-search\n    for that value.\n  </p>\n  <p>\n    After finding the target node, it is swapped with the last leaf\n    of the heap, just like it was the case with extracting the minimum\n    value.\n  </p>\n  <p>\n    Then, the last node is removed from the heap, and the remaining\n    swapped node is propagated down the heap in order to restore\n    heap properties.\n  </p>\n  <p>\n    Let's see how all this works with the value ${this.toDelete}.\n  </p>\n  `}successContent(){return`\n  <p>\n    Node with value ${this.toDelete} is now removed from the heap, and\n    the its order is restored.\n  </p>\n    `}}];var Mv=Av;const Nv=new wv("Binary search tree","binary-search-tree","Insertion, deletion and searching in a binary search tree");Nv.cover="scenarios/binary-search-tree/cover.png",Nv.scenes=[class{constructor(){this.id=0,this.played="unplayable",this.rootValue=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e);const n=t.objectFactory.create("bst",0,0);t.bstHandler.add(n);for(const t of e)yield n.insert(t,!1);this.rootValue=n.getRoot().node.value})}play(t){}content(){return`\n  <h1 class="scene-title">Binary search tree</h1>\n  <p>\n    Binary search tree is a <a href="/visualize/heap">binary tree</a> which has the following properties:\n  </p>\n  <ul>\n    <li>\n       Every descendant of a node starting from its <em>left</em> child, i.e. every node in the left subtree\n       has a lower value than that of the given node;\n    </li>\n    <li>\n       Every descendant of a node starting from its <em>right</em> child, i.e. every node in the right subtree\n       has a higher value than that of the given node;\n    </li>\n    <li>\n        Aforementioned properties apply for every single node of a binary search tree.\n    </li>\n  </ul>\n  <p>\n    Looking at the right-hand side, root of the tree has a value of ${this.rootValue}, and\n    every node starting from its left child has a lower value, whereas every node\n    from the right subtree has a higher value.\n  </p>\n  <p>\n    Let's see how binary search tree makes searching more efficient!\n  </p>\n  `}successContent(){return""}},class{constructor(){this.id=1,this.played="not_played",this.searchValue=-1,this.rootValue=-1,this.rightOrLeft="left"}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(12);t.nodeHandler.add(e),this.bst=t.objectFactory.create("bst",0,0),t.bstHandler.add(this.bst);for(const t of e)yield this.bst.insert(t,!1);this.searchValue=e[6]!==this.bst.getRoot().node?e[6].value:e[7].value,this.rootValue=this.bst.getRoot().node.value,this.rightOrLeft=this.searchValue<this.rootValue?"left":"right"})}play(t){return Cy(this,void 0,void 0,function*(){yield this.bst.find(this.searchValue)})}content(){return`\n  <h1 class="scene-title">Searching</h1>\n  <p>\n    Searching in a binary search tree is quite a simple procedure.\n  </p>\n  <p>\n    The algorithm depends on the property of BST that each left\n    subtree has values lower than an observed node and each right subtree has values higher than the node.\n  </p>\n  <p>\n    If the value we are looking for is lower than the current node, we can say for sure that the value is not in the right subtree; we\n    need to only search in the left subtree and if the value is above the node, we can say for sure that the value is not in the left\n    subtree; we need to only search in the right subtree.\n  </p>\n  <p>\n    Let's try to find ${this.searchValue} in the tree.\n  </p>\n  `}successContent(){return`\n  <p>\n    When we are searching for the node with value ${this.searchValue} in the binary tree from the right-hand side,\n    we will first check the root. The value placed in the root is ${this.rootValue}, so we checked its\n    ${this.rightOrLeft} subtree.\n  </p>\n  <small>\n    There is a chance we won't find our desired value, and we will know that it isn't present in the tree\n    when we come across a leaf.\n  </small>\n    `}},class{constructor(){this.id=2,this.played="not_played",this.searchValue=-1,this.rootValue=-1,this.rightOrLeft="left"}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(8);e.sort((t,e)=>t.value>e.value?1:t.value===e.value?0:-1),t.nodeHandler.add(e),this.bst=t.objectFactory.create("bst",0,0),t.bstHandler.add(this.bst);for(const t of e)yield this.bst.insert(t,!1);this.searchValue=e[6].value})}play(t){return Cy(this,void 0,void 0,function*(){yield this.bst.find(this.searchValue)})}content(){return`\n  <h1 class="scene-title">Searching - imbalance</h1>\n  <p>\n    There is a chance that we might insert nodes in an increasing or decreasing order.\n  </p>\n  <p>\n    Then, our binary search tree will look like it looks on the right side.\n  </p>\n  <p>\n    Now, finding ${this.searchValue} is just like searching for that same value in a linked list.\n  </p>\n  <small>This tree leans towards the right side and it's completely unbalanced.\n  If the nodes were evenly spread, this tree would have been balanced</small>\n  `}successContent(){return`\n  <p>\n    While searching for ${this.searchValue}, our only option was to go down through right children, and\n    after visiting almost each node, we have found ${this.searchValue}.\n  </p>\n    `}},class{constructor(){this.id=2,this.played="not_played",this.toAdd=2.31}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(8);t.nodeHandler.add(e),this.bst=t.objectFactory.create("bst",0,0),t.bstHandler.add(this.bst);for(const t of e)yield this.bst.insert(t,!1)})}play(t){return Cy(this,void 0,void 0,function*(){const e=new wy(this.toAdd,-1,this.bst.x,this.bst.y-200);t.nodeHandler.add(e),yield this.bst.insert(e)})}content(){return`\n  <h1 class="scene-title">Insertion</h1>\n  <p>\n    Inserting a value in the correct position is similar to searching\n    because we try to maintain the rule that a node's left subtree is lower\n    than the node and the right subtree is higher than the node.\n  </p>\n  <p>\n    Using that rule, after reaching a leaf, we place our new node on that position.\n  </p>\n  <p>\n    So, let's add ${this.toAdd} to the tree.\n  </p>\n  `}successContent(){return`\n  <p>\n    A node with value ${this.toAdd} was successfully placed on a leaf's position, and\n    all the properties of the binary search tree still apply.\n  </p>\n    `}},class{constructor(){this.id=2,this.played="not_played",this.toRemove=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(8);t.nodeHandler.add(e),this.bst=t.objectFactory.create("bst",0,0),t.bstHandler.add(this.bst);for(const t of e)yield this.bst.insert(t,!1);const n=this.getNodeWithoutChildren(this.bst);this.toRemove=n.node.value})}play(t){return Cy(this,void 0,void 0,function*(){yield this.bst.delete(this.toRemove)})}getNodeWithoutChildren(t){let e=t.getRoot();for(;t.getLeftChild(e).node||t.getRightChild(e).node;){const n=t.getLeftChild(e);if(n.node){e=n;continue}const i=t.getRightChild(e);i.node&&(e=i)}return e}content(){return`\n  <h1 class="scene-title">Deletion - No children</h1>\n  <p>\n    It's quite complicated to delete an element from a binary search tree. There are\n    three cases:\n  </p>\n  <ol>\n    <li>\n      <b><small>The node we're deleting</small> doesn't have any children (its children are empty leaves);</b>\n    </li>\n    <li>\n      <small>The node we're deleting</small> has only one child (the other one is an empty leaf);\n    </li>\n    <li>\n      <small>The node we're deleting</small> has two children.\n    </li>\n  </ol>\n  <p>\n    Now, let's see the first case and remove the node with value ${this.toRemove}.\n  </p>\n  `}successContent(){return`\n  <p>\n    This case was quite simple, and the node containing ${this.toRemove} was simply deleted from\n    the tree.\n  </p>\n    `}},class{constructor(){this.id=5,this.played="not_played",this.toRemove=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(8);e.sort((t,e)=>t.value>e.value?1:t.value===e.value?0:-1),t.nodeHandler.add(e),this.bst=t.objectFactory.create("bst",0,0),t.bstHandler.add(this.bst);for(const t of e)yield this.bst.insert(t,!1);this.toRemove=e[3].value})}play(t){return Cy(this,void 0,void 0,function*(){yield this.bst.delete(this.toRemove)})}content(){return`\n  <h1 class="scene-title">Deletion - One child</h1>\n  <p>\n    It's quite complicated to delete an element from a binary search tree. There are\n    three cases:\n  </p>\n  <ol>\n    <li>\n      <small>The node we're deleting</small> doesn't have any children (its children are empty leaves);\n    </li>\n    <li>\n      <b><small>The node we're deleting</small> has only one child (the other one is an empty leaf);</b>\n    </li>\n    <li>\n      <small>The node we're deleting</small> has two children.\n    </li>\n  </ol>\n  <p>\n    Now, let's see the second case and remove the node with value ${this.toRemove}.\n  </p>\n  `}successContent(){return"\n  <p>\n    This case was a little bit more complicated than the previous one. Here, the node was deleted and\n    and its child took the node's place, that is parent of the <em>target</em> node now has child\n    of the <em>target</em> node set as its own child.\n  </p>\n    "}},class{constructor(){this.id=5,this.played="not_played",this.toRemove=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(8);e.sort((t,e)=>t.value>e.value?1:t.value===e.value?0:-1);const n=Math.floor(e.length/2),i=e[n];e.splice(n,1),t.nodeHandler.add(i),t.nodeHandler.add(e),this.bst=t.objectFactory.create("bst",0,0),t.bstHandler.add(this.bst),yield this.bst.insert(i,!1);for(const t of e)yield this.bst.insert(t,!1);this.toRemove=i.value})}play(t){return Cy(this,void 0,void 0,function*(){yield this.bst.delete(this.toRemove)})}content(){return`\n  <h1 class="scene-title">Deletion - Two children</h1>\n  <p>\n    It's quite complicated to delete an element from a binary search tree. There are\n    three cases:\n  </p>\n  <ol>\n    <li>\n      <small>The node we're deleting</small> doesn't have any children (its children are empty leaves);\n    </li>\n    <li>\n      <small>The node we're deleting</small> has only one child (the other one is an empty leaf);\n    </li>\n    <li>\n      <b><small>The node we're deleting</small> has two children.</b>\n    </li>\n  </ol>\n  <p>\n    Now, let's see the third case and remove the node with value ${this.toRemove}, which is a root node.\n  </p>\n  `}successContent(){return"\n  <p>\n    This case was the most complicated. Firstly, we had to find the right-most descendant in the left subtree\n    of this node, that descendant is the closest node with a lower value than the node we intend to delete.\n  </p>\n  <p>\n    Now, we swap the acquired descendant and <em>target</em> node. Since descendant was the rightmost node in a subtree,\n    it is obvious that it had one child at most, so we employ the tactics used for either the first or the second case.\n  </p>\n    "}}];var Iv=Nv;const Ov=new wv("Red-black tree","rb-avl","Insertion, deletion and searching in a Red-black tree ");Ov.cover="scenarios/rb-tree/cover.png",Ov.scenes=[class{constructor(){this.id=0,this.played="unplayable",this.rootValue=-1}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(6);t.nodeHandler.add(e);const n=t.objectFactory.create("rb",0,0);t.bstHandler.add(n);for(const t of e)yield n.insert(t,!1);this.rootValue=n.getRoot().node.value})}play(t){}content(){return'\n  <h1 class="scene-title">Red-black tree</h1>\n  <p>\n    In the previous section, there was one disadvantageous property of a Binary search tree. That is,\n    if nodes were added in a specific order, tree might become unbalanced and many of its nodes\n    would lean to one side, thus reducing effectiveness of the tree and making it perform more\n    like a linked list.\n  </p>\n  <p>\n    Therefore, Red-black trees are implemented in order to eliminate that imbalance which is present in\n    an ordinary Binary search tree. After every insertion or deletion, some form of rebalancing is performed\n    in order to make tree more effective.\n  </p>\n  <p>\n    Red-black trees have all the properties an ordinary binary search trees have, and additionaly:\n  </p>\n  <ul>\n    <li>\n      The <span style="color: #868686;">root</span> is black;\n    </li>\n    <li>\n      All children of a <span style="color: #bb4848;">red node</span> are <span style="color: #868686;">black</span>;\n    </li>\n    <li>\n      For each node, any simple path from this node to any of its descendant leaf has the same number of black nodes;\n    </li>\n    <li>\n        All leaves are <span style="color: #868686;">black</span>.\n    </li>\n  </ul>\n  <p>\n    As searching works the same as in an ordinary binary search tree, only insertion and deletion will be presented.\n  </p>\n  '}successContent(){return""}},class{constructor(){this.id=2,this.played="not_played",this.toAdd=2.31}setup(t){return Cy(this,void 0,void 0,function*(){const e=this.createNodes(t,[20,10,30]);t.nodeHandler.add(e),this.bst=t.objectFactory.create("rb",0,0),t.bstHandler.add(this.bst);for(const t of e)yield this.bst.insert(t,!1)})}createNodes(t,e){const n=[];for(const i of e)n.push(t.objectFactory.create("node",0,0,i));return n}play(t){return Cy(this,void 0,void 0,function*(){const e=t.objectFactory.create("node",this.bst.x,this.bst.y-200,this.toAdd);t.nodeHandler.add(e),yield this.bst.insert(e)})}content(){return`\n  <h1 class="scene-title">Insertion - first case</h1>\n  <p>\n    Since Red-black tree is a type of Binary search tree, insertion is quite similar.\n  </p>\n  <p>\n    Essential difference lies in operations after the actual insertion. At that point,\n    the tree might become unbalanced, i.e. some of the previously mentioned properties of a\n    red-black tree might become compromised.\n  </p>\n  <p>\n    Firstly, the newly inserted node is colored red, and properties of the tree are checked afterwards.\n    If the parent of our newly inserted node is black, then we don't need to restructure the tree.\n    However, if its parent is colored red, then there are three cases we need to check for.\n  </p>\n  <p>\n    The first case occurs if new node's uncle (parent's sibling) is <span style="color: #bb4848;">red</span>.\n    Then, both of those nodes should be colored in black and their parent (new node's grandparent) should be\n    colored red.\n  </p>\n  <p>\n    This recoloring procedure then propagates up the tree to our new node's grandparent, where everything is checked\n    for again.\n  </p>\n  <small>If our new node's grandparent was root, then we will recolor it back to black no matter what.</small>\n  <p>\n    Let's now see this case on the tree on the right-hand side by inserting ${this.toAdd}.\n  </p>\n  `}successContent(){return"\n  <p>\n    All the properties of red-black tree are restored now by performing recoloring.\n  </p>\n  <small>Since our new node's grandparent was root, it was recolored to black.</small>\n    "}},class{constructor(){this.id=2,this.played="not_played",this.toAdd=45}setup(t){return Cy(this,void 0,void 0,function*(){const e=this.createNodes(t,[20,10,30,40]);t.nodeHandler.add(e),this.bst=t.objectFactory.create("rb",0,0),t.bstHandler.add(this.bst);for(const t of e)yield this.bst.insert(t,!1)})}createNodes(t,e){const n=[];for(const i of e)n.push(t.objectFactory.create("node",0,0,i));return n}play(t){return Cy(this,void 0,void 0,function*(){const e=t.objectFactory.create("node",this.bst.x,this.bst.y-200,this.toAdd);t.nodeHandler.add(e),yield this.bst.insert(e)})}content(){return`\n  <h1 class="scene-title">Insertion - second case</h1>\n\n  <p>\n    The second case occurs when new node's uncle is either black or doesn't even exist\n    (opposite to the first case), and:\n  </p>\n  <ul>\n    <li>\n      New node is the right child of its parent;\n    </li>\n    <li>\n      New node's parent is the right child of its own parent (new node's grandparent).\n    </li>\n  </ul>\n  <p>or symmetrically both are left children of their respective parents.</p>\n  <p>\n    Now let's see the situation where where all three of nodes will be aligned\n    as right children.\n  </p>\n  <p>\n    The new node's parent and grandparent will get left-rotated (or right-rotated if the position were symmetrical)\n    and grandparent will become the left child of the new node's parent.\n  </p>\n  <small>Checking propagates up the tree where new node's parent is checked next</small>\n  <p>\n    By adding a node with the value ${this.toAdd} to the right-hand side tree,\n    it will become unbalanced and that imbalance will be regareded as the second case.\n  </p>\n  `}successContent(){return`\n  <p>\n    All the properties of red-black tree are restored now by performing tri-node-restructuring.\n  </p>\n  <p>\n    Adding ${this.toAdd} has caused imbalance, so nodes with values 30 and 40 got left-rotated, and\n    30 become 40's left child, whereas ${this.toAdd} is 40's right child.\n  </p>\n  <p>\n    During the same process, 30 was colored <span style="color: #bb4848;">red</span> and 40\n    was colored <span style="color: #868686;">black</span>.\n  </p>\n  <p>\n    Checking was propagated up the tree and since 20 was already colored <span style="color: #868686;">black</span>,\n    alhorithm new that balance was restored.\n  </p>\n    `}},class{constructor(){this.id=2,this.played="not_played",this.toAdd=35}setup(t){return Cy(this,void 0,void 0,function*(){const e=this.createNodes(t,[20,10,30,40]);t.nodeHandler.add(e),this.bst=t.objectFactory.create("rb",0,0),t.bstHandler.add(this.bst);for(const t of e)yield this.bst.insert(t,!1)})}createNodes(t,e){const n=[];for(const i of e)n.push(t.objectFactory.create("node",0,0,i));return n}play(t){return Cy(this,void 0,void 0,function*(){const e=t.objectFactory.create("node",this.bst.x,this.bst.y-200,this.toAdd);t.nodeHandler.add(e),yield this.bst.insert(e)})}content(){return`\n  <h1 class="scene-title">Insertion - third case</h1>\n\n  <p>\n    The thid case occurs when new node's uncle is either black or doesn't even exist\n    (opposite to the first case), and:\n  </p>\n  <ul>\n    <li>\n      New node is the left child of its parent;\n    </li>\n    <li>\n      New node's parent is the right child of its own parent (new node's grandparent).\n    </li>\n  </ul>\n  <p>or symmetrically new node is the right child and its parent is the left child of their respective parents.</p>\n  <p>\n    Now let's see the situation where new node is right, and its parent is the left child.\n  </p>\n  <p>\n    Firstly, there will be right-rotation (or left-rotation if the position were symmetrical)\n    of the new node and its parent. Therefore, the position from the second case is formed,\n    and those same operations that occurred in the second case can be performed.\n  </p>\n  <p>\n    The new node's parent and grandparent will get left-rotated (or right-rotated if the position were symmetrical)\n    and grandparent will become the left child of the new node's parent.\n  </p>\n  <small>Checking propagates up the tree where new node's parent is checked next</small>\n  <p>\n    By adding a node with the value ${this.toAdd} to the right-hand side tree,\n    it will become unbalanced and that imbalance will be regareded as the third case.\n  </p>\n  `}successContent(){return`\n  <p>\n    All the properties of red-black tree are restored now by performing tri-node-restructuring.\n  </p>\n  <p>\n    Adding ${this.toAdd} has caused imbalance, so that new node with value ${this.toAdd} and the node with value 40 got rotated,\n    after which the node ${this.toAdd} and 30 rotated left.\n  </p>\n  <p>\n    During the same process, 30 was colored <span style="color: #bb4848;">red</span> and ${this.toAdd}\n    was colored <span style="color: #868686;">black</span>.\n  </p>\n  <p>\n    Checking was propagated up the tree and since 20 was already colored <span style="color: #868686;">black</span>,\n    alhorithm new that balance was restored.\n  </p>\n    `}},class{constructor(){this.id=2,this.played="not_played",this.toDelete=40}setup(t){return Cy(this,void 0,void 0,function*(){const e=this.createNodes(t,[30,10,40,20]);t.nodeHandler.add(e),this.bst=t.objectFactory.create("rb",0,0),t.bstHandler.add(this.bst);for(const t of e)yield this.bst.insert(t,!1)})}createNodes(t,e){const n=[];for(const i of e)n.push(t.objectFactory.create("node",0,0,i));return n}play(t){return Cy(this,void 0,void 0,function*(){yield this.bst.delete(this.toDelete)})}content(){return`\n  <h1 class="scene-title">Deletion - first case</h1>\n\n  <p>\n    Deletion of a node from a red-black tree is quite similar to that of an ordinary\n    binary search tree, with the exception that, if a black node is deleted, black depth\n    property is violated and balance has to be restored.\n  </p>\n  <p>\n    If the deleted node was colored black, then its sibling's subtree is checked, and thus\n    three different cases are formed.\n  </p>\n  <p>\n    The first case occurs when the deleted node's sibling is black and has a red child. In that\n    situation, tri-node-restructuring is performed.\n  </p>\n  <p>\n    After removing ${this.toDelete} from the tree on the right-hand side, the first case will occur.\n  </p>\n  `}successContent(){return"\n  <p>\n    All the properties of red-black tree are restored now by performing tri-node-restructuring.\n  </p>\n  <small>\n    Checking wasn't propagated up the tree.\n  </small>\n    "}},class{constructor(){this.id=2,this.played="not_played",this.toDelete=40}setup(t){return Cy(this,void 0,void 0,function*(){const e=this.createNodes(t,[30,10,40,5]);t.nodeHandler.add(e),this.bst=t.objectFactory.create("rb",0,0),t.bstHandler.add(this.bst);for(const t of e)yield this.bst.insert(t,!1);const[n]=yield this.bst.delete(5,!1);t.nodeHandler.remove(n)})}createNodes(t,e){const n=[];for(const i of e)n.push(t.objectFactory.create("node",0,0,i));return n}play(t){return Cy(this,void 0,void 0,function*(){yield this.bst.delete(this.toDelete)})}content(){return`\n  <h1 class="scene-title">Deletion - second case</h1>\n\n  <p>\n    In the second case, sibling is colored black and both of its children are\n    black, recoloring is performed so sibling becomes red and the deleted\n    node's parent becomes black.\n  </p>\n  <p>\n    If the deleted node's parent was red, checking is propagated up the tree.\n  </p>\n  <p>\n    This case is demonstrated on the right-hand side by deletion of ${this.toDelete}\n    from the tree.\n  </p>\n  `}successContent(){return"\n  <p>\n    All the properties of red-black tree are restored now by performing tri-node-restructuring.\n  </p>\n  <small>\n    In this case, since 30 was root and thus black, checking wasn't propagated up the tree.\n  </small>\n    "}},class{constructor(){this.id=2,this.played="not_played",this.toDelete=35}setup(t){return Cy(this,void 0,void 0,function*(){const e=this.createNodes(t,[30,10,40,5,15,35,45,17]);t.nodeHandler.add(e),this.bst=t.objectFactory.create("rb",0,0),t.bstHandler.add(this.bst);for(const t of e)yield this.bst.insert(t,!1);const[n]=yield this.bst.delete(40,!1);t.nodeHandler.remove(n)})}createNodes(t,e){const n=[];for(const i of e)n.push(t.objectFactory.create("node",0,0,i));return n}play(t){return Cy(this,void 0,void 0,function*(){yield this.bst.delete(this.toDelete)})}content(){return`\n  <h1 class="scene-title">Deletion - third case</h1>\n\n  <p>\n    In the third case, sibling is rotated along with the deleted node's parent,\n    so that sibling now becomes the parent to its previous parent. After that point,\n    recoloring is performed so that old parent becomes red and sibling (new parent) becomes\n    black.\n  </p>\n  <p>\n\n  </p>\n  <p>\n    This case is demonstrated on the right-hand side by deletion of ${this.toDelete}\n    from the tree.\n  </p>\n  `}successContent(){return"\n  <p>\n    All the properties of red-black tree are restored now by performing tri-node-restructuring.\n  </p>\n  <small>\n    In this case, since 30 was root and thus black, checking wasn't propagated up the tree.\n  </small>\n    "}}];var Dv=Ov;const Pv=new wv("Sort","sort","Bubble, insertion, selection, merge and quick sort.");Pv.cover="scenarios/sort/cover.png",Pv.scenes=[class{constructor(){this.id=0,this.played="unplayable"}setup(t){const e=t.objectFactory.create("array",0,0);t.arrayHandler.add(e)}play(t){}content(){return'\n  <h1 class="scene-title">Sorting</h1>\n  <p>\n    Sorting represents a process of reordering elements of a data structure according\n    according to a predefined factor.\n  </p>\n  <p>\n    The importance of sorting lies in the fact that data searching can be optimized to\n    a very high level, if data is stored in a sorted manner. Sorting is also used to represent data in more readable formats.\n  </p>\n  <p>\n    Sorting algorithms covered in this section are:\n  </p>\n  <ul>\n    <li>Bubble sort;</li>\n    <li>Insertion sort;</li>\n    <li>Selection sort;</li>\n    <li>Merge sort;</li>\n    <li>Quick sort.</li>\n  </ul>\n  <p>\n    Let\'s get started :)\n  </p>\n  '}successContent(){return""}},class{constructor(){this.id=0,this.played="not_played"}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(10);t.nodeHandler.add(e),this.array=t.objectFactory.create("array",0,0),t.arrayHandler.add(this.array);for(let t=0;t<e.length;++t)yield this.array.insertAt(e[t],t,!1)})}play(t){return Cy(this,void 0,void 0,function*(){this.array.sorting=new qy,yield this.array.sort()})}content(){return'\n  <h1 class="scene-title">Bubble sort</h1>\n  <p>\n    Bubble sort is a simple sorting algorithm that repeatedly steps through the list,\n    compares adjacent elements and swaps them if they are in the wrong order.\n    The pass through the list is repeated until the list is sorted. The algorithm\n    is named for the way smaller or larger elements "bubble" to the top of the list.\n  </p>\n  <p>\n    In this example, elements will be sorted in ascending order.\n  </p>\n\n  <p>\n    Press play to sort the elements\n  </p>\n  '}successContent(){return"\n  <p>\n    Bubble sort has a worst-case and average complexity of <em>\u041e(n<sup>2</sup>)</em>, where n is the\n    number of items being sorted. Most practical sorting algorithms have substantially\n    better worst-case or average complexity, often <em>\u041e(n logn)</em>. Even other  <em>\u041e(n<sup>2</sup>)</em> sorting\n    algorithms, such as insertion sort, generally run faster than bubble sort, and are no\n    more complex. Therefore, bubble sort is not a practical sorting algorithm.\n  </p>\n    "}},class{constructor(){this.id=0,this.played="not_played"}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(10);t.nodeHandler.add(e),this.array=t.objectFactory.create("array",0,0),t.arrayHandler.add(this.array);for(let t=0;t<e.length;++t)yield this.array.insertAt(e[t],t,!1)})}play(t){return Cy(this,void 0,void 0,function*(){this.array.sorting=new By,yield this.array.sort()})}content(){return'\n  <h1 class="scene-title">Insertion sort</h1>\n  <p>\n    Insertion sort is a simple sorting algorithm that maintains a sorted sub-list,\n    which is represented at the left side of the array. Iterating through the right subarray,\n    each element is chosen and then but in the left sub-list, but only between one element\n    which has a lower and the other which has a higher value.\n  </p>\n  <p>\n   The array elements are compared with each other sequentially and then arranged simultaneously\n   in some particular order. The analogy can be understood from the style we arrange a deck\n   of cards. This sort works on the principle of inserting an element at a particular position,\n   hence the name Insertion Sort.\n   </p>\n  <p>\n    In this example, elements will be sorted in ascending order.\n  </p>\n\n  <p>\n    Press play to sort the elements\n  </p>\n  '}successContent(){return"\n  <p>\n    The best case input is an array that is already sorted. In this case insertion sort\n    has a linear running time (i.e., <em>O(n)</em>). During each iteration, the first remaining\n    element of the input is only compared with the right-most element of the sorted\n    subsection of the array.\n  </p>\n  <p>\n     The simplest worst case input is an array sorted in reverse order. The set of all\n     worst case inputs consists of all arrays where each element is the smallest or\n     second-smallest of the elements before it. In these cases every iteration of the\n     inner loop will scan and shift the entire sorted subsection of the array before\n     inserting the next element. This gives insertion sort a quadratic running time\n     (i.e., <em>O(n<sup>2</sup>)</em>).\n  </p>\n  <p>\n     The average case is also quadratic, which makes insertion sort impractical for sorting\n     large arrays. However, insertion sort is one of the fastest algorithms for sorting very\n     small arrays, even faster than quicksort; indeed, good quicksort implementations use\n     insertion sort for arrays smaller than a certain threshold, also when arising as\n     subproblems; the exact threshold must be determined experimentally and depends on the machine,\n     but is commonly around ten.\n  </p>\n    "}},class{constructor(){this.id=0,this.played="not_played"}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(10);t.nodeHandler.add(e),this.array=t.objectFactory.create("array",0,0),t.arrayHandler.add(this.array);for(let t=0;t<e.length;++t)yield this.array.insertAt(e[t],t,!1)})}play(t){return Cy(this,void 0,void 0,function*(){this.array.sorting=new Uy,yield this.array.sort()})}content(){return'\n  <h1 class="scene-title">Selection sort</h1>\n  <p>\n    Selection sort is a simple sorting algorithm that maintains a sorted subarray,\n    which is represented at the left side of the array. Iterating through the unsorted right subarray,\n    the algorithm finds the maximum value there and simply puts it at the end of the\n    left subarray.\n  </p>\n  <p>\n    In this example, elements will be sorted in ascending order.\n  </p>\n\n  <p>\n    Press play to sort the elements\n  </p>\n  '}successContent(){return"\n\n  <p>\n    Among quadratic sorting algorithms (sorting algorithms with a simple average-case\n    of <em>\u0398(n<sup>2</sup>))</em>, selection sort almost always outperforms bubble sort.\n    However, insertion sort is very similar.\n  </p>\n  <p>\n    Finally, selection sort is greatly outperformed on larger arrays by divide-and-conquer\n    algorithms such as mergesort or quicksort. However, insertion sort or selection sort\n    are both typically faster for small arrays (i.e. fewer than 10\u201320 elements).\n  </p>\n    "}},class{constructor(){this.id=0,this.played="not_played"}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(10);t.nodeHandler.add(e),this.array=t.objectFactory.create("array",0,0),t.arrayHandler.add(this.array);for(let t=0;t<e.length;++t)yield this.array.insertAt(e[t],t,!1)})}play(t){return Cy(this,void 0,void 0,function*(){this.array.sorting=new $y,yield this.array.sort()})}content(){return"\n  <h1 class=\"scene-title\">Merge sort</h1>\n  <p>\n    Merge Sort is one of the most popular sorting algorithms that is based on the\n    principle of Divide and Conquer Algorithm.\n  </p>\n  <p>\n    Here, a problem is divided into multiple sub-problems. Each sub-problem is solved\n    individually. Finally, sub-problems are combined to form the final solution.\n  </p>\n  <p>\n    Using the Divide and Conquer technique, we divide a problem into subproblems.\n    When the solution to each subproblem is ready, we 'combine' the results from the\n    subproblems to solve the main problem.\n  </p>\n\n  <p>\n    Suppose we had to sort an array <em>A</em>. A subproblem would be to sort a sub-section of\n    this array starting at index <em>p</em> and ending at index <em>r</em>, denoted as <em>A[p..r]</em>.\n  </p>\n\n  <p>\n    If <em>q</em> is the half-way point between <em>p</em> and <em>r</em>, then we can split the subarray <em>A[p..r]</em> into two\n    arrays <em>A[p..q]</em> and <em>A[q+1, r]</em>.\n  </p>\n  <p>\n    In the conquer step, we try to sort both the subarrays <em>A[p..q]</em> and <em>A[q+1, r]</em>. If we haven't yet reached the base case,\n    we again divide both these subarrays and try to sort them.\n  </p>\n  <p>\n    When the conquer step reaches the base step and we get two sorted subarrays <em>A[p..q]</em>\n    and <em>A[q+1, r]</em> for array <em>A[p..r]</em>, we combine the results by creating\n    a sorted array <em>A[p..r]</em> from two sorted subarrays <em>A[p..q]</em> and <em>A[q+1, r]</em>.\n  </p>\n  <p>\n    Press play to sort the elements\n  </p>\n  "}successContent(){return"\n  <p>\n    In sorting n objects, merge sort has an average and worst-case performance of <em>O(n log n)</em>.\n  </p>\n    "}},class{constructor(){this.id=0,this.played="not_played"}setup(t){return Cy(this,void 0,void 0,function*(){const e=t.nodeHandler.generateNodes(10);t.nodeHandler.add(e),this.array=t.objectFactory.create("array",0,0),t.arrayHandler.add(this.array);for(let t=0;t<e.length;++t)yield this.array.insertAt(e[t],t,!1)})}play(t){return Cy(this,void 0,void 0,function*(){this.array.sorting=new Wy,yield this.array.sort()})}content(){return'\n  <h1 class="scene-title">Quick sort</h1>\n  <p>Quicksort is a sorting algorithm based on the divide and conquer approach where</p>\n\n  <p>An array is divided into subarrays by selecting a pivot element (element selected from the array).</p>\n\n  <p>While dividing the array, the pivot element should be positioned in such a way that elements less than pivot are kept on the left side and elements greater than pivot are on the right side of the pivot.\n  The left and right subarrays are also divided using the same approach. This process continues until each subarray contains a single element.</p>\n\n  <p>At this point, elements are already sorted. Finally, elements are combined to form a sorted array.</p>\n  <p>\n    Press play to sort the elements\n  </p>\n  '}successContent(){return"\n  <p>\n    Although the worst case time complexity of QuickSort is O(n<sup>2</sup>) which is more\n    than many other sorting algorithms like Merge Sort and Heap Sort, QuickSort is faster\n    in practice, because its inner loop can be efficiently implemented on\n    most architectures, and in most real-world data. QuickSort can be implemented\n    in different ways by changing the choice of pivot, so that the worst case rarely\n    occurs for a given type of data. However, merge sort is generally considered better\n    when data is huge and stored in external storage.\n  </p>\n    "}}];const Rv=[Cv,Tv,Ev,Pv,Mv,Iv,Dv];class Hv{}class Lv{}class Fv{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Fv?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Fv;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Fv?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Vv{encodeKey(t){return jv(t)}encodeValue(t){return jv(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function jv(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class zv{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Vv,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new zv({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Bv(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Uv(t){return"undefined"!=typeof Blob&&t instanceof Blob}function qv(t){return"undefined"!=typeof FormData&&t instanceof FormData}class $v{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new Fv),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new zv,this.urlWithParams=e}serializeBody(){return null===this.body?null:Bv(this.body)||Uv(this.body)||qv(this.body)||"string"==typeof this.body?this.body:this.body instanceof zv?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qv(this.body)?null:Uv(this.body)?this.body.type||null:Bv(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zv?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new $v(e,n,r,{params:l,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}var Wv=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Yv{constructor(t,e=200,n="OK"){this.headers=t.headers||new Fv,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Gv extends Yv{constructor(t={}){super(t),this.type=Wv.ResponseHeader}clone(t={}){return new Gv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Kv extends Yv{constructor(t={}){super(t),this.type=Wv.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Kv({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Qv extends Yv{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Zv(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Xv=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof $v)i=t;else{let r,s;r=n.headers instanceof Fv?n.headers:new Fv(n.headers),n.params&&(s=n.params instanceof zv?n.params:new zv({fromObject:n.params})),i=new $v(t,e,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=ad(i).pipe(Hd(t=>this.handler.handle(t)));if(t instanceof $v||"events"===n.observe)return r;const s=r.pipe(Nd(t=>t instanceof Kv));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(k(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(k(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(k(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(k(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new zv).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Zv(n,e))}post(t,e,n={}){return this.request("POST",t,Zv(n,e))}put(t,e,n={}){return this.request("PUT",t,Zv(n,e))}}return t.\u0275fac=function(e){return new(e||t)(oi(Hv))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();class Jv{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const tb=new Bn("HTTP_INTERCEPTORS");let eb=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();const nb=/^\)\]\}',?\n/;class ib{}let rb=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})(),sb=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new v(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",s=new Fv(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new Gv({headers:s,status:e,statusText:i,url:o}),r},o=()=>{let{headers:i,status:r,statusText:o,url:a}=s(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let u=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(nb,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=t,u&&(u=!1,l={error:c,text:l})}}u?(e.next(new Kv({body:l,headers:i,status:r,statusText:o,url:a||void 0})),e.complete()):e.error(new Qv({error:l,headers:i,status:r,statusText:o,url:a||void 0}))},a=t=>{const{url:i}=s(),r=new Qv({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let l=!1;const u=i=>{l||(e.next(s()),l=!0);let r={type:Wv.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},c=t=>{let n={type:Wv.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==i&&n.upload&&n.upload.addEventListener("progress",c)),n.send(i),e.next({type:Wv.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",u),null!==i&&n.upload&&n.upload.removeEventListener("progress",c)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(oi(ib))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();const ob=new Bn("XSRF_COOKIE_NAME"),ab=new Bn("XSRF_HEADER_NAME");class lb{}let ub=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Nc(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(oi(uc),oi(gu),oi(ob))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})(),cb=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(oi(lb),oi(ab))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})(),hb=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(tb,[]);this.chain=t.reduceRight((t,e)=>new Jv(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(oi(Lv),oi(no))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})(),db=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:cb,useClass:eb}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:ob,useValue:e.cookieName}:[],e.headerName?{provide:ab,useValue:e.headerName}:[]]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},providers:[cb,{provide:tb,useExisting:cb,multi:!0},{provide:lb,useClass:ub},{provide:ob,useValue:"XSRF-TOKEN"},{provide:ab,useValue:"X-XSRF-TOKEN"}]}),t})(),fb=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},providers:[Xv,{provide:Hv,useClass:hb},sb,{provide:Lv,useExisting:sb},rb,{provide:ib,useExisting:rb}],imports:[[db.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),pb=(()=>{class t{constructor(t){this.httpClient=t,this.currentScenario=new ld(void 0),this.scenarios=Rv}initSimulation(t,e,n){this.simulation=new _v(t,n),this.simulation.widthHeight.next(e)}startSimulation(t){var e;null===(e=this.simulation)||void 0===e||e.startSimulation(t)}updateWidthHeight(t){this.simulation.widthHeight.next(t)}}return t.\u0275fac=function(e){return new(e||t)(oi(Xv))},t.\u0275prov=ot({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function gb(t,e){1&t&&Ao(0)}function mb(t,e){if(1&t&&(Co(0,"div",8),Fo(1,1),vo(2,gb,1,0,"ng-container",6),So()),2&t){const t=Ro();Wr(2),wo("ngTemplateOutlet",t.headerTemplate)}}function yb(t,e){1&t&&Ao(0)}function vb(t,e){if(1&t&&(Co(0,"div",9),pa(1),vo(2,yb,1,0,"ng-container",6),So()),2&t){const t=Ro();Wr(1),ma(" ",t.header," "),Wr(1),wo("ngTemplateOutlet",t.titleTemplate)}}function bb(t,e){1&t&&Ao(0)}function _b(t,e){if(1&t&&(Co(0,"div",10),pa(1),vo(2,bb,1,0,"ng-container",6),So()),2&t){const t=Ro();Wr(1),ma(" ",t.subheader," "),Wr(1),wo("ngTemplateOutlet",t.subtitleTemplate)}}function wb(t,e){1&t&&Ao(0)}function xb(t,e){1&t&&Ao(0)}function Cb(t,e){if(1&t&&(Co(0,"div",11),Fo(1,2),vo(2,xb,1,0,"ng-container",6),So()),2&t){const t=Ro();Wr(2),wo("ngTemplateOutlet",t.footerTemplate)}}const Sb=["*",[["p-header"]],[["p-footer"]]],Eb=["*","p-header","p-footer"];let kb=(()=>{class t{constructor(t){this.el=t}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"title":this.titleTemplate=t.template;break;case"subtitle":this.subtitleTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;default:this.contentTemplate=t.template}})}getBlockableElement(){return this.el.nativeElement.children[0]}}return t.\u0275fac=function(e){return new(e||t)(_o(Va))},t.\u0275cmp=Lt({type:t,selectors:[["p-card"]],contentQueries:function(t,e,n){if(1&t&&(iu(n,Eh,1),iu(n,kh,1),iu(n,Th,0)),2&t){let t;eu(t=ru())&&(e.headerFacet=t.first),eu(t=ru())&&(e.footerFacet=t.first),eu(t=ru())&&(e.templates=t)}},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:Eb,decls:9,vars:9,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(t,e){1&t&&(Lo(Sb),Co(0,"div",0),vo(1,mb,3,1,"div",1),Co(2,"div",2),vo(3,vb,3,2,"div",3),vo(4,_b,3,2,"div",4),Co(5,"div",5),Fo(6),vo(7,wb,1,0,"ng-container",6),So(),vo(8,Cb,3,1,"div",7),So(),So()),2&t&&(ea(e.styleClass),wo("ngClass","p-card p-component")("ngStyle",e.style),Wr(1),wo("ngIf",e.headerFacet||e.headerTemplate),Wr(2),wo("ngIf",e.header||e.titleTemplate),Wr(1),wo("ngIf",e.subheader||e.subtitleTemplate),Wr(3),wo("ngTemplateOutlet",e.contentTemplate),Wr(1),wo("ngIf",e.footerFacet||e.footerTemplate))},directives:[Ic,Fc,Rc,Vc],styles:[".p-card-header img{width:100%}"],encapsulation:2,changeDetection:0}),t})(),Tb=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},imports:[[jc],Ah]}),t})();function Ab(t,e){if(1&t&&Eo(0,"img",8),2&t){const t=Ro().$implicit;wo("alt",t.name+" cover")("src",t.cover,Qi)}}function Mb(t,e){if(1&t){const t=Mo();Co(0,"div",9),Co(1,"button",10),Oo("click",function(e){Ne(t);const n=Ro().$implicit;return Ro().visualize(e,n)}),So(),So()}}function Nb(t,e){if(1&t){const t=Mo();Co(0,"div",2),Co(1,"div",6),Oo("click",function(n){Ne(t);const i=e.$implicit;return Ro().visualize(n,i)}),Co(2,"p-card",7),vo(3,Ab,1,2,"ng-template",4),Co(4,"p"),pa(5),So(),vo(6,Mb,2,0,"ng-template",5),So(),So(),So()}if(2&t){const t=e.$implicit;Wr(2),wo("header",t.name),Wr(3),ga(t.description)}}function Ib(t,e){1&t&&Eo(0,"img",11)}function Ob(t,e){1&t&&(Co(0,"div",9),Eo(1,"button",12),So())}let Db=(()=>{class t{constructor(t,e){this.scenarioService=t,this.router=e}ngOnInit(){}visualize(t,e){t.stopPropagation(),this.scenarioService.currentScenario.next(e),this.router.navigate(["visualize",e.path,0])}playground(){event.stopPropagation(),this.router.navigate(["playground"])}get scenarios(){return this.scenarioService.scenarios}}return t.\u0275fac=function(e){return new(e||t)(_o(pb),_o(Eg))},t.\u0275cmp=Lt({type:t,selectors:[["app-scenario-grid"]],decls:8,vars:1,consts:[[1,"p-grid","scenario-grid","p-justify-center"],["class","p-col-12 p-sm-6 p-md-4 p-xl-3",4,"ngFor","ngForOf"],[1,"p-col-12","p-sm-6","p-md-4","p-xl-3"],["header","Soon...",1,"soon-card"],["pTemplate","header"],["pTemplate","footer"],["pRipple","",1,"clickable-card",3,"click"],[3,"header"],[3,"alt","src"],[1,"p-text-right"],["label","Visualize","icon","pi pi-eye","pButton","",1,"p-button","p-button-rounded",3,"click"],["alt","Soon cover","src","scenarios/soon-cover.png"],["label","Visualize","icon","pi pi-eye","disabled","","pButton","",1,"p-button","p-button-rounded"]],template:function(t,e){1&t&&(Co(0,"div",0),vo(1,Nb,7,2,"div",1),Co(2,"div",2),Co(3,"p-card",3),vo(4,Ib,1,0,"ng-template",4),Co(5,"p"),pa(6,"More coming coon"),So(),vo(7,Ob,2,0,"ng-template",5),So(),So(),So()),2&t&&(Wr(1),wo("ngForOf",e.scenarios))},directives:[Dc,kb,Th,Ih,yy],styles:['.scenario-grid[_ngcontent-%COMP%]{margin:2vh 10vw 0}  .p-card{-webkit-user-select:none;user-select:none}  .clickable-card{cursor:pointer;box-shadow:0 1px 2px rgba(0,0,0,.1);transition:all .6s cubic-bezier(.165,.84,.44,1)}  .clickable-card:after{content:"";border-radius:5px;position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;box-shadow:0 5px 15px rgba(0,0,0,.3);opacity:0;transition:all .6s cubic-bezier(.165,.84,.44,1)}  .clickable-card:hover{transform:scale(1.025)}  .clickable-card:hover:after{opacity:1}  .clickable-card .p-card-content,   .soon-card .p-card-content{height:10vh}  .p-card-content{padding:0!important}  .p-card-content p,   .p-card-footer{opacity:.8!important}  .p-ripple.clickable-card .p-ink{background:#2f2f2f}']}),t})(),Pb=(()=>{class t{constructor(){this.scene=new ld(void 0),this.played=new ld("not_played"),this.set=new ld(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Rb extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Hb extends Rb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Lb=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Fb extends Lb{constructor(t,e=Lb.now){super(t,()=>Fb.delegate&&Fb.delegate!==this?Fb.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Fb.delegate&&Fb.delegate!==this?Fb.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Vb=new Fb(Hb);function jb(t,e=Vb){return n=>n.lift(new zb(t,e))}class zb{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Bb(t,this.dueTime,this.scheduler))}}class Bb extends p{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ub,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Ub(t){t.debouncedNext()}const qb=["container"],$b=["content"],Wb=["xBar"],Yb=["yBar"];function Gb(t,e){1&t&&Ao(0)}const Kb=["*"];let Qb=(()=>{class t{constructor(t,e,n){this.el=t,this.zone=e,this.cd=n,this.timeoutFrame=t=>setTimeout(t,0)}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.moveBar(),this.moveBar=this.moveBar.bind(this),this.onXBarMouseDown=this.onXBarMouseDown.bind(this),this.onYBarMouseDown=this.onYBarMouseDown.bind(this),this.onDocumentMouseMove=this.onDocumentMouseMove.bind(this),this.onDocumentMouseUp=this.onDocumentMouseUp.bind(this),window.addEventListener("resize",this.moveBar),this.contentViewChild.nativeElement.addEventListener("scroll",this.moveBar),this.contentViewChild.nativeElement.addEventListener("mouseenter",this.moveBar),this.xBarViewChild.nativeElement.addEventListener("mousedown",this.onXBarMouseDown),this.yBarViewChild.nativeElement.addEventListener("mousedown",this.onYBarMouseDown),this.calculateContainerHeight(),this.initialized=!0})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template}})}calculateContainerHeight(){let t=this.containerViewChild.nativeElement,e=this.contentViewChild.nativeElement,n=this.xBarViewChild.nativeElement,i=getComputedStyle(t),r=getComputedStyle(n),s=Mh.getHeight(t)-parseInt(r.height,10);"none"!=i["max-height"]&&0==s&&(t.style.height=e.offsetHeight+parseInt(r.height,10)>parseInt(i["max-height"],10)?i["max-height"]:e.offsetHeight+parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)+"px")}moveBar(){let t=this.containerViewChild.nativeElement,e=this.contentViewChild.nativeElement,n=this.xBarViewChild.nativeElement,i=e.scrollWidth,r=e.clientWidth,s=-1*(t.clientHeight-n.clientHeight);this.scrollXRatio=r/i;let o=this.yBarViewChild.nativeElement,a=e.scrollHeight,l=e.clientHeight,u=-1*(t.clientWidth-o.clientWidth);this.scrollYRatio=l/a,this.requestAnimationFrame(()=>{if(this.scrollXRatio>=1)Mh.addClass(n,"p-scrollpanel-hidden");else{Mh.removeClass(n,"p-scrollpanel-hidden");const t=Math.max(100*this.scrollXRatio,10);n.style.cssText="width:"+t+"%; left:"+e.scrollLeft*(100-t)/(i-r)+"%;bottom:"+s+"px;"}if(this.scrollYRatio>=1)Mh.addClass(o,"p-scrollpanel-hidden");else{Mh.removeClass(o,"p-scrollpanel-hidden");const t=Math.max(100*this.scrollYRatio,10);o.style.cssText="height:"+t+"%; top: calc("+e.scrollTop*(100-t)/(a-l)+"% - "+n.clientHeight+"px);right:"+u+"px;"}}),this.cd.markForCheck()}onYBarMouseDown(t){this.isYBarClicked=!0,this.lastPageY=t.pageY,Mh.addClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),Mh.addClass(document.body,"p-scrollpanel-grabbed"),document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp),t.preventDefault()}onXBarMouseDown(t){this.isXBarClicked=!0,this.lastPageX=t.pageX,Mh.addClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),Mh.addClass(document.body,"p-scrollpanel-grabbed"),document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp),t.preventDefault()}onDocumentMouseMove(t){this.isXBarClicked?this.onMouseMoveForXBar(t):(this.isYBarClicked||this.onMouseMoveForXBar(t),this.onMouseMoveForYBar(t))}onMouseMoveForXBar(t){let e=t.pageX-this.lastPageX;this.lastPageX=t.pageX,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollLeft+=e/this.scrollXRatio})}onMouseMoveForYBar(t){let e=t.pageY-this.lastPageY;this.lastPageY=t.pageY,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollTop+=e/this.scrollYRatio})}scrollTop(t){let e=this.contentViewChild.nativeElement.scrollHeight-this.contentViewChild.nativeElement.clientHeight;this.contentViewChild.nativeElement.scrollTop=t=t>e?e:t>0?t:0}onDocumentMouseUp(t){Mh.removeClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),Mh.removeClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),Mh.removeClass(document.body,"p-scrollpanel-grabbed"),document.removeEventListener("mousemove",this.onDocumentMouseMove),document.removeEventListener("mouseup",this.onDocumentMouseUp),this.isXBarClicked=!1,this.isYBarClicked=!1}requestAnimationFrame(t){(window.requestAnimationFrame||this.timeoutFrame)(t)}ngOnDestroy(){this.initialized&&(window.removeEventListener("resize",this.moveBar),this.contentViewChild.nativeElement.removeEventListener("scroll",this.moveBar),this.contentViewChild.nativeElement.removeEventListener("mouseenter",this.moveBar),this.xBarViewChild.nativeElement.removeEventListener("mousedown",this.onXBarMouseDown),this.yBarViewChild.nativeElement.removeEventListener("mousedown",this.onYBarMouseDown))}refresh(){this.moveBar()}}return t.\u0275fac=function(e){return new(e||t)(_o(Va),_o(Nu),_o(hl))},t.\u0275cmp=Lt({type:t,selectors:[["p-scrollPanel"]],contentQueries:function(t,e,n){if(1&t&&iu(n,Th,0),2&t){let t;eu(t=ru())&&(e.templates=t)}},viewQuery:function(t,e){if(1&t&&(nu(qb,1),nu($b,1),nu(Wb,1),nu(Yb,1)),2&t){let t;eu(t=ru())&&(e.containerViewChild=t.first),eu(t=ru())&&(e.contentViewChild=t.first),eu(t=ru())&&(e.xBarViewChild=t.first),eu(t=ru())&&(e.yBarViewChild=t.first)}},inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:Kb,decls:11,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[1,"p-scrollpanel-wrapper"],[1,"p-scrollpanel-content"],["content",""],[4,"ngTemplateOutlet"],[1,"p-scrollpanel-bar","p-scrollpanel-bar-x"],["xBar",""],[1,"p-scrollpanel-bar","p-scrollpanel-bar-y"],["yBar",""]],template:function(t,e){1&t&&(Lo(),Co(0,"div",0,1),Co(2,"div",2),Co(3,"div",3,4),Fo(5),vo(6,Gb,1,0,"ng-container",5),So(),So(),Eo(7,"div",6,7),Eo(9,"div",8,9),So()),2&t&&(ea(e.styleClass),wo("ngClass","p-scrollpanel p-component")("ngStyle",e.style),Wr(6),wo("ngTemplateOutlet",e.contentTemplate))},directives:[Ic,Fc,Vc],styles:[".p-scrollpanel-wrapper{float:left;height:100%;overflow:hidden;position:relative;width:100%;z-index:1}.p-scrollpanel-content{box-sizing:border-box;height:calc(100% + 18px);overflow:auto;padding:0 18px 18px 0;position:relative;width:calc(100% + 18px)}.p-scrollpanel-bar{background:#c1c1c1;border-radius:3px;cursor:pointer;opacity:0;position:relative;transition:opacity .25s linear;z-index:2}.p-scrollpanel-bar-y{top:0;width:9px}.p-scrollpanel-bar-x{bottom:0;height:9px}.p-scrollpanel-hidden{visibility:hidden}.p-scrollpanel:active .p-scrollpanel-bar,.p-scrollpanel:hover .p-scrollpanel-bar{opacity:1}.p-scrollpanel-grabbed{-ms-user-select:none;-webkit-user-select:none;user-select:none}"],encapsulation:2,changeDetection:0}),t})(),Zb=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},imports:[[jc]]}),t})(),Xb=(()=>{class t{constructor(){this.shape="rectangle",this.animation="wave",this.borderRadius=null,this.size=null,this.width="100%",this.height="1rem"}containerClass(){return{"p-skeleton p-component":!0,"p-skeleton-circle":"circle"===this.shape,"p-skeleton-none":"none"===this.animation}}containerStyle(){return Object.assign(Object.assign({},this.style),this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Lt({type:t,selectors:[["p-skeleton"]],inputs:{shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height",styleClass:"styleClass",style:"style"},decls:1,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(t,e){1&t&&Eo(0,"div",0),2&t&&(ea(e.styleClass),wo("ngClass",e.containerClass())("ngStyle",e.containerStyle()))},directives:[Ic,Fc],styles:['.p-skeleton{overflow:hidden;position:relative}.p-skeleton:after{animation:p-skeleton-animation 1.2s infinite;content:"";height:100%;left:0;position:absolute;right:0;top:0;transform:translateX(-100%);z-index:1}.p-skeleton.p-skeleton-circle{border-radius:50%}.p-skeleton-none:after{animation:none}@keyframes p-skeleton-animation{0%{transform:translateX(-100%)}to{transform:translateX(100%)}}'],encapsulation:2,changeDetection:0}),t})(),Jb=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},imports:[[jc]]}),t})();function t_(t,e){if(1&t&&(Co(0,"div",4),pa(1," Explanation "),Eo(2,"i",5),Eo(3,"div",6),So()),2&t){const t=Ro(2);Wr(3),wo("innerHTML",t.successContent,Ki)}}const e_=function(){return{width:"100%",height:"84vh"}};function n_(t,e){if(1&t){const t=Mo();Co(0,"div"),Co(1,"p-scrollPanel"),Co(2,"div",2),Oo("click",function(e){return Ne(t),Ro().getRoute(e)}),So(),vo(3,t_,4,1,"div",3),So(),So()}if(2&t){const t=Ro();Wr(1),Jo(Fl(4,e_)),Wr(1),wo("innerHTML",t.content,Ki),Wr(1),wo("ngIf","played"===t.scene.played)}}function i_(t,e){1&t&&(Co(0,"div",7),Eo(1,"p-skeleton",8),Eo(2,"p-skeleton",9),Eo(3,"p-skeleton",10),Eo(4,"p-skeleton",11),Eo(5,"p-skeleton",12),Eo(6,"p-skeleton",13),Eo(7,"p-skeleton",14),Eo(8,"p-skeleton",15),Eo(9,"p-skeleton",14),Eo(10,"p-skeleton",16),Eo(11,"p-skeleton",17),Eo(12,"p-skeleton",12),Eo(13,"p-skeleton",18),Eo(14,"p-skeleton",11),Eo(15,"p-skeleton",19),Eo(16,"p-skeleton",20),Eo(17,"p-skeleton",21),Eo(18,"p-skeleton",22),So())}let r_=(()=>{class t{constructor(t,e,n){this.sceneService=t,this.router=e,this.sanitizer=n,this.content="",this.successContent="",this._isContentLoading=new ld(!0),this.showLoadingSkeleton=!0}ngOnInit(){this.sceneService.set.pipe(jb(100)).subscribe(t=>{this.showLoadingSkeleton=!0,this.getContent(),this.showLoadingSkeleton=!1}),this.sceneService.played.pipe(jb(100)).subscribe(t=>{"played"===t&&(this.showLoadingSkeleton=!0,this.getSuccessContent(),this.showLoadingSkeleton=!1)})}getRoute(t){const e=t.target.getAttribute("href");if(!e)return;t.preventDefault(),t.stopPropagation();const n=this.router.serializeUrl(this.router.createUrlTree([e]));window.open(n,"_blank")}getContent(){this.content=this.scene?this.sanitizer.bypassSecurityTrustHtml(this.scene.content()):""}getSuccessContent(){this.successContent=this.scene?this.sanitizer.bypassSecurityTrustHtml(this.scene.successContent()):""}get scene(){return this.sceneService.scene.getValue()}get isContentLoading(){return this._isContentLoading.getValue()}set isContentLoading(t){this._isContentLoading.next(t)}}return t.\u0275fac=function(e){return new(e||t)(_o(Pb),_o(Eg),_o(gh))},t.\u0275cmp=Lt({type:t,selectors:[["app-content-view"]],inputs:{isContentLoading:"isContentLoading"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["contentLoadingSkeleton",""],[1,"content",3,"innerHTML","click"],["class","success-content",4,"ngIf"],[1,"success-content"],[1,"p-ml-2","pi","pi-info-circle"],[3,"innerHTML"],[1,"content"],["width","70%","height","2.5rem","styleClass","p-mt-4 p-mb-4"],["width","85%","height","1rem","styleClass","p-mb-2"],["width","90%","height","1rem","styleClass","p-mb-2"],["width","82%","height","1rem","styleClass","p-mb-2"],["width","91%","height","1rem","styleClass","p-mb-2"],["width","14%","height","1rem","styleClass","p-mb-4"],["width","81%","height","1rem","styleClass","p-mb-2"],["width","24%","height","1rem","styleClass","p-mb-4"],["width","94%","height","1rem","styleClass","p-mb-2"],["width","87%","height","1rem","styleClass","p-mb-2"],["width","19%","height","1rem","styleClass","p-mb-4"],["width","89%","height","1rem","styleClass","p-mb-2"],["width","17%","height","1rem","styleClass","p-mb-4"],["width","86%","height","1rem","styleClass","p-mb-2"],["width","43%","height","1rem","styleClass","p-mb-4"]],template:function(t,e){if(1&t&&(vo(0,n_,4,5,"div",0),vo(1,i_,19,0,"ng-template",null,1,lu)),2&t){const t=bo(2);wo("ngIf",!e.showLoadingSkeleton)("ngIfElse",t)}},directives:[Rc,Qb,Xb],styles:['.content[_ngcontent-%COMP%]{padding:.5rem 2rem;color:#fff}  .content a{color:#fff;font-weight:700;text-decoration:none;background-color:#363636;padding:.2rem;border-radius:.3rem}  .content a:after{margin-left:.3rem;margin-right:.1rem;font-family:primeicons,serif;content:"\\e93c";font-size:.7em}.success-content[_ngcontent-%COMP%]{margin-top:1rem;margin-left:2rem;margin-right:2rem;padding:2rem;background-color:#2e313b;color:#fff}']}),t})();class s_{static addArrowhead(t){const e=Ty.path();e.moveTo(0,0),e.lineTo(10,5),e.lineTo(0,10),e.closePath(),t.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("orient","auto").append("path").attr("d",e.toString()).style("fill","white").style("stroke","none")}}const o_=["mask"];function a_(t,e){if(1&t){const t=Mo();Co(0,"button",12),Oo("click",function(){return Ne(t),Ro(3).hide()})("keydown.enter",function(){return Ne(t),Ro(3).hide()}),Eo(1,"span",13),So()}2&t&&wo("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link")}function l_(t,e){if(1&t&&(Co(0,"div",8),Co(1,"span",9),pa(2),So(),Co(3,"div",10),vo(4,a_,2,1,"button",11),So(),So()),2&t){const t=Ro(2);Wr(2),ga(t.config.header),Wr(2),wo("ngIf",!1!==t.config.closable)}}function u_(t,e){}function c_(t,e){if(1&t&&(Co(0,"div",14),pa(1),So()),2&t){const t=Ro(2);Wr(1),ma(" ",t.config.footer," ")}}const h_=function(t){return{"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":t}},d_=function(t,e){return{transform:t,transition:e}},f_=function(t){return{value:"visible",params:t}};function p_(t,e){if(1&t){const t=Mo();Co(0,"div",3),Oo("@animation.start",function(e){return Ne(t),Ro().onAnimationStart(e)})("@animation.done",function(e){return Ne(t),Ro().onAnimationEnd(e)}),vo(1,l_,5,2,"div",4),Co(2,"div",5),vo(3,u_,0,0,"ng-template",6),So(),vo(4,c_,2,1,"div",7),So()}if(2&t){const t=Ro();ea(t.config.styleClass),Zo("width",t.config.width)("height",t.config.height),wo("ngClass",Vl(12,h_,t.config.rtl))("ngStyle",t.config.style)("@animation",Vl(17,f_,jl(14,d_,t.transformOptions,t.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)"))),Wr(1),wo("ngIf",!1!==t.config.showHeader),Wr(1),wo("ngStyle",t.config.contentStyle),Wr(2),wo("ngIf",t.config.footer)}}const g_=function(t){return{"p-dialog-mask":!0,"p-component-overlay p-dialog-mask-scrollblocker":t}};let m_=(()=>{class t{constructor(t){this.viewContainerRef=t}}return t.\u0275fac=function(e){return new(e||t)(_o(Cl))},t.\u0275dir=Ut({type:t,selectors:[["","pDynamicDialogContent",""]]}),t})();class y_{}class v_{constructor(){this._onClose=new C,this.onClose=this._onClose.asObservable(),this._onDestroy=new C,this.onDestroy=this._onDestroy.asObservable()}close(t){this._onClose.next(t)}destroy(){this._onDestroy.next()}}const b_=zh([Fh({transform:"{{transform}}",opacity:0}),Hh("{{transition}}",Fh({transform:"none",opacity:1}))]),__=zh([Hh("{{transition}}",Fh({transform:"{{transform}}",opacity:0}))]);let w_=(()=>{class t{constructor(t,e,n,i,r,s){this.componentFactoryResolver=t,this.cd=e,this.renderer=n,this.config=i,this.dialogRef=r,this.zone=s,this.visible=!0,this.transformOptions="scale(0.7)"}ngAfterViewInit(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()}loadChildComponent(t){let e=this.componentFactoryResolver.resolveComponentFactory(t),n=this.insertionPoint.viewContainerRef;n.clear(),this.componentRef=n.createComponent(e)}moveOnTop(){if(!1!==this.config.autoZIndex){const t=(this.config.baseZIndex||0)+ ++Mh.zindex;this.container.style.zIndex=String(t),this.maskViewChild.nativeElement.style.zIndex=String(t-1)}}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.bindGlobalListeners(),!1!==this.config.modal&&this.enableModality(),this.focus();break;case"void":this.onContainerDestroy()}}onAnimationEnd(t){"void"===t.toState&&this.dialogRef.destroy()}onContainerDestroy(){this.unbindGlobalListeners(),!1!==this.config.modal&&this.disableModality(),this.container=null}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}enableModality(){!1!==this.config.closable&&this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.hide()})),!1!==this.config.modal&&Mh.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),!1!==this.config.modal&&Mh.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}onKeydown(t){if(9===t.which){t.preventDefault();let e=Mh.getFocusableElements(this.container);if(e&&e.length>0)if(e[0].ownerDocument.activeElement){let n=e.indexOf(e[0].ownerDocument.activeElement);t.shiftKey?-1==n||0===n?e[e.length-1].focus():e[n-1].focus():-1==n||n===e.length-1?e[0].focus():e[n+1].focus()}else e[0].focus()}}focus(){let t=Mh.findSingle(this.container,"[autofocus]");t&&this.zone.runOutsideAngular(()=>{setTimeout(()=>t.focus(),5)})}bindGlobalListeners(){this.bindDocumentKeydownListener(),!1!==this.config.closeOnEscape&&!1!==this.config.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentKeydownListener(),this.unbindDocumentEscapeListener()}bindDocumentKeydownListener(){this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.onKeydown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener)})}unbindDocumentKeydownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document","keydown",t=>{27==t.which&&parseInt(this.container.style.zIndex)==Mh.zindex+(this.config.baseZIndex?this.config.baseZIndex:0)&&this.hide()})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy()}}return t.\u0275fac=function(e){return new(e||t)(_o(Ra),_o(hl),_o(Ba),_o(y_),_o(v_),_o(Nu))},t.\u0275cmp=Lt({type:t,selectors:[["p-dynamicDialog"]],viewQuery:function(t,e){if(1&t&&(nu(m_,1),nu(o_,1)),2&t){let t;eu(t=ru())&&(e.insertionPoint=t.first),eu(t=ru())&&(e.maskViewChild=t.first)}},decls:3,vars:4,consts:[[3,"ngClass"],["mask",""],["role","dialog",3,"ngClass","ngStyle","class","width","height",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],["pDynamicDialogContent",""],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[1,"p-dialog-title"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon","pi","pi-times"],[1,"p-dialog-footer"]],template:function(t,e){1&t&&(Co(0,"div",0,1),vo(2,p_,5,19,"div",2),So()),2&t&&(wo("ngClass",Vl(2,g_,!1!==e.config.modal)),Wr(2),wo("ngIf",e.visible))},directives:[Ic,Rc,Fc,m_],styles:[".p-dialog-mask{align-items:center;background-color:transparent;display:flex;height:100%;justify-content:center;left:0;pointer-events:none;position:fixed;top:0;transition-property:background-color;width:100%}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;position:relative;transform:scale(1)}.p-dialog-content{overflow-y:auto}.p-dialog-header{align-items:center;display:flex;flex-shrink:0;justify-content:space-between}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{align-items:center;display:flex}.p-dialog .p-dialog-header-icon{align-items:center;display:flex;justify-content:center;overflow:hidden;position:relative}.p-dialog-mask.p-dialog-mask-leave{background-color:transparent}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{height:100%;left:0!important;max-height:100%;top:0!important;transform:none;transition:none;width:100vw!important}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{align-items:flex-start;justify-content:flex-end}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{align-items:flex-end;justify-content:flex-start}.p-dialog-bottom-right{align-items:flex-end;justify-content:flex-end}.p-dialog .p-resizable-handle{bottom:1px;cursor:se-resize;display:block;font-size:.1px;height:12px;position:absolute;right:1px;width:12px}.p-confirm-dialog .p-dialog-content{align-items:center;display:flex}"],encapsulation:2,data:{animation:[Rh("animation",[jh("void => visible",[Uh(b_)]),jh("visible => void",[Uh(__)])])]}}),t})(),x_=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},imports:[[jc]]}),t})();class C_{constructor(t,e){this._parentInjector=t,this._additionalTokens=e}get(t,e,n){return this._additionalTokens.get(t)||this._parentInjector.get(t,e)}}let S_=(()=>{class t{constructor(t,e,n){this.componentFactoryResolver=t,this.appRef=e,this.injector=n,this.dialogComponentRefMap=new Map}open(t,e){const n=this.appendDialogComponentToBody(e);return this.dialogComponentRefMap.get(n).instance.childComponentType=t,n}appendDialogComponentToBody(t){const e=new WeakMap;e.set(y_,t);const n=new v_;e.set(v_,n);const i=n.onClose.subscribe(()=>{this.dialogComponentRefMap.get(n).instance.close()}),r=n.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(n),r.unsubscribe(),i.unsubscribe()}),s=this.componentFactoryResolver.resolveComponentFactory(w_).create(new C_(this.injector,e));return this.appRef.attachView(s.hostView),document.body.appendChild(s.hostView.rootNodes[0]),this.dialogComponentRefMap.set(n,s),n}removeDialogComponentFromBody(t){if(!t||!this.dialogComponentRefMap.has(t))return;const e=this.dialogComponentRefMap.get(t);this.appRef.detachView(e.hostView),e.destroy(),this.dialogComponentRefMap.delete(t)}}return t.\u0275fac=function(e){return new(e||t)(oi(Ra),oi(Zu),oi(no))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})(),E_=(()=>{class t{constructor(t,e){this.el=t,this.ngModel=e}ngDoCheck(){this.updateFilledState()}onInput(t){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return t.\u0275fac=function(e){return new(e||t)(_o(Va),_o(oy,8))},t.\u0275dir=Ut({type:t,selectors:[["","pInputText",""]],hostVars:6,hostBindings:function(t,e){1&t&&Oo("input",function(t){return e.onInput(t)}),2&t&&Xo("p-inputtext",!0)("p-component",!0)("p-filled",e.filled)}}),t})(),k_=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},imports:[[jc]]}),t})(),T_=(()=>{class t{constructor(t,e){this.formBuilder=t,this.ref=e}ngOnInit(){this.group=this.formBuilder.group({typed:[""]})}close(){const t=this.group.get("typed").value;this.group.get("typed").reset(""),this.ref.close(t)}}return t.\u0275fac=function(e){return new(e||t)(_o(py),_o(v_))},t.\u0275cmp=Lt({type:t,selectors:[["app-prompt"]],decls:5,vars:2,consts:[[3,"formGroup","ngSubmit"],["formControlName","typed","type","text","pInputText","",3,"autofocus"],[1,"p-flex-row"],["type","button","label","Close","pButton","",1,"p-ml-auto",3,"click"],["type","submit","label","Submit","pButton","",1,"p-ml-2","p-mr-2"]],template:function(t,e){1&t&&(Co(0,"form",0),Oo("ngSubmit",function(){return e.close()}),Eo(1,"input",1),Co(2,"div",2),Co(3,"button",3),Oo("click",function(){return e.close()}),So(),Eo(4,"button",4),So(),So()),2&t&&(wo("formGroup",e.group),Wr(1),wo("autofocus",!0))},directives:[ay,xm,cy,Jg,wm,dy,E_,yy],styles:[""]}),t})(),A_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function M_(t,e){1&t&&Ao(0)}function N_(t,e){if(1&t){const t=Mo();Co(0,"button",5),Oo("click",function(e){return Ne(t),Ro(2).onCloseClick(e)})("keydown.enter",function(){return Ne(t),Ro(2).hide()}),Eo(1,"span",6),So()}2&t&&yo("aria-label",Ro(2).ariaCloseLabel)}const I_=function(t,e){return{showTransitionParams:t,hideTransitionParams:e}},O_=function(t,e){return{value:t,params:e}};function D_(t,e){if(1&t){const t=Mo();Co(0,"div",1),Oo("click",function(){return Ne(t),Ro().onContainerClick()})("@animation.start",function(e){return Ne(t),Ro().onAnimationStart(e)})("@animation.done",function(e){return Ne(t),Ro().onAnimationEnd(e)}),Co(1,"div",2),Fo(2),vo(3,M_,1,0,"ng-container",3),So(),vo(4,N_,2,1,"button",4),So()}if(2&t){const t=Ro();ea(t.styleClass),wo("ngClass","p-overlaypanel p-component")("ngStyle",t.style)("@animation",jl(10,O_,t.overlayVisible?"open":"close",jl(7,I_,t.showTransitionOptions,t.hideTransitionOptions))),Wr(3),wo("ngTemplateOutlet",t.contentTemplate),Wr(1),wo("ngIf",t.showCloseIcon)}}const P_=["*"];let R_=(()=>{class t{constructor(t,e,n,i){this.el=t,this.renderer=e,this.cd=n,this.zone=i,this.dismissable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.focusOnShow=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new Ul,this.onHide=new Ul,this.overlayVisible=!1,this.render=!1,this.isContainerClicked=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template}this.cd.markForCheck()})}onContainerClick(){this.isContainerClicked=!0}bindDocumentClickListener(){!this.documentClickListener&&this.dismissable&&this.zone.runOutsideAngular(()=>{let t=Mh.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",t,t=>{this.container.contains(t.target)||this.target===t.target||this.target.contains(t.target)||this.isContainerClicked||this.zone.run(()=>{this.hide()}),this.isContainerClicked=!1,this.cd.markForCheck()})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}toggle(t,e){this.overlayVisible?(this.hasTargetChanged(t,e)&&(this.destroyCallback=()=>{this.show(null,e||t.currentTarget||t.target)}),this.hide()):this.show(t,e)}show(t,e){this.target=e||t.currentTarget||t.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck()}hasTargetChanged(t,e){return null!=this.target&&this.target!==(e||t.currentTarget||t.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):Mh.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}align(){this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++Mh.zindex)),Mh.absolutePosition(this.container,this.target);const t=Mh.getOffset(this.container),e=Mh.getOffset(this.target);let n=0;t.left<e.left&&(n=e.left-t.left),this.container.style.setProperty("--overlayArrowLeft",`${n}px`),t.top<e.top&&Mh.addClass(this.container,"p-overlaypanel-flipped")}onAnimationStart(t){"open"===t.toState&&(this.container=t.element,this.onShow.emit(null),this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus())}onAnimationEnd(t){switch(t.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null);break;case"close":this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}}focus(){let t=Mh.findSingle(this.container,"[autofocus]");t&&this.zone.runOutsideAngular(()=>{setTimeout(()=>t.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(t){this.hide(),t.preventDefault()}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Nh(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.target=null,this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.target=null,this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy())}}return t.\u0275fac=function(e){return new(e||t)(_o(Va),_o(Ba),_o(hl),_o(Nu))},t.\u0275cmp=Lt({type:t,selectors:[["p-overlayPanel"]],contentQueries:function(t,e,n){if(1&t&&iu(n,Th,0),2&t){let t;eu(t=ru())&&(e.templates=t)}},inputs:{dismissable:"dismissable",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",ariaCloseLabel:"ariaCloseLabel"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:P_,decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[1,"p-overlaypanel-close-icon","pi","pi-times"]],template:function(t,e){1&t&&(Lo(),vo(0,D_,5,13,"div",0)),2&t&&wo("ngIf",e.render)},directives:[Rc,Ic,Fc,Vc,Ih],styles:['.p-overlaypanel{margin-top:10px;position:absolute}.p-overlaypanel-flipped{margin-bottom:10px;margin-top:0}.p-overlaypanel-close{align-items:center;display:flex;justify-content:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;content:" ";height:0;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);pointer-events:none;position:absolute;width:0}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;margin-left:auto;right:1.25em}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after,.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}'],encapsulation:2,data:{animation:[Rh("animation",[Vh("void",Fh({transform:"scaleY(0.8)",opacity:0})),Vh("close",Fh({opacity:0})),Vh("open",Fh({transform:"translateY(0)",opacity:1})),jh("void => open",Hh("{{showTransitionParams}}")),jh("open => close",Hh("{{hideTransitionParams}}"))])]},changeDetection:0}),t})(),H_=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},imports:[[jc,Oh,Ah],Ah]}),t})();const L_=["input"],F_=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},V_=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function j_(t,e){if(1&t){const t=Mo();Co(0,"span",5),Co(1,"button",6),Oo("mousedown",function(e){return Ne(t),Ro().onUpButtonMouseDown(e)})("mouseup",function(){return Ne(t),Ro().onUpButtonMouseUp()})("mouseleave",function(){return Ne(t),Ro().onUpButtonMouseLeave()})("keydown",function(e){return Ne(t),Ro().onUpButtonKeyDown(e)})("keyup",function(){return Ne(t),Ro().onUpButtonKeyUp()}),So(),Co(2,"button",6),Oo("mousedown",function(e){return Ne(t),Ro().onDownButtonMouseDown(e)})("mouseup",function(){return Ne(t),Ro().onDownButtonMouseUp()})("mouseleave",function(){return Ne(t),Ro().onDownButtonMouseLeave()})("keydown",function(e){return Ne(t),Ro().onDownButtonKeyDown(e)})("keyup",function(){return Ne(t),Ro().onDownButtonKeyUp()}),So(),So()}if(2&t){const t=Ro();Wr(1),ea(t.incrementButtonClass),wo("ngClass",Fl(10,F_))("icon",t.incrementButtonIcon)("disabled",t.disabled),Wr(1),ea(t.decrementButtonClass),wo("ngClass",Fl(11,V_))("icon",t.decrementButtonIcon)("disabled",t.disabled)}}function z_(t,e){if(1&t){const t=Mo();Co(0,"button",6),Oo("mousedown",function(e){return Ne(t),Ro().onUpButtonMouseDown(e)})("mouseup",function(){return Ne(t),Ro().onUpButtonMouseUp()})("mouseleave",function(){return Ne(t),Ro().onUpButtonMouseLeave()})("keydown",function(e){return Ne(t),Ro().onUpButtonKeyDown(e)})("keyup",function(){return Ne(t),Ro().onUpButtonKeyUp()}),So()}if(2&t){const t=Ro();ea(t.incrementButtonClass),wo("ngClass",Fl(5,F_))("icon",t.incrementButtonIcon)("disabled",t.disabled)}}function B_(t,e){if(1&t){const t=Mo();Co(0,"button",6),Oo("mousedown",function(e){return Ne(t),Ro().onDownButtonMouseDown(e)})("mouseup",function(){return Ne(t),Ro().onDownButtonMouseUp()})("mouseleave",function(){return Ne(t),Ro().onDownButtonMouseLeave()})("keydown",function(e){return Ne(t),Ro().onDownButtonKeyDown(e)})("keyup",function(){return Ne(t),Ro().onDownButtonKeyUp()}),So()}if(2&t){const t=Ro();ea(t.decrementButtonClass),wo("ngClass",Fl(5,V_))("icon",t.decrementButtonIcon)("disabled",t.disabled)}}const U_=function(t,e,n){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":t,"p-inputnumber-buttons-horizontal":e,"p-inputnumber-buttons-vertical":n}},q_={provide:Gg,useExisting:it(()=>$_),multi:!0};let $_=(()=>{class t{constructor(t,e){this.el=t,this.cd=e,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.step=1,this.onInput=new Ul,this.onFocus=new Ul,this.onBlur=new Ul,this.onKeyDown=new Ul,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar="",this._modeOption="decimal",this._useGroupingOption=!0}get locale(){return this._localeOption}set locale(t){this._localeOption=t,this.updateConstructParser()}get localeMatcher(){return this._localeMatcherOption}set localeMatcher(t){this._localeMatcherOption=t,this.updateConstructParser()}get mode(){return this._modeOption}set mode(t){this._modeOption=t,this.updateConstructParser()}get currency(){return this._currencyOption}set currency(t){this._currencyOption=t,this.updateConstructParser()}get currencyDisplay(){return this._currencyDisplayOption}set currencyDisplay(t){this._currencyDisplayOption=t,this.updateConstructParser()}get useGrouping(){return this._useGroupingOption}set useGrouping(t){this._useGroupingOption=t,this.updateConstructParser()}get minFractionDigits(){return this._minFractionDigitsOption}set minFractionDigits(t){this._minFractionDigitsOption=t,this.updateConstructParser()}get maxFractionDigits(){return this._maxFractionDigitsOption}set maxFractionDigits(t){this._maxFractionDigitsOption=t,this.updateConstructParser()}get prefix(){return this._prefixOption}set prefix(t){this._prefixOption=t,this.updateConstructParser()}get suffix(){return this._suffixOption}set suffix(t){this._suffixOption=t,this.updateConstructParser()}get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1),this._disabled=t,this.timer&&this.clearTimer()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const t=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),e=new Map(t.map((t,e)=>[t,e]));this._numeral=new RegExp(`[${t.join("")}]`,"g"),this._decimal=this.getDecimalExpression(),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=t=>e.get(t)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const t=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${t.format(1.1).trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const t=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=t.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const t=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${t.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const t=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay});return new RegExp(`[${t.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._decimal,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=t.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=t.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(t){if(null!=t){if("-"===t)return t;if(this.format){let e=new Intl.NumberFormat(this.locale,this.getOptions()).format(t);return this.prefix&&(e=this.prefix+e),this.suffix&&(e+=this.suffix),e}return t.toString()}return""}parseValue(t){let e=t.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(e){if("-"===e)return e;let t=+e;return isNaN(t)?null:t}return null}repeat(t,e,n){let i=e||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(t,40,n)},i),this.spin(t,n)}spin(t,e){let n=this.step*e,i=this.parseValue(this.input.nativeElement.value)||0,r=this.validateValue(i+n);this.maxlength&&this.maxlength<this.formatValue(r).length||(this.updateInput(r,null,"spin"),this.updateModel(t,r),this.handleOnInput(t,i,r))}onUpButtonMouseDown(t){this.input.nativeElement.focus(),this.repeat(t,null,1),t.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(t){32!==t.keyCode&&13!==t.keyCode||this.repeat(t,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(t){this.input.nativeElement.focus(),this.repeat(t,null,-1),t.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(t){32!==t.keyCode&&13!==t.keyCode||this.repeat(t,null,-1)}onUserInput(t){this.isSpecialChar&&(t.target.value=this.lastValue),this.isSpecialChar=!1}onInputKeyDown(t){if(this.lastValue=t.target.value,t.shiftKey||t.altKey)return void(this.isSpecialChar=!0);let e=t.target.selectionStart,n=t.target.selectionEnd,i=t.target.value,r=null;switch(t.altKey&&t.preventDefault(),t.which){case 38:this.spin(t,1),t.preventDefault();break;case 40:this.spin(t,-1),t.preventDefault();break;case 37:this.isNumeralChar(i.charAt(e-1))||t.preventDefault();break;case 39:this.isNumeralChar(i.charAt(e))||t.preventDefault();break;case 13:let s=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(s),this.input.nativeElement.setAttribute("aria-valuenow",s),this.updateModel(t,s);break;case 8:if(t.preventDefault(),e===n){let n=i.charAt(e-1),s=i.search(this._decimal);this._decimal.lastIndex=0,this.isNumeralChar(n)&&(this._group.test(n)?(this._group.lastIndex=0,r=i.slice(0,e-2)+i.slice(e-1)):this._decimal.test(n)?(this._decimal.lastIndex=0,this.input.nativeElement.setSelectionRange(e-1,e-1)):s>0&&e>s?r=i.slice(0,e-1)+"0"+i.slice(e):s>0&&1===s?(r=i.slice(0,e-1)+"0"+i.slice(e),r=this.parseValue(r)>0?r:""):r=i.slice(0,e-1)+i.slice(e)),this.updateValue(t,r,null,"delete-single")}else r=this.deleteRange(i,e,n),this.updateValue(t,r,null,"delete-range");break;case 46:if(t.preventDefault(),e===n){let n=i.charAt(e),s=i.search(this._decimal);this._decimal.lastIndex=0,this.isNumeralChar(n)&&(this._group.test(n)?(this._group.lastIndex=0,r=i.slice(0,e)+i.slice(e+2)):this._decimal.test(n)?(this._decimal.lastIndex=0,this.input.nativeElement.setSelectionRange(e+1,e+1)):s>0&&e>s?r=i.slice(0,e)+"0"+i.slice(e+1):s>0&&1===s?(r=i.slice(0,e)+"0"+i.slice(e+1),r=this.parseValue(r)>0?r:""):r=i.slice(0,e)+i.slice(e+1)),this.updateValue(t,r,null,"delete-back-single")}else r=this.deleteRange(i,e,n),this.updateValue(t,r,null,"delete-range")}this.onKeyDown.emit(t)}onInputKeyPress(t){t.preventDefault();let e=t.which||t.keyCode,n=String.fromCharCode(e);const i=this.isDecimalSign(n),r=this.isMinusSign(n);(48<=e&&e<=57||r||i)&&this.insert(t,n,{isDecimalSign:i,isMinusSign:r})}onPaste(t){if(!this.disabled){t.preventDefault();let e=(t.clipboardData||window.clipboardData).getData("Text");if(e){let n=this.parseValue(e);null!=n&&this.insert(t,n.toString())}}}isMinusSign(t){return!!this._minusSign.test(t)&&(this._minusSign.lastIndex=0,!0)}isDecimalSign(t){return!!this._decimal.test(t)&&(this._decimal.lastIndex=0,!0)}insert(t,e,n={isDecimalSign:!1,isMinusSign:!1}){let i=this.input.nativeElement.selectionStart,r=this.input.nativeElement.selectionEnd,s=this.input.nativeElement.value.trim();const o=s.search(this._decimal);this._decimal.lastIndex=0;const a=s.search(this._minusSign);let l;if(this._minusSign.lastIndex=0,n.isMinusSign)0===i&&(l=s,-1!==a&&0===r||(l=this.insertText(s,e,0,r)),this.updateValue(t,l,e,"insert"));else if(n.isDecimalSign)o>0&&i===o?this.updateValue(t,s,e,"insert"):o>i&&o<r&&(l=this.insertText(s,e,i,r),this.updateValue(t,l,e,"insert"));else{const n=this.numberFormat.resolvedOptions().maximumFractionDigits,a=i!==r?"range-insert":"insert";o>0&&i>o?i+e.length-(o+1)<=n&&(l=s.slice(0,i)+e+s.slice(i+e.length),this.updateValue(t,l,e,a)):(l=this.insertText(s,e,i,r),this.updateValue(t,l,e,a))}}insertText(t,e,n,i){if(2==e.split(".").length){const r=t.slice(n,i).search(this._decimal);return this._decimal.lastIndex=0,r>0?t.slice(0,n)+this.formatValue(e)+t.slice(i):t||this.formatValue(e)}return i-n===t.length?this.formatValue(e):0===n?e+t.slice(i):i===t.length?t.slice(0,n)+e:t.slice(0,n)+e+t.slice(i)}deleteRange(t,e,n){let i;return i=n-e===t.length?"":0===e?t.slice(n):n===t.length?t.slice(0,e):t.slice(0,e)+t.slice(n),i}initCursor(){let t=this.input.nativeElement.selectionStart,e=this.input.nativeElement.value,n=e.length,i=null,r=e.charAt(t);if(this.isNumeralChar(r))return;let s=t-1;for(;s>=0;){if(r=e.charAt(s),this.isNumeralChar(r)){i=s;break}s--}if(null!==i)this.input.nativeElement.setSelectionRange(i+1,i+1);else{for(s=t+1;s<n;){if(r=e.charAt(s),this.isNumeralChar(r)){i=s;break}s++}null!==i&&this.input.nativeElement.setSelectionRange(i,i)}}onInputClick(){this.initCursor()}isNumeralChar(t){return!(1!==t.length||!(this._numeral.test(t)||this._decimal.test(t)||this._group.test(t)||this._minusSign.test(t))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(t,e,n,i){let r=this.input.nativeElement.value,s=null;null!=e&&(s=this.parseValue(e),this.updateInput(s,n,i)),this.handleOnInput(t,r,s)}handleOnInput(t,e,n){this.isValueChanged(e,n)&&this.onInput.emit({originalEvent:t,value:n})}isValueChanged(t,e){return null===e&&null!==t||null!=e&&e!==("string"==typeof t?this.parseValue(t):t)}validateValue(t){return null!==this.min&&t<this.min?this.min:null!==this.max&&t>this.max?this.max:"-"===t?null:t}updateInput(t,e,n){e=e||"";let i=this.input.nativeElement.value,r=this.formatValue(t),s=i.length;if(0===s){this.input.nativeElement.value=r,this.input.nativeElement.setSelectionRange(0,0),this.initCursor();const t=(this.prefixChar||"").length+e.length;this.input.nativeElement.setSelectionRange(t,t)}else{let t=this.input.nativeElement.selectionStart,o=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<r.length)return;this.input.nativeElement.value=r;let a=r.length;if("range-insert"===n){const n=this.parseValue((i||"").slice(0,t)),s=(null!==n?n.toString():"").split("").join(`(${this.groupChar})?`),a=new RegExp(s,"g");a.test(r);const l=e.split("").join(`(${this.groupChar})?`),u=new RegExp(l,"g");u.test(r.slice(a.lastIndex)),o=a.lastIndex+u.lastIndex,this.input.nativeElement.setSelectionRange(o,o)}else if(a===s)"insert"===n||"delete-back-single"===n?this.input.nativeElement.setSelectionRange(o+1,o+1):"delete-single"===n?this.input.nativeElement.setSelectionRange(o-1,o-1):"delete-range"!==n&&"spin"!==n||this.input.nativeElement.setSelectionRange(o,o);else if("delete-back-single"===n){let t=i.charAt(o-1),e=i.charAt(o),n=s-a,r=this._group.test(e);r&&1===n?o+=1:!r&&this.isNumeralChar(t)&&(o+=-1*n+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(o,o)}else o+=a-s,this.input.nativeElement.setSelectionRange(o,o)}this.input.nativeElement.setAttribute("aria-valuenow",t)}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1;let e=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(e),this.input.nativeElement.setAttribute("aria-valuenow",e),this.updateModel(t,e),this.onBlur.emit(t)}formattedValue(){return this.formatValue(this.value)}updateModel(t,e){this.value!==e&&(this.value=e,this.onModelChange(e)),this.onModelTouched()}writeValue(t){this.value=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}}return t.\u0275fac=function(e){return new(e||t)(_o(Va),_o(hl))},t.\u0275cmp=Lt({type:t,selectors:[["p-inputNumber"]],viewQuery:function(t,e){if(1&t&&nu(L_,1),2&t){let t;eu(t=ru())&&(e.input=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&Xo("p-inputwrapper-filled",e.filled)("p-inputwrapper-focus",e.focused)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",step:"step",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",disabled:"disabled",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown"},features:[Oa([q_])],decls:6,vars:30,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","disabled","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(t,e){var n,i,r,s,o,a;1&t&&(Co(0,"span",0),Co(1,"input",1,2),Oo("input",function(t){return e.onUserInput(t)})("keydown",function(t){return e.onInputKeyDown(t)})("keypress",function(t){return e.onInputKeyPress(t)})("paste",function(t){return e.onPaste(t)})("click",function(){return e.onInputClick()})("focus",function(t){return e.onInputFocus(t)})("blur",function(t){return e.onInputBlur(t)}),So(),vo(3,j_,3,12,"span",3),vo(4,z_,1,6,"button",4),vo(5,B_,1,6,"button",4),So()),2&t&&(ea(e.styleClass),wo("ngClass",(n=26,i=U_,r=e.showButtons&&"stacked"===e.buttonLayout,s=e.showButtons&&"horizontal"===e.buttonLayout,o=e.showButtons&&"vertical"===e.buttonLayout,function(t,e,n,i,r,s,o,a){const l=e+n;return function(t,e,n,i,r){const s=mo(t,e,n,i);return go(t,e+2,r)||s}(t,l,r,s,o)?po(t,l+3,a?i.call(a,r,s,o):i(r,s,o)):Bl(t,l+3)}(Ae(),Fe(),n,i,r,s,o,a)))("ngStyle",e.style),Wr(1),ea(e.inputStyleClass),wo("ngClass","p-inputnumber-input")("ngStyle",e.inputStyle)("value",e.formattedValue())("disabled",e.disabled),yo("placeholder",e.placeholder)("title",e.title)("id",e.inputId)("size",e.size)("name",e.name)("autocomplete",e.autocomplete)("maxlength",e.maxlength)("tabindex",e.tabindex)("aria-label",e.ariaLabel)("aria-required",e.ariaRequired)("required",e.required)("aria-valuemin",e.min)("aria-valuemax",e.max),Wr(2),wo("ngIf",e.showButtons&&"stacked"===e.buttonLayout),Wr(1),wo("ngIf",e.showButtons&&"stacked"!==e.buttonLayout),Wr(1),wo("ngIf",e.showButtons&&"stacked"!==e.buttonLayout))},directives:[Ic,Fc,E_,Rc,yy],styles:[".p-inputnumber{display:inline-flex}.p-inputnumber-button{align-items:center;display:flex;flex:0 0 auto;justify-content:center}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-bottom-right-radius:0;border-top-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{border-bottom-left-radius:0;border-top-left-radius:0;order:3}.p-inputnumber-buttons-horizontal .p-inputnumber-input{border-radius:0;order:2}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{border-bottom-right-radius:0;border-top-right-radius:0;order:1}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{border-bottom-left-radius:0;border-bottom-right-radius:0;order:1;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{border-radius:0;order:2;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;order:3;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}"],encapsulation:2,changeDetection:0}),t})(),W_=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},imports:[[jc,k_,vy]]}),t})();const Y_=["sliderHandle"],G_=["sliderHandleStart"],K_=["sliderHandleEnd"],Q_=function(t,e){return{left:t,width:e}};function Z_(t,e){if(1&t&&Eo(0,"span",4),2&t){const t=Ro();wo("ngStyle",jl(1,Q_,t.handleValues[0]+"%",t.handleValues[1]-t.handleValues[0]+"%"))}}const X_=function(t,e){return{bottom:t,height:e}};function J_(t,e){if(1&t&&Eo(0,"span",4),2&t){const t=Ro();wo("ngStyle",jl(1,X_,t.handleValues[0]+"%",t.handleValues[1]-t.handleValues[0]+"%"))}}const tw=function(t){return{height:t}};function ew(t,e){if(1&t&&Eo(0,"span",4),2&t){const t=Ro();wo("ngStyle",Vl(1,tw,t.handleValue+"%"))}}const nw=function(t){return{width:t}};function iw(t,e){if(1&t&&Eo(0,"span",4),2&t){const t=Ro();wo("ngStyle",Vl(1,nw,t.handleValue+"%"))}}const rw=function(t,e){return{left:t,bottom:e}};function sw(t,e){if(1&t){const t=Mo();Co(0,"span",5,6),Oo("keydown",function(e){return Ne(t),Ro().onHandleKeydown(e)})("mousedown",function(e){return Ne(t),Ro().onMouseDown(e)})("touchstart",function(e){return Ne(t),Ro().onTouchStart(e)})("touchmove",function(e){return Ne(t),Ro().onTouchMove(e)})("touchend",function(e){return Ne(t),Ro().onTouchEnd(e)}),So()}if(2&t){const t=Ro();Zo("transition",t.dragging?"none":null),wo("ngStyle",jl(8,rw,"horizontal"==t.orientation?t.handleValue+"%":null,"vertical"==t.orientation?t.handleValue+"%":null)),yo("tabindex",t.disabled?null:t.tabindex)("aria-valuemin",t.min)("aria-valuenow",t.value)("aria-valuemax",t.max)("aria-labelledby",t.ariaLabelledBy)}}const ow=function(t){return{"p-slider-handle-active":t}};function aw(t,e){if(1&t){const t=Mo();Co(0,"span",7,8),Oo("keydown",function(e){return Ne(t),Ro().onHandleKeydown(e,0)})("mousedown",function(e){return Ne(t),Ro().onMouseDown(e,0)})("touchstart",function(e){return Ne(t),Ro().onTouchStart(e,0)})("touchmove",function(e){return Ne(t),Ro().onTouchMove(e,0)})("touchend",function(e){return Ne(t),Ro().onTouchEnd(e)}),So()}if(2&t){const t=Ro();Zo("transition",t.dragging?"none":null),wo("ngStyle",jl(9,rw,t.rangeStartLeft,t.rangeStartBottom))("ngClass",Vl(12,ow,0==t.handleIndex)),yo("tabindex",t.disabled?null:t.tabindex)("aria-valuemin",t.min)("aria-valuenow",t.value?t.value[0]:null)("aria-valuemax",t.max)("aria-labelledby",t.ariaLabelledBy)}}function lw(t,e){if(1&t){const t=Mo();Co(0,"span",7,9),Oo("keydown",function(e){return Ne(t),Ro().onHandleKeydown(e,1)})("mousedown",function(e){return Ne(t),Ro().onMouseDown(e,1)})("touchstart",function(e){return Ne(t),Ro().onTouchStart(e,1)})("touchmove",function(e){return Ne(t),Ro().onTouchMove(e,1)})("touchend",function(e){return Ne(t),Ro().onTouchEnd(e)}),So()}if(2&t){const t=Ro();Zo("transition",t.dragging?"none":null),wo("ngStyle",jl(9,rw,t.rangeEndLeft,t.rangeEndBottom))("ngClass",Vl(12,ow,1==t.handleIndex)),yo("tabindex",t.disabled?null:t.tabindex)("aria-valuemin",t.min)("aria-valuenow",t.value?t.value[1]:null)("aria-valuemax",t.max)("aria-labelledby",t.ariaLabelledBy)}}const uw=function(t,e,n,i){return{"p-slider p-component":!0,"p-disabled":t,"p-slider-horizontal":e,"p-slider-vertical":n,"p-slider-animate":i}},cw={provide:Gg,useExisting:it(()=>hw),multi:!0};let hw=(()=>{class t{constructor(t,e,n,i){this.el=t,this.renderer=e,this.ngZone=n,this.cd=i,this.min=0,this.max=100,this.orientation="horizontal",this.tabindex=0,this.onChange=new Ul,this.onSlideEnd=new Ul,this.handleValues=[],this.onModelChange=()=>{},this.onModelTouched=()=>{},this.handleIndex=0}onMouseDown(t,e){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:e,this.bindDragListeners(),t.target.focus(),t.preventDefault(),this.animate&&Mh.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onTouchStart(t,e){if(!this.disabled){var n=t.changedTouches[0];this.startHandleValue=this.range?this.handleValues[e]:this.handleValue,this.dragging=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:e,"horizontal"===this.orientation?(this.startx=parseInt(n.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(n.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&Mh.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),t.preventDefault()}}onTouchMove(t,e){if(!this.disabled){var n,i=t.changedTouches[0];n="horizontal"===this.orientation?Math.floor(100*(parseInt(i.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(i.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(t,n),t.preventDefault()}}onTouchEnd(t,e){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:t,values:this.values}:{originalEvent:t,value:this.value}),this.animate&&Mh.addClass(this.el.nativeElement.children[0],"p-slider-animate"),t.preventDefault())}onBarClick(t){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(t)),this.sliderHandleClick=!1)}onHandleKeydown(t,e){this.disabled||(38==t.which||39==t.which?this.spin(t,1,e):37!=t.which&&40!=t.which||this.spin(t,-1,e))}spin(t,e,n){let i=(this.step||1)*e;this.range?(this.handleIndex=n,this.updateValue(this.values[this.handleIndex]+i),this.updateHandleValue()):(this.updateValue(this.value+i),this.updateHandleValue()),t.preventDefault()}handleChange(t){let e=this.calculateHandleValue(t);this.setValueFromHandle(t,e)}bindDragListeners(){this.ngZone.runOutsideAngular(()=>{const t=this.el?this.el.nativeElement.ownerDocument:"document";this.dragListener||(this.dragListener=this.renderer.listen(t,"mousemove",t=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(t)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(t,"mouseup",t=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.onSlideEnd.emit(this.range?{originalEvent:t,values:this.values}:{originalEvent:t,value:this.value}),this.animate&&Mh.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()}setValueFromHandle(t,e){this.sliderHandleClick=!1;let n=this.getValueFromHandle(e);this.range?this.step?this.handleStepChange(n,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=e,this.updateValue(n,t)):this.step?this.handleStepChange(n,this.value):(this.handleValue=e,this.updateValue(n,t)),this.cd.markForCheck()}handleStepChange(t,e){let n=t-e,i=e;n<0?i=e+Math.ceil(t/this.step-e/this.step)*this.step:n>0&&(i=e+Math.floor(t/this.step-e/this.step)*this.step),this.updateValue(i),this.updateHandleValue()}writeValue(t){this.range?this.values=t||[0,0]:this.value=t||0,this.updateHandleValue(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?"auto":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?"auto":this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let t=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=t.left+Mh.getWindowScrollLeft(),this.initY=t.top+Mh.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(t){return"horizontal"===this.orientation?100*(t.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-t.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min)}updateValue(t,e){if(this.range){let n=t;0==this.handleIndex?(n<this.min?(n=this.min,this.handleValues[0]=0):n>this.values[1]&&(n=this.values[1],this.handleValues[0]=this.handleValues[1]),this.sliderHandleStart.nativeElement.focus()):(n>this.max?(n=this.max,this.handleValues[1]=100):n<this.values[0]&&(n=this.values[0],this.handleValues[1]=this.handleValues[0]),this.sliderHandleEnd.nativeElement.focus()),this.values[this.handleIndex]=this.getNormalizedValue(n),this.values=this.values.slice(),this.onModelChange(this.values),this.onChange.emit({event:e,values:this.values})}else t<this.min?(t=this.min,this.handleValue=0):t>this.max&&(t=this.max,this.handleValue=100),this.value=this.getNormalizedValue(t),this.onModelChange(this.value),this.onChange.emit({event:e,value:this.value}),this.sliderHandle.nativeElement.focus()}getValueFromHandle(t){return t/100*(this.max-this.min)+this.min}getDecimalsCount(t){return t&&Math.floor(t)!==t&&t.toString().split(".")[1].length||0}getNormalizedValue(t){let e=this.getDecimalsCount(this.step);return e>0?+t.toFixed(e):Math.floor(t)}ngOnDestroy(){this.unbindDragListeners()}}return t.\u0275fac=function(e){return new(e||t)(_o(Va),_o(Ba),_o(Nu),_o(hl))},t.\u0275cmp=Lt({type:t,selectors:[["p-slider"]],viewQuery:function(t,e){if(1&t&&(nu(Y_,1),nu(G_,1),nu(K_,1)),2&t){let t;eu(t=ru())&&(e.sliderHandle=t.first),eu(t=ru())&&(e.sliderHandleStart=t.first),eu(t=ru())&&(e.sliderHandleEnd=t.first)}},inputs:{min:"min",max:"max",orientation:"orientation",tabindex:"tabindex",disabled:"disabled",animate:"animate",step:"step",range:"range",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[Oa([cw])],decls:8,vars:16,consts:[[3,"ngStyle","ngClass","click"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],[1,"p-slider-handle",3,"ngStyle","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandle",""],[1,"p-slider-handle",3,"ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandleStart",""],["sliderHandleEnd",""]],template:function(t,e){1&t&&(Co(0,"div",0),Oo("click",function(t){return e.onBarClick(t)}),vo(1,Z_,1,4,"span",1),vo(2,J_,1,4,"span",1),vo(3,ew,1,3,"span",1),vo(4,iw,1,3,"span",1),vo(5,sw,2,11,"span",2),vo(6,aw,2,14,"span",3),vo(7,lw,2,14,"span",3),So()),2&t&&(ea(e.styleClass),wo("ngStyle",e.style)("ngClass",zl(11,uw,e.disabled,"horizontal"==e.orientation,"vertical"==e.orientation,e.animate)),Wr(1),wo("ngIf",e.range&&"horizontal"==e.orientation),Wr(1),wo("ngIf",e.range&&"vertical"==e.orientation),Wr(1),wo("ngIf",!e.range&&"vertical"==e.orientation),Wr(1),wo("ngIf",!e.range&&"horizontal"==e.orientation),Wr(1),wo("ngIf",!e.range),Wr(1),wo("ngIf",e.range),Wr(1),wo("ngIf",e.range))},directives:[Fc,Ic,Rc],styles:[".p-slider{position:relative}.p-slider .p-slider-handle{cursor:grab;touch-action:none}.p-slider-range,.p-slider .p-slider-handle{display:block;position:absolute}.p-slider-horizontal .p-slider-range{height:100%;left:0;top:0}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}"],encapsulation:2,changeDetection:0}),t})(),dw=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},imports:[[jc]]}),t})();const fw=["canvas"],pw=["skeleton"],gw=function(){return{width:"100%",height:"100%"}};function mw(t,e){1&t&&(Co(0,"div",null,13),Eo(2,"p-skeleton",14),So()),2&t&&Jo(Fl(2,gw))}function yw(t,e){if(1&t){const t=Mo();Co(0,"p-inputNumber",15),Oo("ngModelChange",function(e){return Ne(t),Ro().speed=e}),So(),Co(1,"p-slider",16),Oo("ngModelChange",function(e){return Ne(t),Ro().speed=e}),So()}if(2&t){const t=Ro();wo("min",.5)("max",3)("minFractionDigits",1)("maxFractionDigits",1)("ngModel",t.speed),Wr(1),wo("min",.5)("max",3)("step",.1)("ngModel",t.speed)}}const vw=function(t){return{width:"100%",height:t}};let bw=(()=>{class t{constructor(t,e,n,i,r,s){this.router=t,this.scenarioService=e,this.sceneService=n,this.playgroundService=i,this.messageService=r,this.dialogService=s,this._speed=1,this.isVisualizationLoading=!0,this.widthHeight=[0,0]}ngAfterViewInit(){setTimeout(()=>this.init(),600)}init(){this.widthHeight=[this.skeletonElement.nativeElement.offsetWidth,this.skeletonElement.nativeElement.offsetHeight-10],this.setupSvg();const t=this.svg.append("g").attr("class","canvas");this.scenarioService.initSimulation(t,this.widthHeight,this.promptString(this.dialogService)),this.scenarioService.startSimulation(this.svg),this.scenarioService.simulation.camera.focusSvg(),this.scenarioService.simulation.interactable=!1,this.readScene()}openInPlayground(){this.router.navigate(["playground"])}setupSvg(){this.svg=Ty.select(this.canvasElement.nativeElement).append("svg").attr("id","svgCanvas").attr("height",this.widthHeight[1]).attr("width",this.widthHeight[0]).style("background","#282828"),s_.addArrowhead(this.svg),this.svg.append("filter").attr("id","blur").append("feGaussianBlur").attr("stdDeviation",5)}play(){return Cy(this,void 0,void 0,function*(){this.scene.played="playing";try{yield this.scene.play(this.scenarioService.simulation)}catch(t){this.messageService.add({severity:"error",summary:"Error",detail:t}),console.log(t)}this.scene.played="played",this.sceneService.played.next("played")})}readScene(){this.sceneService.scene.pipe(jb(50)).subscribe(t=>Cy(this,void 0,void 0,function*(){this.isVisualizationLoading=!0,yield this.setScene(t),this.isVisualizationLoading=!1}))}setScene(t){return Cy(this,void 0,void 0,function*(){this.scenarioService.simulation.reset(),yield t.setup(this.scenarioService.simulation),this.sceneService.set.next(!0)})}resetScene(){return Cy(this,void 0,void 0,function*(){yield this.setScene(this.scene),this.scene.played="not_played",this.sceneService.played.next("not_played")})}onResize(){this.widthHeight=this.isVisualizationLoading?[this.skeletonElement.nativeElement.offsetWidth,this.skeletonElement.nativeElement.offsetHeight-10]:[this.canvasElement.nativeElement.offsetWidth,this.canvasElement.nativeElement.offsetHeight-10],Ty.select("#svgCanvas").attr("height",this.widthHeight[1]).attr("width",this.widthHeight[0]),this.scenarioService.updateWidthHeight(this.widthHeight)}promptString(t){return e=>Cy(this,void 0,void 0,function*(){const n=t.open(T_,{header:e,baseZIndex:1e3,width:"50%"});return yield n.onClose.toPromise()})}get speed(){return this._speed}set speed(t){this._speed=t}get scene(){return this.sceneService.scene.getValue()}}return t.\u0275fac=function(e){return new(e||t)(_o(Eg),_o(pb),_o(Pb),_o(A_),_o(Sh),_o(S_))},t.\u0275cmp=Lt({type:t,selectors:[["app-visualization-view"]],viewQuery:function(t,e){if(1&t&&(nu(fw,1),nu(pw,1)),2&t){let t;eu(t=ru())&&(e.canvasElement=t.first),eu(t=ru())&&(e.skeletonElement=t.first)}},hostBindings:function(t,e){1&t&&Oo("resize",function(t){return e.onResize(t)},!1,rr)},decls:13,vars:8,consts:[[1,"visualization-content"],["canvas",""],[3,"style",4,"ngIf"],[1,"visualization-footer"],[1,"p-d-flex","p-flex-row"],[1,"p-buttonset"],["icon","pi pi-play","label","Play","pRipple","","pButton","",1,"p-button","p-button-info","p-button-icon","p-button-rounded",3,"disabled","click"],["icon","pi pi-clock","label","Speed","pRipple","","pButton","",1,"p-button","p-button-info","p-button-icon","p-button-rounded",3,"click"],["icon","pi pi-refresh","label","Reset","pRipple","","pButton","",1,"p-button","p-button-info","p-button-icon","p-button-rounded",3,"disabled","click"],["appendTo","body",3,"showCloseIcon"],["op",""],["pTemplate",""],["label","OPEN IN PLAYGROUND","icon","pi pi-external-link","pRipple","","pButton","",1,"p-button","p-button-sm","p-button-text","p-button-secondary","visualize-button",3,"click"],["skeleton",""],["width","100%","height","100%"],["mode","decimal",3,"min","max","minFractionDigits","maxFractionDigits","ngModel","ngModelChange"],[3,"min","max","step","ngModel","ngModelChange"]],template:function(t,e){if(1&t){const t=Mo();Eo(0,"div",0,1),vo(2,mw,3,3,"div",2),Co(3,"div",3),Co(4,"div",4),Co(5,"span",5),Co(6,"button",6),Oo("click",function(){return e.play()}),So(),Co(7,"button",7),Oo("click",function(e){return Ne(t),bo(10).toggle(e)}),So(),Co(8,"button",8),Oo("click",function(){return e.resetScene()}),So(),So(),So(),Co(9,"p-overlayPanel",9,10),vo(11,yw,2,9,"ng-template",11),So(),Co(12,"button",12),Oo("click",function(){return e.openInPlayground()}),So(),So()}2&t&&(Jo(Vl(6,vw,e.isVisualizationLoading?0:"100%")),Wr(2),wo("ngIf",e.isVisualizationLoading),Wr(4),wo("disabled","not_played"!==e.scene.played),Wr(2),wo("disabled","played"!==e.scene.played),Wr(1),wo("showCloseIcon",!0))},directives:[Rc,Ih,yy,R_,Th,Xb,$_,wm,oy,hw],styles:[".visualization-content[_ngcontent-%COMP%]{height:100%}.visualization-footer[_ngcontent-%COMP%]{position:absolute;padding-top:1rem;background-color:#2f2f2f;display:flex;flex-direction:column;justify-content:space-around;align-items:center;bottom:0;width:100%;height:auto}.visualize-button[_ngcontent-%COMP%]{font-size:.7rem;font-weight:500;margin:2px;padding:2px}  .canvas{font-family:Courier New,sans-serif;font-weight:500}  .canvas text{-webkit-user-select:none;user-select:none;pointer-events:none}"]}),t})();function _w(t,e){if(1&t){const t=Mo();Co(0,"button",10),Oo("click",function(){return Ne(t),Ro().showNext()}),So()}}function ww(t,e){if(1&t){const t=Mo();Co(0,"button",11),Oo("click",function(){return Ne(t),Ro().finish()}),So()}}const xw=["canvas"],Cw=["skeleton"],Sw=function(){return{width:"100%",height:"100%"}};function Ew(t,e){1&t&&(Co(0,"div",null,9),Eo(2,"p-skeleton",10),So()),2&t&&Jo(Fl(2,Sw))}function kw(t,e){if(1&t){const t=Mo();Co(0,"p-inputNumber",11),Oo("ngModelChange",function(e){return Ne(t),Ro().speed=e}),So(),Co(1,"p-slider",12),Oo("ngModelChange",function(e){return Ne(t),Ro().speed=e}),So()}if(2&t){const t=Ro();wo("min",.5)("max",3)("minFractionDigits",1)("maxFractionDigits",1)("ngModel",t.speed),Wr(1),wo("min",.5)("max",3)("step",.1)("ngModel",t.speed)}}const Tw=function(t){return{width:"100%",height:t}},Aw=[{path:"",component:_y,children:[{path:"",component:Db},{path:"visualize/:path",redirectTo:"visualize/:path/0"},{path:"visualize/:path/:sceneIndex",component:(()=>{class t{constructor(t,e,n,i){this.scenarioService=t,this.sceneService=e,this.activatedRoute=n,this.router=i,this.isContentLoading=!0}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.isContentLoading=!0,t.path&&t.sceneIndex||this.router.navigate([""]),this.scenarioPath=t.path,this.sceneIndex=parseInt(t.sceneIndex,10),this.prepareScene()})}prepareScene(){const t=this.scenarioService.scenarios.find(t=>t.path===this.scenarioPath);t&&t.scenes.length<1&&this.router.navigate([""]),this.scenarioService.currentScenario.next(t);const e=new(0,this.scenes[this.sceneIndex]);e.isFirst=0===this.sceneIndex,e.isLast=this.sceneIndex===this.scenes.length-1,this.sceneService.scene.next(e),this.sceneService.played.next(e.played),this.sceneService.set.next(!1),this.isContentLoading=!1}showNext(){this.sceneIndex<this.scenes.length-1&&this.router.navigate([`../${(this.sceneIndex+1).toString()}`],{relativeTo:this.activatedRoute})}showPrevious(){this.sceneIndex>0&&this.router.navigate([`../${(this.sceneIndex-1).toString()}`],{relativeTo:this.activatedRoute})}finish(){this.router.navigate([""])}get scenes(){return this.scenarioService.currentScenario.getValue().scenes}get scene(){return this.sceneService.scene.getValue()}}return t.\u0275fac=function(e){return new(e||t)(_o(pb),_o(Pb),_o(op),_o(Eg))},t.\u0275cmp=Lt({type:t,selectors:[["app-scene-view"]],decls:12,vars:4,consts:[[1,"p-grid","p-mx-0"],[1,"p-col-12","p-sm-6","p-md-4","p-px-0","p-pb-0"],[1,"text-part"],[3,"isContentLoading"],[1,"text-footer","p-ai-center","p-text-right"],["icon","pi pi-angle-left","label","Back","pRipple","","pButton","",1,"p-button","p-button-text","p-button-icon","p-button-rounded","p-mr-4",3,"disabled","click"],["class","p-button p-button-icon p-button-rounded p-mr-4","icon","pi pi-angle-double-right","label","Next","pRipple","","pButton","",3,"click",4,"ngIf","ngIfElse"],["finishButton",""],[1,"p-col-12","p-sm-6","p-md-8","p-px-0","p-pb-0"],[1,"visualization-part"],["icon","pi pi-angle-double-right","label","Next","pRipple","","pButton","",1,"p-button","p-button-icon","p-button-rounded","p-mr-4",3,"click"],["icon","pi pi-check","label","Finish","pRipple","","pButton","",1,"p-button","p-button-icon","p-button-rounded","p-mr-4",3,"click"]],template:function(t,e){if(1&t&&(Co(0,"div",0),Co(1,"div",1),Co(2,"div",2),Eo(3,"app-content-view",3),Co(4,"div",4),Co(5,"button",5),Oo("click",function(){return e.showPrevious()}),So(),vo(6,_w,1,0,"button",6),vo(7,ww,1,0,"ng-template",null,7,lu),So(),So(),So(),Co(9,"div",8),Co(10,"div",9),Eo(11,"app-visualization-view"),So(),So(),So()),2&t){const t=bo(8);Wr(3),wo("isContentLoading",e.isContentLoading),Wr(2),wo("disabled",null==e.scene?null:e.scene.isFirst),Wr(1),wo("ngIf",!(null!=e.scene&&e.scene.isLast))("ngIfElse",t)}},directives:[r_,Ih,yy,Rc,bw],styles:[".text-part[_ngcontent-%COMP%]{align-items:stretch;background-color:#111;height:93vh;position:relative;z-index:0}.text-footer[_ngcontent-%COMP%]{position:absolute;background-color:#262626;display:flex;justify-content:flex-end;align-content:center;bottom:0;width:100%;height:9vh;z-index:1000}.visualization-part[_ngcontent-%COMP%]{align-items:stretch;height:93vh;position:relative}"]}),t})()},{path:"playground",component:(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.scenarioService=e,this.sceneService=n,this.messageService=i,this.dialogService=r,this._speed=1,this.isVisualizationLoading=!0,this.widthHeight=[0,0]}ngAfterViewInit(){setTimeout(()=>this.init(),600)}init(){this.widthHeight=[window.innerWidth,window.innerHeight-70],this.setupSvg();const t=this.svg.append("g").attr("class","canvas");this.scenarioService.initSimulation(t,this.widthHeight,this.promptString(this.dialogService)),this.scenarioService.startSimulation(this.svg),this.scenarioService.simulation.camera.focusSvg(),this.sceneService.scene.subscribe(t=>Cy(this,void 0,void 0,function*(){this.isVisualizationLoading=!0,t&&(yield t.setup(this.scenarioService.simulation)),this.isVisualizationLoading=!1}))}setupSvg(){this.svg=Ty.select(this.canvasElement.nativeElement).append("svg").attr("id","svgCanvas").attr("height",this.widthHeight[1]).attr("width",this.widthHeight[0]).style("background","#282828"),s_.addArrowhead(this.svg),this.svg.append("filter").attr("id","blur").append("feGaussianBlur").attr("stdDeviation",5)}onResize(){this.widthHeight=[window.innerWidth,window.innerHeight-70],Ty.select("#svgCanvas").attr("height",this.widthHeight[1]).attr("width",this.widthHeight[0]),this.scenarioService.updateWidthHeight(this.widthHeight)}promptString(t){return e=>t.open(T_,{header:e,baseZIndex:1e3}).onClose.pipe(Sd(1)).toPromise()}get speed(){return this._speed}set speed(t){this._speed=t}}return t.\u0275fac=function(e){return new(e||t)(_o(Eg),_o(pb),_o(Pb),_o(Sh),_o(S_))},t.\u0275cmp=Lt({type:t,selectors:[["app-playground"]],viewQuery:function(t,e){if(1&t&&(nu(xw,1),nu(Cw,1)),2&t){let t;eu(t=ru())&&(e.canvasElement=t.first),eu(t=ru())&&(e.skeletonElement=t.first)}},hostBindings:function(t,e){1&t&&Oo("resize",function(t){return e.onResize(t)},!1,rr)},decls:10,vars:6,consts:[[1,"visualization-content"],["canvas",""],[3,"style",4,"ngIf"],[1,"visualization-footer"],[1,"p-d-flex","p-flex-row"],["icon","pi pi-clock","label","Speed","pRipple","","pButton","",1,"p-button","p-button-info","p-button-icon","p-button-rounded","p-mb-2",3,"click"],["appendTo","body",3,"showCloseIcon"],["op",""],["pTemplate",""],["skeleton",""],["width","100%","height","100%"],["mode","decimal",3,"min","max","minFractionDigits","maxFractionDigits","ngModel","ngModelChange"],[3,"min","max","step","ngModel","ngModelChange"]],template:function(t,e){if(1&t){const t=Mo();Co(0,"div"),Eo(1,"div",0,1),vo(3,Ew,3,3,"div",2),Co(4,"div",3),Co(5,"div",4),Co(6,"button",5),Oo("click",function(e){return Ne(t),bo(8).toggle(e)}),So(),So(),Co(7,"p-overlayPanel",6,7),vo(9,kw,2,9,"ng-template",8),So(),So(),So()}2&t&&(Wr(1),Jo(Vl(4,Tw,e.isVisualizationLoading?0:"100%")),Wr(2),wo("ngIf",e.isVisualizationLoading),Wr(4),wo("showCloseIcon",!0))},directives:[Rc,Ih,yy,R_,Th,Xb,$_,wm,oy,hw],styles:[".visualization-content[_ngcontent-%COMP%]{height:100%}.visualization-footer[_ngcontent-%COMP%]{position:absolute;padding-top:1rem;background-color:#2f2f2f;display:flex;flex-direction:column;justify-content:space-around;align-items:center;bottom:0;width:100%;height:auto}.visualize-button[_ngcontent-%COMP%]{font-size:.7rem;font-weight:500;margin:2px;padding:2px}  .canvas{font-family:Courier New,sans-serif;font-weight:500}  .canvas text{-webkit-user-select:none;user-select:none;pointer-events:none}"]}),t})()}]}];let Mw=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},imports:[[Hg.forRoot(Aw)],Hg]}),t})();function Nw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Iw(t){switch(t.length){case 0:return new Wh;case 1:return t[0];default:return new Yh(t)}}function Ow(t,e,n,i,r={},s={}){const o=[],a=[];let l=-1,u=null;if(i.forEach(t=>{const n=t.offset,i=n==l,c=i&&u||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),a){case"!":a=r[n];break;case Ph:a=s[n];break;default:a=e.normalizeStyleValue(n,i,a,o)}c[i]=a}),i||a.push(c),u=c,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Dw(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&Pw(n,"start",t)));break;case"done":t.onDone(()=>i(n&&Pw(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&Pw(n,"destroy",t)))}}function Pw(t,e,n){const i=n.totalTime,r=Rw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(r._data=s),r}function Rw(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Hw(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function Lw(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Fw=(t,e)=>!1,Vw=(t,e)=>!1,jw=(t,e,n)=>[];const zw=Nw();(zw||"undefined"!=typeof Element)&&(Fw=(t,e)=>t.contains(e),Vw=(()=>{if(zw||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Vw}})(),jw=(t,e,n)=>{let i=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)i.push(n[t])}else{const n=t.querySelector(e);n&&i.push(n)}return i});let Bw=null,Uw=!1;function qw(t){Bw||(Bw=("undefined"!=typeof document?document.body:null)||{},Uw=!!Bw.style&&"WebkitAppearance"in Bw.style);let e=!0;return Bw.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Bw.style,!e&&Uw)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Bw.style),e}const $w=Vw,Ww=Fw,Yw=jw;function Gw(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let Kw=(()=>{class t{validateStyleProperty(t){return qw(t)}matchesElement(t,e){return $w(t,e)}containsElement(t,e){return Ww(t,e)}query(t,e,n){return Yw(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,s=[],o){return new Wh(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})(),Qw=(()=>{class t{}return t.NOOP=new Kw,t})();const Zw="ng-enter",Xw="ng-leave",Jw="ng-trigger",tx=".ng-trigger",ex="ng-animating",nx=".ng-animating";function ix(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:rx(parseFloat(e[1]),e[2])}function rx(t,e){switch(e){case"s":return 1e3*t;default:return t}}function sx(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=rx(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=rx(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:s}}(t,e,n)}function ox(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function ax(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else ox(t,n);return n}function lx(t,e,n){return n?e+":"+n+";":""}function ux(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=lx(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=lx(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function cx(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=vx(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),Nw()&&ux(t))}function hx(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=vx(e);t.style[n]=""}),Nw()&&ux(t))}function dx(t){return Array.isArray(t)?1==t.length?t[0]:Lh(t):t}const fx=new RegExp("{{\\s*(.+?)\\s*}}","g");function px(t){let e=[];if("string"==typeof t){let n;for(;n=fx.exec(t);)e.push(n[1]);fx.lastIndex=0}return e}function gx(t,e,n){const i=t.toString(),r=i.replace(fx,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function mx(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const yx=/-+([a-z0-9])/g;function vx(t){return t.replace(yx,(...t)=>t[1].toUpperCase())}function bx(t,e){return 0===t||0===e}function _x(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach(function(e){n[e]=xx(t,e)})}}return e}function wx(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function xx(t,e){return window.getComputedStyle(t)[e]}const Cx="*";function Sx(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(Tx(r,o)),"<"!=s[0]||r==Cx&&o==Cx||e.push(Tx(o,r))}(t,n,e)):n.push(t),n}const Ex=new Set(["true","1"]),kx=new Set(["false","0"]);function Tx(t,e){const n=Ex.has(t)||kx.has(t),i=Ex.has(e)||kx.has(e);return(r,s)=>{let o=t==Cx||t==r,a=e==Cx||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?Ex.has(t):kx.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?Ex.has(e):kx.has(e)),o&&a}}const Ax=new RegExp("s*:selfs*,?","g");function Mx(t,e,n){return new Nx(t).build(e,n)}class Nx{constructor(t){this._driver=t}build(t,e){const n=new Ix(e);return this._resetContextStyleTimingState(n),wx(this,dx(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(t=>{if(Ox(t)){const e=t;Object.keys(e).forEach(t=>{px(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=mx(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=wx(this,dx(t.animation),e);return{type:1,matchers:Sx(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Dx(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>wx(this,t,e)),options:Dx(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=wx(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:Dx(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Px(sx(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Px(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||sx(i,e),Px(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:Fh({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,s=!1;if(!r){s=!0;const t={};n.easing&&(t.easing=n.easing),r=Fh(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,e);o.isEmptyStep=s,i=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Ph?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(Ox(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=px(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Ox(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Ox(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=l&&(i++,u=n.offset=l),o=o||u<0||u>1,s=s||u<a,a=u,r.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;i>0&&i<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(c=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return l.forEach((t,i)=>{const s=c>0?i==h?1:c*i:r[i],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:wx(this,dx(t.animation),e),options:Dx(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Dx(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Dx(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Ax,"")),[t=t.replace(/@\*/g,tx).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,nx),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,Hw(e.collectedStyles,e.currentQuerySelector,{});const o=wx(this,dx(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Dx(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:sx(t.timings,e.errors,!0);return{type:12,animation:wx(this,dx(t.animation),e),timings:n,options:null}}}class Ix{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Ox(t){return!Array.isArray(t)&&"object"==typeof t}function Dx(t){var e;return t?(t=ox(t)).params&&(t.params=(e=t.params)?ox(e):null):t={},t}function Px(t,e,n){return{duration:t,delay:e,easing:n}}function Rx(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Hx{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Lx=new RegExp(":enter","g"),Fx=new RegExp(":leave","g");function Vx(t,e,n,i,r,s={},o={},a,l,u=[]){return(new jx).buildKeyframes(t,e,n,i,r,s,o,a,l,u)}class jx{buildKeyframes(t,e,n,i,r,s,o,a,l,u=[]){l=l||new Hx;const c=new Bx(t,e,l,i,r,u,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),wx(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Rx(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?ix(n.duration):null,s=null!=n.delay?ix(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),wx(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=zx);const t=ix(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>wx(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?ix(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),wx(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return sx(e.params?gx(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?ix(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=zx);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(a=o.currentTimeline),wx(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;wx(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}const zx={};class Bx{constructor(t,e,n,i,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ux(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=ix(n.duration)),null!=n.delay&&(i.delay=ix(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=gx(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new Bx(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=zx,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new qx(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,s){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(Lx,"."+this._enterClassName)).replace(Fx,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Ux{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ux(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ph,this._currentKeyframe[t]=Ph}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},s=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]=Ph})):ax(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=gx(s[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Ph),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=ax(r,!0);Object.keys(o).forEach(n=>{const i=o[n];"!"==i?t.add(n):i==Ph&&e.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=t.size?mx(t.values()):[],s=e.size?mx(e.values()):[];if(n){const t=i[0],e=ox(t);t.offset=0,e.offset=1,i=[t,e]}return Rx(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class qx extends Ux{constructor(t,e,n,i,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=n+e,o=e/s,a=ax(t[0],!1);a.offset=0,r.push(a);const l=ax(t[0],!1);l.offset=$x(o),r.push(l);const u=t.length-1;for(let i=1;i<=u;i++){let o=ax(t[i],!1);o.offset=$x((e+o.offset*n)/s),r.push(o)}n=s,e=0,i="",t=r}return Rx(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function $x(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Wx{}class Yx extends Wx{normalizePropertyName(t,e){return vx(t)}normalizeStyleValue(t,e,n,i){let r="";const s=n.toString().trim();if(Gx[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+r}}const Gx=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Kx(t,e,n,i,r,s,o,a,l,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const Qx={};class Zx{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):s}build(t,e,n,i,r,s,o,a,l,u){const c=[],h=this.ast.options&&this.ast.options.params||Qx,d=this.buildStyles(n,o&&o.params||Qx,c),f=a&&a.params||Qx,p=this.buildStyles(i,f,c),g=new Set,m=new Map,y=new Map,v="void"===i,b={params:Object.assign(Object.assign({},h),f)},_=u?[]:Vx(t,e,this.ast.animation,r,s,d,p,b,l,c);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return Kx(e,this._triggerName,n,i,v,d,p,[],[],m,y,w,c);_.forEach(t=>{const n=t.element,i=Hw(m,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=Hw(y,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&g.add(n)});const x=mx(g.values());return Kx(e,this._triggerName,n,i,v,d,p,_,x,m,y,w)}}class Xx{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=ox(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=gx(s,i,e)),n[t]=s})}}),n}}class Jx{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Xx(t.style,t.options&&t.options.params||{})}),tC(this.states,"true","1"),tC(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Zx(t,e,this.states))}),this.fallbackTransition=new Zx(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function tC(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const eC=new Hx;class nC{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=Mx(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=Ow(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let s;const o=new Map;if(r?(s=Vx(this._driver,e,r,Zw,Xw,{},{},n,eC,i),s.forEach(t=>{const e=Hw(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Ph)})});const a=Iw(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=Rw(e,"","","");return Dw(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const iC="ng-animate-queued",rC="ng-animate-disabled",sC=".ng-animate-disabled",oC=[],aC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lC={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class uC{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=ox(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const cC="void",hC=new uC(cC);class dC{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,bC(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const s=Hw(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};s.push(o);const a=Hw(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(bC(t,Jw),bC(t,"ng-trigger-"+e),a[e]=hC),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),s=new pC(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(bC(t,Jw),bC(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new uC(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=hC),l.value!==cC&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,l.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{hx(t,n),cx(t,i)})}return}const u=Hw(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=r.matchTransition(a.value,l.value,t,l.params),h=!1;if(!c){if(!i)return;c=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(bC(t,iC),s.onStart(()=>{_C(t,iC)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,tx,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,cC,i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Iw(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,s=this._engine.statesByElement.get(t)[i]||hC,o=new uC(cC),a=new pC(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==aC||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){bC(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=Rw(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,Dw(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class fC{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new dC(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(gC(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!gC(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),bC(t,rC)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),_C(t,rC))}removeNode(t,e,n,i){if(gC(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return gC(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,tx,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,nx,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Iw(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=aC,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,sC)&&this.markElementAsDisabled(t,!1),this.driver.query(t,sC,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)bC(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Iw(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Hx,i=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=vC(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=Zw+p++;f.set(e,n),t.forEach(t=>bC(t,n))});const g=[],m=new Set,y=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){const t=this.collectedLeaveElements[N],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=vC(h,Array.from(m));b.forEach((t,e)=>{const n=Xw+p++;v.set(e,n),t.forEach(t=>bC(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>_C(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>_C(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(_.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,r),h=v.get(r),d=f.get(r),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>hx(r,p.fromStyles)),e.onDestroy(()=>cx(r,p.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>hx(r,p.fromStyles)),e.onDestroy(()=>cx(r,p.toStyles)),void i.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,p.timelines),s.push({instruction:p,player:e,element:r}),p.queriedElements.forEach(t=>Hw(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=l.get(e);i||l.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Hw(x,e,[]).push(t),t.destroy()})});const S=g.filter(t=>CC(t,a,l)),E=new Map;yC(E,this.driver,y,l,Ph).forEach(t=>{CC(t,a,l)&&S.push(t)});const k=new Map;d.forEach((t,e)=>{yC(k,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=E.get(t),n=k.get(t);E.set(t,Object.assign(Object.assign({},e),n))});const T=[],A=[],M={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>cx(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let t=M;if(C.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,x,r,k,E);if(s.setRealPlayer(n),t===M)T.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Iw(e)),i.push(s)}}else hx(e,o.fromStyles),s.onDestroy(()=>cx(e,o.toStyles)),A.push(s),u.has(e)&&i.push(s)}),A.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=Iw(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let N=0;N<g.length;N++){const t=g[N],e=t.__ng_removed;if(_C(t,Xw),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,nx,!0);for(let t=0;t<i.length;t++){let e=o.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?wC(this,t,i):this.processLeaveNode(t)}return g.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||r==cC;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==i,l=Hw(n,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}hx(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,s){const o=e.triggerName,a=e.element,l=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Wh(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return xC(t,e),e}((n.get(h)||oC).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=r.get(h),m=s.get(h),y=Ow(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&i&&c.add(h),f){const e=new pC(t,o,h);e.setRealPlayer(v),l.push(e)}return v});l.forEach(t=>{Hw(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>bC(t,ex));const d=Iw(h);return d.onDestroy(()=>{u.forEach(t=>_C(t,ex)),cx(a,e.toStyles)}),c.forEach(t=>{Hw(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Wh(t.duration,t.delay)}}class pC{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Wh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Dw(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Hw(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function gC(t){return t&&1===t.nodeType}function mC(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function yC(t,e,n,i,r){const s=[];n.forEach(t=>s.push(mC(t)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=lC,o.push(i))}),t.set(i,s)});let a=0;return n.forEach(t=>mC(t,s[a++])),o}function vC(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;function s(t){if(!t)return 1;let e=r.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:i.has(o)?1:s(o),r.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function bC(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function _C(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function wC(t,e,n){Iw(n).onDone(()=>t.processLeaveNode(e))}function xC(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof Yh?xC(i.players,e):e.push(i)}}function CC(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class SC{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new fC(t,e,n),this._timelineEngine=new nC(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const s=t+"-"+i;let o=this._triggerCache[s];if(!o){const t=[],e=Mx(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Jx(t,e)}(i,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=Lw(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=Lw(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function EC(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=TC(e[0]),e.length>1&&(i=TC(e[e.length-1]))):e&&(n=TC(e)),n||i?new kC(t,n,i):null}let kC=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&cx(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(cx(this._element,this._initialStyles),this._endStyles&&(cx(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(hx(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hx(this._element,this._endStyles),this._endStyles=null),cx(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function TC(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];AC(r)&&(e=e||{},e[r]=t[r])}return e}function AC(t){return"display"===t||"position"===t}const MC="animation",NC="animationend";class IC{constructor(t,e,n,i,r,s,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=LC(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),HC(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),RC(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){OC(this._element,this._name,"paused")}resume(){OC(this._element,this._name,"running")}setPosition(t){const e=DC(this._element,this._name);this._position=t*this._duration,HC(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),RC(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=LC(t,"").split(","),i=PC(n,e);i>=0&&(n.splice(i,1),HC(t,"",n.join(",")))}(this._element,this._name))}}function OC(t,e,n){HC(t,"PlayState",n,DC(t,e))}function DC(t,e){const n=LC(t,"");return n.indexOf(",")>0?PC(n.split(","),e):PC([n],e)}function PC(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function RC(t,e,n){n?t.removeEventListener(NC,e):t.addEventListener(NC,e)}function HC(t,e,n,i){const r=MC+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function LC(t,e){return t.style[MC+e]||""}class FC{constructor(t,e,n,i,r,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new IC(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:xx(this.element,n))})}this.currentSnapshot=t}}class VC extends Wh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Gw(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class jC{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return qw(t)}matchesElement(t,e){return $w(t,e)}containsElement(t,e){return Ww(t,e)}query(t,e,n){return Yw(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Gw(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const s=document.createElement("style");return s.textContent=i,s}animate(t,e,n,i,r,s=[],o){const a=s.filter(t=>t instanceof FC),l={};bx(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=_x(t,e,l));if(0==n)return new VC(t,u);const c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=EC(t,e),f=new FC(t,e,c,n,i,r,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class zC{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:xx(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class BC{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(UC().toString()),this._cssKeyframesDriver=new jC}validateStyleProperty(t){return qw(t)}matchesElement(t,e){return $w(t,e)}containsElement(t,e){return Ww(t,e)}query(t,e,n){return Yw(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},u=s.filter(t=>t instanceof zC);bx(n,i)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=EC(t,e=_x(t,e=e.map(t=>ax(t,!1)),l));return new zC(t,e,a,c)}}function UC(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let qC=(()=>{class t extends Dh{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:wt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Lh(t):t;return YC(this._renderer,null,e,"register",[n]),new $C(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(oi(za),oi(uc))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();class $C extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new WC(this._id,t,e||{},this._renderer)}}class WC{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return YC(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function YC(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const GC="@",KC="@.disabled";let QC=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new ZC("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(s),new XC(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(oi(za),oi(SC),oi(Nu))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();class ZC{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==GC&&e==KC?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class XC extends ZC{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==GC?"."==e.charAt(1)&&e==KC?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==GC){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return r.charAt(0)!=GC&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let JC=(()=>{class t extends SC{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(oi(uc),oi(Qw),oi(Wx))},t.\u0275prov=ot({token:t,factory:t.\u0275fac}),t})();const tS=[{provide:Qw,useFactory:function(){return"function"==typeof UC()?new BC:new jC}},{provide:new Bn("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Dh,useClass:qC},{provide:Wx,useFactory:function(){return new Yx}},{provide:SC,useClass:JC},{provide:za,useFactory:function(t,e,n){return new QC(t,e,n)},deps:[sh,SC,Nu]}];let eS=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},providers:tS,imports:[bh]}),t})(),nS=(()=>{class t{}return t.\u0275mod=zt({type:t,bootstrap:[$g]}),t.\u0275inj=at({factory:function(e){return new(e||t)},providers:[Sh,S_],imports:[[bh,eS,fb,Wg,gy,my,Mw,vy,Ah,Tb,Oh,H_,k_,dw,W_,Jb,od,Zb,x_]]}),t})();(function(){if(Uu)throw new Error("Cannot enable prod mode after platform setup.");Bu=!1})(),yh().bootstrapModule(nS).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);